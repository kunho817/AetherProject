(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function To(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const He={},Mn=[],qt=()=>{},wr=()=>!1,Us=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Mo=e=>e.startsWith("onUpdate:"),st=Object.assign,Ao=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},$r=Object.prototype.hasOwnProperty,Oe=(e,t)=>$r.call(e,t),_e=Array.isArray,An=e=>rs(e)==="[object Map]",On=e=>rs(e)==="[object Set]",ni=e=>rs(e)==="[object Date]",Te=e=>typeof e=="function",Ze=e=>typeof e=="string",Rt=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",Yi=e=>(qe(e)||Te(e))&&Te(e.then)&&Te(e.catch),Wi=Object.prototype.toString,rs=e=>Wi.call(e),Tr=e=>rs(e).slice(8,-1),Ki=e=>rs(e)==="[object Object]",Ro=e=>Ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qn=To(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mr=/-(\w)/g,Mt=Fs(e=>e.replace(Mr,(t,n)=>n?n.toUpperCase():"")),Ar=/\B([A-Z])/g,Sn=Fs(e=>e.replace(Ar,"-$1").toLowerCase()),Bs=Fs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qs=Fs(e=>e?`on${Bs(e)}`:""),un=(e,t)=>!Object.is(e,t),_s=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},fo=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},$s=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Rr=e=>{const t=Ze(e)?Number(e):NaN;return isNaN(t)?e:t};let si;const Ds=()=>si||(si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ye(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=Ze(o)?Nr(o):Ye(o);if(i)for(const a in i)t[a]=i[a]}return t}else if(Ze(e)||qe(e))return e}const xr=/;(?![^(]*\))/g,Ir=/:([^]+)/,Pr=/\/\*[^]*?\*\//g;function Nr(e){const t={};return e.replace(Pr,"").split(xr).forEach(n=>{if(n){const o=n.split(Ir);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function fe(e){let t="";if(Ze(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const o=fe(e[n]);o&&(t+=o+" ")}else if(qe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Or="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lr=To(Or);function Xi(e){return!!e||e===""}function Ur(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ls(e[o],t[o]);return n}function ls(e,t){if(e===t)return!0;let n=ni(e),o=ni(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Rt(e),o=Rt(t),n||o)return e===t;if(n=_e(e),o=_e(t),n||o)return n&&o?Ur(e,t):!1;if(n=qe(e),o=qe(t),n||o){if(!n||!o)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const r in e){const u=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(u&&!l||!u&&l||!ls(e[r],t[r]))return!1}}return String(e)===String(t)}function xo(e,t){return e.findIndex(n=>ls(n,t))}const Qi=e=>!!(e&&e.__v_isRef===!0),w=e=>Ze(e)?e:e==null?"":_e(e)||qe(e)&&(e.toString===Wi||!Te(e.toString))?Qi(e)?w(e.value):JSON.stringify(e,Ji,2):String(e),Ji=(e,t)=>Qi(t)?Ji(e,t.value):An(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,i],a)=>(n[Js(o,a)+" =>"]=i,n),{})}:On(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Js(n))}:Rt(t)?Js(t):qe(t)&&!_e(t)&&!Ki(t)?String(t):t,Js=(e,t="")=>{var n;return Rt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lt;class Zi{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=lt,!t&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=lt;try{return lt=this,t()}finally{lt=n}}}on(){++this._on===1&&(this.prevScope=lt,lt=this)}off(){this._on>0&&--this._on===0&&(lt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ea(e){return new Zi(e)}function ta(){return lt}function Fr(e,t=!1){lt&&lt.cleanups.push(e)}let ze;const Zs=new WeakSet;class na{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,lt&&lt.active&&lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zs.has(this)&&(Zs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||oa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oi(this),ia(this);const t=ze,n=At;ze=this,At=!0;try{return this.fn()}finally{aa(this),ze=t,At=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)No(t);this.deps=this.depsTail=void 0,oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){po(this)&&this.run()}get dirty(){return po(this)}}let sa=0,Vn,Gn;function oa(e,t=!1){if(e.flags|=8,t){e.next=Gn,Gn=e;return}e.next=Vn,Vn=e}function Io(){sa++}function Po(){if(--sa>0)return;if(Gn){let t=Gn;for(Gn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Vn;){let t=Vn;for(Vn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function ia(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function aa(e){let t,n=e.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),No(o),Br(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}e.deps=t,e.depsTail=n}function po(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ra(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ra(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Jn)||(e.globalVersion=Jn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!po(e))))return;e.flags|=2;const t=e.dep,n=ze,o=At;ze=e,At=!0;try{ia(e);const i=e.fn(e._value);(t.version===0||un(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ze=n,At=o,aa(e),e.flags&=-3}}function No(e,t=!1){const{dep:n,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)No(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Br(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let At=!0;const la=[];function Kt(){la.push(At),At=!1}function Xt(){const e=la.pop();At=e===void 0?!0:e}function oi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ze;ze=void 0;try{t()}finally{ze=n}}}let Jn=0;class Dr{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ze||!At||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Dr(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,ua(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=o)}return n}trigger(t){this.version++,Jn++,this.notify(t)}notify(t){Io();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Po()}}}function ua(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ua(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ts=new WeakMap,yn=Symbol(""),vo=Symbol(""),Zn=Symbol("");function ut(e,t,n){if(At&&ze){let o=Ts.get(e);o||Ts.set(e,o=new Map);let i=o.get(n);i||(o.set(n,i=new Oo),i.map=o,i.key=n),i.track()}}function Ht(e,t,n,o,i,a){const r=Ts.get(e);if(!r){Jn++;return}const u=l=>{l&&l.trigger()};if(Io(),t==="clear")r.forEach(u);else{const l=_e(e),v=l&&Ro(n);if(l&&n==="length"){const d=Number(o);r.forEach((c,_)=>{(_==="length"||_===Zn||!Rt(_)&&_>=d)&&u(c)})}else switch((n!==void 0||r.has(void 0))&&u(r.get(n)),v&&u(r.get(Zn)),t){case"add":l?v&&u(r.get("length")):(u(r.get(yn)),An(e)&&u(r.get(vo)));break;case"delete":l||(u(r.get(yn)),An(e)&&u(r.get(vo)));break;case"set":An(e)&&u(r.get(yn));break}}Po()}function qr(e,t){const n=Ts.get(e);return n&&n.get(t)}function En(e){const t=Re(e);return t===e?t:(ut(t,"iterate",Zn),Tt(e)?t:t.map(rt))}function qs(e){return ut(e=Re(e),"iterate",Zn),e}const Vr={__proto__:null,[Symbol.iterator](){return eo(this,Symbol.iterator,rt)},concat(...e){return En(this).concat(...e.map(t=>_e(t)?En(t):t))},entries(){return eo(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return Vt(this,"every",e,t,void 0,arguments)},filter(e,t){return Vt(this,"filter",e,t,n=>n.map(rt),arguments)},find(e,t){return Vt(this,"find",e,t,rt,arguments)},findIndex(e,t){return Vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Vt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return Vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return to(this,"includes",e)},indexOf(...e){return to(this,"indexOf",e)},join(e){return En(this).join(e)},lastIndexOf(...e){return to(this,"lastIndexOf",e)},map(e,t){return Vt(this,"map",e,t,void 0,arguments)},pop(){return Un(this,"pop")},push(...e){return Un(this,"push",e)},reduce(e,...t){return ii(this,"reduce",e,t)},reduceRight(e,...t){return ii(this,"reduceRight",e,t)},shift(){return Un(this,"shift")},some(e,t){return Vt(this,"some",e,t,void 0,arguments)},splice(...e){return Un(this,"splice",e)},toReversed(){return En(this).toReversed()},toSorted(e){return En(this).toSorted(e)},toSpliced(...e){return En(this).toSpliced(...e)},unshift(...e){return Un(this,"unshift",e)},values(){return eo(this,"values",rt)}};function eo(e,t,n){const o=qs(e),i=o[t]();return o!==e&&!Tt(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=n(a.value)),a}),i}const Gr=Array.prototype;function Vt(e,t,n,o,i,a){const r=qs(e),u=r!==e&&!Tt(e),l=r[t];if(l!==Gr[t]){const c=l.apply(e,a);return u?rt(c):c}let v=n;r!==e&&(u?v=function(c,_){return n.call(this,rt(c),_,e)}:n.length>2&&(v=function(c,_){return n.call(this,c,_,e)}));const d=l.call(r,v,o);return u&&i?i(d):d}function ii(e,t,n,o){const i=qs(e);let a=n;return i!==e&&(Tt(e)?n.length>3&&(a=function(r,u,l){return n.call(this,r,u,l,e)}):a=function(r,u,l){return n.call(this,r,rt(u),l,e)}),i[t](a,...o)}function to(e,t,n){const o=Re(e);ut(o,"iterate",Zn);const i=o[t](...n);return(i===-1||i===!1)&&Fo(n[0])?(n[0]=Re(n[0]),o[t](...n)):i}function Un(e,t,n=[]){Kt(),Io();const o=Re(e)[t].apply(e,n);return Po(),Xt(),o}const Hr=To("__proto__,__v_isRef,__isVue"),ca=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt));function jr(e){Rt(e)||(e=String(e));const t=Re(this);return ut(t,"has",e),t.hasOwnProperty(e)}class da{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return o===(i?a?tl:ma:a?va:pa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=_e(t);if(!i){let l;if(r&&(l=Vr[n]))return l;if(n==="hasOwnProperty")return jr}const u=Reflect.get(t,n,De(t)?t:o);return(Rt(n)?ca.has(n):Hr(n))||(i||ut(t,"get",n),a)?u:De(u)?r&&Ro(n)?u:u.value:qe(u)?i?Hn(u):Vs(u):u}}class fa extends da{constructor(t=!1){super(!1,t)}set(t,n,o,i){let a=t[n];if(!this._isShallow){const l=cn(a);if(!Tt(o)&&!cn(o)&&(a=Re(a),o=Re(o)),!_e(t)&&De(a)&&!De(o))return l?!1:(a.value=o,!0)}const r=_e(t)&&Ro(n)?Number(n)<t.length:Oe(t,n),u=Reflect.set(t,n,o,De(t)?t:i);return t===Re(i)&&(r?un(o,a)&&Ht(t,"set",n,o):Ht(t,"add",n,o)),u}deleteProperty(t,n){const o=Oe(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&o&&Ht(t,"delete",n,void 0),i}has(t,n){const o=Reflect.has(t,n);return(!Rt(n)||!ca.has(n))&&ut(t,"has",n),o}ownKeys(t){return ut(t,"iterate",_e(t)?"length":yn),Reflect.ownKeys(t)}}class zr extends da{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Yr=new fa,Wr=new zr,Kr=new fa(!0);const mo=e=>e,vs=e=>Reflect.getPrototypeOf(e);function Xr(e,t,n){return function(...o){const i=this.__v_raw,a=Re(i),r=An(a),u=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,v=i[e](...o),d=n?mo:t?Ms:rt;return!t&&ut(a,"iterate",l?vo:yn),{next(){const{value:c,done:_}=v.next();return _?{value:c,done:_}:{value:u?[d(c[0]),d(c[1])]:d(c),done:_}},[Symbol.iterator](){return this}}}}function ms(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qr(e,t){const n={get(i){const a=this.__v_raw,r=Re(a),u=Re(i);e||(un(i,u)&&ut(r,"get",i),ut(r,"get",u));const{has:l}=vs(r),v=t?mo:e?Ms:rt;if(l.call(r,i))return v(a.get(i));if(l.call(r,u))return v(a.get(u));a!==r&&a.get(i)},get size(){const i=this.__v_raw;return!e&&ut(Re(i),"iterate",yn),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,r=Re(a),u=Re(i);return e||(un(i,u)&&ut(r,"has",i),ut(r,"has",u)),i===u?a.has(i):a.has(i)||a.has(u)},forEach(i,a){const r=this,u=r.__v_raw,l=Re(u),v=t?mo:e?Ms:rt;return!e&&ut(l,"iterate",yn),u.forEach((d,c)=>i.call(a,v(d),v(c),r))}};return st(n,e?{add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear")}:{add(i){!t&&!Tt(i)&&!cn(i)&&(i=Re(i));const a=Re(this);return vs(a).has.call(a,i)||(a.add(i),Ht(a,"add",i,i)),this},set(i,a){!t&&!Tt(a)&&!cn(a)&&(a=Re(a));const r=Re(this),{has:u,get:l}=vs(r);let v=u.call(r,i);v||(i=Re(i),v=u.call(r,i));const d=l.call(r,i);return r.set(i,a),v?un(a,d)&&Ht(r,"set",i,a):Ht(r,"add",i,a),this},delete(i){const a=Re(this),{has:r,get:u}=vs(a);let l=r.call(a,i);l||(i=Re(i),l=r.call(a,i)),u&&u.call(a,i);const v=a.delete(i);return l&&Ht(a,"delete",i,void 0),v},clear(){const i=Re(this),a=i.size!==0,r=i.clear();return a&&Ht(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Xr(i,e,t)}),n}function Lo(e,t){const n=Qr(e,t);return(o,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(Oe(n,i)&&i in o?n:o,i,a)}const Jr={get:Lo(!1,!1)},Zr={get:Lo(!1,!0)},el={get:Lo(!0,!1)};const pa=new WeakMap,va=new WeakMap,ma=new WeakMap,tl=new WeakMap;function nl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sl(e){return e.__v_skip||!Object.isExtensible(e)?0:nl(Tr(e))}function Vs(e){return cn(e)?e:Uo(e,!1,Yr,Jr,pa)}function ol(e){return Uo(e,!1,Kr,Zr,va)}function Hn(e){return Uo(e,!0,Wr,el,ma)}function Uo(e,t,n,o,i){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=sl(e);if(a===0)return e;const r=i.get(e);if(r)return r;const u=new Proxy(e,a===2?o:n);return i.set(e,u),u}function zt(e){return cn(e)?zt(e.__v_raw):!!(e&&e.__v_isReactive)}function cn(e){return!!(e&&e.__v_isReadonly)}function Tt(e){return!!(e&&e.__v_isShallow)}function Fo(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function Bo(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&fo(e,"__v_skip",!0),e}const rt=e=>qe(e)?Vs(e):e,Ms=e=>qe(e)?Hn(e):e;function De(e){return e?e.__v_isRef===!0:!1}function W(e){return il(e,!1)}function il(e,t){return De(e)?e:new al(e,t)}class al{constructor(t,n){this.dep=new Oo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:rt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Tt(t)||cn(t);t=o?t:Re(t),un(t,n)&&(this._rawValue=t,this._value=o?t:rt(t),this.dep.trigger())}}function k(e){return De(e)?e.value:e}const rl={get:(e,t,n)=>t==="__v_raw"?e:k(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const i=e[t];return De(i)&&!De(n)?(i.value=n,!0):Reflect.set(e,t,n,o)}};function ha(e){return zt(e)?e:new Proxy(e,rl)}function ll(e){const t=_e(e)?new Array(e.length):{};for(const n in e)t[n]=ga(e,n);return t}class ul{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qr(Re(this._object),this._key)}}class cl{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function dl(e,t,n){return De(e)?e:Te(e)?new cl(e):qe(e)&&arguments.length>1?ga(e,t,n):W(e)}function ga(e,t,n){const o=e[t];return De(o)?o:new ul(e,t,n)}class fl{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Oo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return oa(this,!0),!0}get value(){const t=this.dep.track();return ra(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pl(e,t,n=!1){let o,i;return Te(e)?o=e:(o=e.get,i=e.set),new fl(o,i,n)}const hs={},As=new WeakMap;let mn;function vl(e,t=!1,n=mn){if(n){let o=As.get(n);o||As.set(n,o=[]),o.push(e)}}function ml(e,t,n=He){const{immediate:o,deep:i,once:a,scheduler:r,augmentJob:u,call:l}=n,v=U=>i?U:Tt(U)||i===!1||i===0?jt(U,1):jt(U);let d,c,_,T,V=!1,F=!1;if(De(e)?(c=()=>e.value,V=Tt(e)):zt(e)?(c=()=>v(e),V=!0):_e(e)?(F=!0,V=e.some(U=>zt(U)||Tt(U)),c=()=>e.map(U=>{if(De(U))return U.value;if(zt(U))return v(U);if(Te(U))return l?l(U,2):U()})):Te(e)?t?c=l?()=>l(e,2):e:c=()=>{if(_){Kt();try{_()}finally{Xt()}}const U=mn;mn=d;try{return l?l(e,3,[T]):e(T)}finally{mn=U}}:c=qt,t&&i){const U=c,I=i===!0?1/0:i;c=()=>jt(U(),I)}const N=ta(),y=()=>{d.stop(),N&&N.active&&Ao(N.effects,d)};if(a&&t){const U=t;t=(...I)=>{U(...I),y()}}let O=F?new Array(e.length).fill(hs):hs;const $=U=>{if(!(!(d.flags&1)||!d.dirty&&!U))if(t){const I=d.run();if(i||V||(F?I.some((g,S)=>un(g,O[S])):un(I,O))){_&&_();const g=mn;mn=d;try{const S=[I,O===hs?void 0:F&&O[0]===hs?[]:O,T];O=I,l?l(t,3,S):t(...S)}finally{mn=g}}}else d.run()};return u&&u($),d=new na(c),d.scheduler=r?()=>r($,!1):$,T=U=>vl(U,!1,d),_=d.onStop=()=>{const U=As.get(d);if(U){if(l)l(U,4);else for(const I of U)I();As.delete(d)}},t?o?$(!0):O=d.run():r?r($.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function jt(e,t=1/0,n){if(t<=0||!qe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,De(e))jt(e.value,t,n);else if(_e(e))for(let o=0;o<e.length;o++)jt(e[o],t,n);else if(On(e)||An(e))e.forEach(o=>{jt(o,t,n)});else if(Ki(e)){for(const o in e)jt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&jt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function us(e,t,n,o){try{return o?e(...o):e()}catch(i){Gs(i,t,n)}}function xt(e,t,n,o){if(Te(e)){const i=us(e,t,n,o);return i&&Yi(i)&&i.catch(a=>{Gs(a,t,n)}),i}if(_e(e)){const i=[];for(let a=0;a<e.length;a++)i.push(xt(e[a],t,n,o));return i}}function Gs(e,t,n,o=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||He;if(t){let u=t.parent;const l=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const d=u.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,l,v)===!1)return}u=u.parent}if(a){Kt(),us(a,null,10,[e,l,v]),Xt();return}}hl(e,n,i,o,r)}function hl(e,t,n,o=!0,i=!1){if(i)throw e;console.error(e)}const mt=[];let Ft=-1;const Rn=[];let nn=null,wn=0;const ya=Promise.resolve();let Rs=null;function Cn(e){const t=Rs||ya;return e?t.then(this?e.bind(this):e):t}function gl(e){let t=Ft+1,n=mt.length;for(;t<n;){const o=t+n>>>1,i=mt[o],a=es(i);a<e||a===e&&i.flags&2?t=o+1:n=o}return t}function Do(e){if(!(e.flags&1)){const t=es(e),n=mt[mt.length-1];!n||!(e.flags&2)&&t>=es(n)?mt.push(e):mt.splice(gl(t),0,e),e.flags|=1,ba()}}function ba(){Rs||(Rs=ya.then(Sa))}function yl(e){_e(e)?Rn.push(...e):nn&&e.id===-1?nn.splice(wn+1,0,e):e.flags&1||(Rn.push(e),e.flags|=1),ba()}function ai(e,t,n=Ft+1){for(;n<mt.length;n++){const o=mt[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;mt.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function _a(e){if(Rn.length){const t=[...new Set(Rn)].sort((n,o)=>es(n)-es(o));if(Rn.length=0,nn){nn.push(...t);return}for(nn=t,wn=0;wn<nn.length;wn++){const n=nn[wn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}nn=null,wn=0}}const es=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Sa(e){try{for(Ft=0;Ft<mt.length;Ft++){const t=mt[Ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),us(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ft<mt.length;Ft++){const t=mt[Ft];t&&(t.flags&=-2)}Ft=-1,mt.length=0,_a(),Rs=null,(mt.length||Rn.length)&&Sa()}}let nt=null,Ca=null;function xs(e){const t=nt;return nt=e,Ca=e&&e.type.__scopeId||null,t}function Ae(e,t=nt,n){if(!t||e._n)return e;const o=(...i)=>{o._d&&_i(-1);const a=xs(t);let r;try{r=e(...i)}finally{xs(a),o._d&&_i(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function Fe(e,t){if(nt===null)return e;const n=Ws(nt),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,r,u,l=He]=t[i];a&&(Te(a)&&(a={mounted:a,updated:a}),a.deep&&jt(r),o.push({dir:a,instance:n,value:r,oldValue:void 0,arg:u,modifiers:l}))}return e}function fn(e,t,n,o){const i=e.dirs,a=t&&t.dirs;for(let r=0;r<i.length;r++){const u=i[r];a&&(u.oldValue=a[r].value);let l=u.dir[o];l&&(Kt(),xt(l,n,8,[e.el,u,e,t]),Xt())}}const Ea=Symbol("_vte"),ka=e=>e.__isTeleport,jn=e=>e&&(e.disabled||e.disabled===""),ri=e=>e&&(e.defer||e.defer===""),li=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ui=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ho=(e,t)=>{const n=e&&e.to;return Ze(n)?t?t(n):null:n},wa={name:"Teleport",__isTeleport:!0,process(e,t,n,o,i,a,r,u,l,v){const{mc:d,pc:c,pbc:_,o:{insert:T,querySelector:V,createText:F,createComment:N}}=v,y=jn(t.props);let{shapeFlag:O,children:$,dynamicChildren:U}=t;if(e==null){const I=t.el=F(""),g=t.anchor=F("");T(I,n,o),T(g,n,o);const S=(L,z)=>{O&16&&(i&&i.isCE&&(i.ce._teleportTarget=L),d($,L,z,i,a,r,u,l))},b=()=>{const L=t.target=ho(t.props,V),z=Ta(L,t,F,T);L&&(r!=="svg"&&li(L)?r="svg":r!=="mathml"&&ui(L)&&(r="mathml"),y||(S(L,z),Ss(t,!1)))};y&&(S(n,g),Ss(t,!0)),ri(t.props)?(t.el.__isMounted=!1,vt(()=>{b(),delete t.el.__isMounted},a)):b()}else{if(ri(t.props)&&e.el.__isMounted===!1){vt(()=>{wa.process(e,t,n,o,i,a,r,u,l,v)},a);return}t.el=e.el,t.targetStart=e.targetStart;const I=t.anchor=e.anchor,g=t.target=e.target,S=t.targetAnchor=e.targetAnchor,b=jn(e.props),L=b?n:g,z=b?I:S;if(r==="svg"||li(g)?r="svg":(r==="mathml"||ui(g))&&(r="mathml"),U?(_(e.dynamicChildren,U,L,i,a,r,u),Ho(e,t,!0)):l||c(e,t,L,z,i,a,r,u,!1),y)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gs(t,n,I,v,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const q=t.target=ho(t.props,V);q&&gs(t,q,null,v,0)}else b&&gs(t,g,S,v,1);Ss(t,y)}},remove(e,t,n,{um:o,o:{remove:i}},a){const{shapeFlag:r,children:u,anchor:l,targetStart:v,targetAnchor:d,target:c,props:_}=e;if(c&&(i(v),i(d)),a&&i(l),r&16){const T=a||!jn(_);for(let V=0;V<u.length;V++){const F=u[V];o(F,t,n,T,!!F.dynamicChildren)}}},move:gs,hydrate:bl};function gs(e,t,n,{o:{insert:o},m:i},a=2){a===0&&o(e.targetAnchor,t,n);const{el:r,anchor:u,shapeFlag:l,children:v,props:d}=e,c=a===2;if(c&&o(r,t,n),(!c||jn(d))&&l&16)for(let _=0;_<v.length;_++)i(v[_],t,n,2);c&&o(u,t,n)}function bl(e,t,n,o,i,a,{o:{nextSibling:r,parentNode:u,querySelector:l,insert:v,createText:d}},c){const _=t.target=ho(t.props,l);if(_){const T=jn(t.props),V=_._lpa||_.firstChild;if(t.shapeFlag&16)if(T)t.anchor=c(r(e),t,u(e),n,o,i,a),t.targetStart=V,t.targetAnchor=V&&r(V);else{t.anchor=r(e);let F=V;for(;F;){if(F&&F.nodeType===8){if(F.data==="teleport start anchor")t.targetStart=F;else if(F.data==="teleport anchor"){t.targetAnchor=F,_._lpa=t.targetAnchor&&r(t.targetAnchor);break}}F=r(F)}t.targetAnchor||Ta(_,t,d,v),c(V&&r(V),t,_,n,o,i,a)}Ss(t,T)}return t.anchor&&r(t.anchor)}const $a=wa;function Ss(e,t){const n=e.ctx;if(n&&n.ut){let o,i;for(t?(o=e.el,i=e.anchor):(o=e.targetStart,i=e.targetAnchor);o&&o!==i;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function Ta(e,t,n,o){const i=t.targetStart=n(""),a=t.targetAnchor=n("");return i[Ea]=a,e&&(o(i,e),o(a,e)),a}const sn=Symbol("_leaveCb"),ys=Symbol("_enterCb");function Ma(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kt(()=>{e.isMounted=!0}),La(()=>{e.isUnmounting=!0}),e}const wt=[Function,Array],Aa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},Ra=e=>{const t=e.subTree;return t.component?Ra(t.component):t},_l={name:"BaseTransition",props:Aa,setup(e,{slots:t}){const n=or(),o=Ma();return()=>{const i=t.default&&qo(t.default(),!0);if(!i||!i.length)return;const a=xa(i),r=Re(e),{mode:u}=r;if(o.isLeaving)return no(a);const l=ci(a);if(!l)return no(a);let v=ts(l,r,o,n,c=>v=c);l.type!==ct&&_n(l,v);let d=n.subTree&&ci(n.subTree);if(d&&d.type!==ct&&!hn(l,d)&&Ra(n).type!==ct){let c=ts(d,r,o,n);if(_n(d,c),u==="out-in"&&l.type!==ct)return o.isLeaving=!0,c.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete c.afterLeave,d=void 0},no(a);u==="in-out"&&l.type!==ct?c.delayLeave=(_,T,V)=>{const F=Ia(o,d);F[String(d.key)]=d,_[sn]=()=>{T(),_[sn]=void 0,delete v.delayedLeave,d=void 0},v.delayedLeave=()=>{V(),delete v.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return a}}};function xa(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ct){t=n;break}}return t}const Sl=_l;function Ia(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ts(e,t,n,o,i){const{appear:a,mode:r,persisted:u=!1,onBeforeEnter:l,onEnter:v,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:_,onLeave:T,onAfterLeave:V,onLeaveCancelled:F,onBeforeAppear:N,onAppear:y,onAfterAppear:O,onAppearCancelled:$}=t,U=String(e.key),I=Ia(n,e),g=(L,z)=>{L&&xt(L,o,9,z)},S=(L,z)=>{const q=z[1];g(L,z),_e(L)?L.every(P=>P.length<=1)&&q():L.length<=1&&q()},b={mode:r,persisted:u,beforeEnter(L){let z=l;if(!n.isMounted)if(a)z=N||l;else return;L[sn]&&L[sn](!0);const q=I[U];q&&hn(e,q)&&q.el[sn]&&q.el[sn](),g(z,[L])},enter(L){let z=v,q=d,P=c;if(!n.isMounted)if(a)z=y||v,q=O||d,P=$||c;else return;let x=!1;const E=L[ys]=C=>{x||(x=!0,C?g(P,[L]):g(q,[L]),b.delayedLeave&&b.delayedLeave(),L[ys]=void 0)};z?S(z,[L,E]):E()},leave(L,z){const q=String(e.key);if(L[ys]&&L[ys](!0),n.isUnmounting)return z();g(_,[L]);let P=!1;const x=L[sn]=E=>{P||(P=!0,z(),E?g(F,[L]):g(V,[L]),L[sn]=void 0,I[q]===e&&delete I[q])};I[q]=e,T?S(T,[L,x]):x()},clone(L){const z=ts(L,t,n,o,i);return i&&i(z),z}};return b}function no(e){if(Hs(e))return e=dn(e),e.children=null,e}function ci(e){if(!Hs(e))return ka(e.type)&&e.children?xa(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Te(n.default))return n.default()}}function _n(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_n(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qo(e,t=!1,n){let o=[],i=0;for(let a=0;a<e.length;a++){let r=e[a];const u=n==null?r.key:String(n)+String(r.key!=null?r.key:a);r.type===ue?(r.patchFlag&128&&i++,o=o.concat(qo(r.children,t,u))):(t||r.type!==ct)&&o.push(u!=null?dn(r,{key:u}):r)}if(i>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Ve(e,t){return Te(e)?st({name:e.name},t,{setup:e}):e}function Pa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function zn(e,t,n,o,i=!1){if(_e(e)){e.forEach((V,F)=>zn(V,t&&(_e(t)?t[F]:t),n,o,i));return}if(xn(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&zn(e,t,n,o.component.subTree);return}const a=o.shapeFlag&4?Ws(o.component):o.el,r=i?null:a,{i:u,r:l}=e,v=t&&t.r,d=u.refs===He?u.refs={}:u.refs,c=u.setupState,_=Re(c),T=c===He?()=>!1:V=>Oe(_,V);if(v!=null&&v!==l&&(Ze(v)?(d[v]=null,T(v)&&(c[v]=null)):De(v)&&(v.value=null)),Te(l))us(l,u,12,[r,d]);else{const V=Ze(l),F=De(l);if(V||F){const N=()=>{if(e.f){const y=V?T(l)?c[l]:d[l]:l.value;i?_e(y)&&Ao(y,a):_e(y)?y.includes(a)||y.push(a):V?(d[l]=[a],T(l)&&(c[l]=d[l])):(l.value=[a],e.k&&(d[e.k]=l.value))}else V?(d[l]=r,T(l)&&(c[l]=r)):F&&(l.value=r,e.k&&(d[e.k]=r))};r?(N.id=-1,vt(N,n)):N()}}}Ds().requestIdleCallback;Ds().cancelIdleCallback;const xn=e=>!!e.type.__asyncLoader,Hs=e=>e.type.__isKeepAlive;function Cl(e,t){Na(e,"a",t)}function El(e,t){Na(e,"da",t)}function Na(e,t,n=it){const o=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(js(t,o,n),n){let i=n.parent;for(;i&&i.parent;)Hs(i.parent.vnode)&&kl(o,t,n,i),i=i.parent}}function kl(e,t,n,o){const i=js(t,e,o,!0);It(()=>{Ao(o[t],i)},n)}function js(e,t,n=it,o=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{Kt();const u=fs(n),l=xt(t,n,e,r);return u(),Xt(),l});return o?i.unshift(a):i.push(a),a}}const Qt=e=>(t,n=it)=>{(!os||e==="sp")&&js(e,(...o)=>t(...o),n)},wl=Qt("bm"),kt=Qt("m"),$l=Qt("bu"),Oa=Qt("u"),La=Qt("bum"),It=Qt("um"),Tl=Qt("sp"),Ml=Qt("rtg"),Al=Qt("rtc");function Rl(e,t=it){js("ec",e,t)}const xl="components",Ua=Symbol.for("v-ndc");function Il(e){return Ze(e)?Pl(xl,e,!1)||e:e||Ua}function Pl(e,t,n=!0,o=!1){const i=nt||it;if(i){const a=i.type;{const u=_u(a,!1);if(u&&(u===t||u===Mt(t)||u===Bs(Mt(t))))return a}const r=di(i[e]||a[e],t)||di(i.appContext[e],t);return!r&&o?a:r}}function di(e,t){return e&&(e[t]||e[Mt(t)]||e[Bs(Mt(t))])}function ve(e,t,n,o){let i;const a=n,r=_e(e);if(r||Ze(e)){const u=r&&zt(e);let l=!1,v=!1;u&&(l=!Tt(e),v=cn(e),e=qs(e)),i=new Array(e.length);for(let d=0,c=e.length;d<c;d++)i[d]=t(l?v?Ms(rt(e[d])):rt(e[d]):e[d],d,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,a)}else if(qe(e))if(e[Symbol.iterator])i=Array.from(e,(u,l)=>t(u,l,void 0,a));else{const u=Object.keys(e);i=new Array(u.length);for(let l=0,v=u.length;l<v;l++){const d=u[l];i[l]=t(e[d],d,l,a)}}else i=[];return i}function cs(e,t,n={},o,i){if(nt.ce||nt.parent&&xn(nt.parent)&&nt.parent.ce)return f(),$t(ue,null,[he("slot",n,o&&o())],64);let a=e[t];a&&a._c&&(a._d=!1),f();const r=a&&Fa(a(n)),u=n.key||r&&r.key,l=$t(ue,{key:(u&&!Rt(u)?u:`_${t}`)+(!r&&o?"_fb":"")},r||(o?o():[]),r&&e._===1?64:-2);return a&&a._c&&(a._d=!0),l}function Fa(e){return e.some(t=>ss(t)?!(t.type===ct||t.type===ue&&!Fa(t.children)):!0)?e:null}const go=e=>e?ir(e)?Ws(e):go(e.parent):null,Yn=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>go(e.parent),$root:e=>go(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Da(e),$forceUpdate:e=>e.f||(e.f=()=>{Do(e.update)}),$nextTick:e=>e.n||(e.n=Cn.bind(e.proxy)),$watch:e=>nu.bind(e)}),so=(e,t)=>e!==He&&!e.__isScriptSetup&&Oe(e,t),Nl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:a,accessCache:r,type:u,appContext:l}=e;let v;if(t[0]!=="$"){const T=r[t];if(T!==void 0)switch(T){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(so(o,t))return r[t]=1,o[t];if(i!==He&&Oe(i,t))return r[t]=2,i[t];if((v=e.propsOptions[0])&&Oe(v,t))return r[t]=3,a[t];if(n!==He&&Oe(n,t))return r[t]=4,n[t];yo&&(r[t]=0)}}const d=Yn[t];let c,_;if(d)return t==="$attrs"&&ut(e.attrs,"get",""),d(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(n!==He&&Oe(n,t))return r[t]=4,n[t];if(_=l.config.globalProperties,Oe(_,t))return _[t]},set({_:e},t,n){const{data:o,setupState:i,ctx:a}=e;return so(i,t)?(i[t]=n,!0):o!==He&&Oe(o,t)?(o[t]=n,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:a}},r){let u;return!!n[r]||e!==He&&Oe(e,r)||so(t,r)||(u=a[0])&&Oe(u,r)||Oe(o,r)||Oe(Yn,r)||Oe(i.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function fi(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let yo=!0;function Ol(e){const t=Da(e),n=e.proxy,o=e.ctx;yo=!1,t.beforeCreate&&pi(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:r,watch:u,provide:l,inject:v,created:d,beforeMount:c,mounted:_,beforeUpdate:T,updated:V,activated:F,deactivated:N,beforeDestroy:y,beforeUnmount:O,destroyed:$,unmounted:U,render:I,renderTracked:g,renderTriggered:S,errorCaptured:b,serverPrefetch:L,expose:z,inheritAttrs:q,components:P,directives:x,filters:E}=t;if(v&&Ll(v,o,null),r)for(const D in r){const J=r[D];Te(J)&&(o[D]=J.bind(n))}if(i){const D=i.call(n,n);qe(D)&&(e.data=Vs(D))}if(yo=!0,a)for(const D in a){const J=a[D],te=Te(J)?J.bind(n,n):Te(J.get)?J.get.bind(n,n):qt,se=!Te(J)&&Te(J.set)?J.set.bind(n):qt,oe=Z({get:te,set:se});Object.defineProperty(o,D,{enumerable:!0,configurable:!0,get:()=>oe.value,set:Ce=>oe.value=Ce})}if(u)for(const D in u)Ba(u[D],o,n,D);if(l){const D=Te(l)?l.call(n):l;Reflect.ownKeys(D).forEach(J=>{Vl(J,D[J])})}d&&pi(d,e,"c");function A(D,J){_e(J)?J.forEach(te=>D(te.bind(n))):J&&D(J.bind(n))}if(A(wl,c),A(kt,_),A($l,T),A(Oa,V),A(Cl,F),A(El,N),A(Rl,b),A(Al,g),A(Ml,S),A(La,O),A(It,U),A(Tl,L),_e(z))if(z.length){const D=e.exposed||(e.exposed={});z.forEach(J=>{Object.defineProperty(D,J,{get:()=>n[J],set:te=>n[J]=te})})}else e.exposed||(e.exposed={});I&&e.render===qt&&(e.render=I),q!=null&&(e.inheritAttrs=q),P&&(e.components=P),x&&(e.directives=x),L&&Pa(e)}function Ll(e,t,n=qt){_e(e)&&(e=bo(e));for(const o in e){const i=e[o];let a;qe(i)?"default"in i?a=Wn(i.from||o,i.default,!0):a=Wn(i.from||o):a=Wn(i),De(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):t[o]=a}}function pi(e,t,n){xt(_e(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ba(e,t,n,o){let i=o.includes(".")?Ja(n,o):()=>n[o];if(Ze(e)){const a=t[e];Te(a)&&Yt(i,a)}else if(Te(e))Yt(i,e.bind(n));else if(qe(e))if(_e(e))e.forEach(a=>Ba(a,t,n,o));else{const a=Te(e.handler)?e.handler.bind(n):t[e.handler];Te(a)&&Yt(i,a,e)}}function Da(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:r}}=e.appContext,u=a.get(t);let l;return u?l=u:!i.length&&!n&&!o?l=t:(l={},i.length&&i.forEach(v=>Is(l,v,r,!0)),Is(l,t,r)),qe(t)&&a.set(t,l),l}function Is(e,t,n,o=!1){const{mixins:i,extends:a}=t;a&&Is(e,a,n,!0),i&&i.forEach(r=>Is(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const u=Ul[r]||n&&n[r];e[r]=u?u(e[r],t[r]):t[r]}return e}const Ul={data:vi,props:mi,emits:mi,methods:Bn,computed:Bn,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:Bn,directives:Bn,watch:Bl,provide:vi,inject:Fl};function vi(e,t){return t?e?function(){return st(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function Fl(e,t){return Bn(bo(e),bo(t))}function bo(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ft(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?st(Object.create(null),e,t):t}function mi(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:st(Object.create(null),fi(e),fi(t??{})):t}function Bl(e,t){if(!e)return t;if(!t)return e;const n=st(Object.create(null),e);for(const o in t)n[o]=ft(e[o],t[o]);return n}function qa(){return{app:null,config:{isNativeTag:wr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dl=0;function ql(e,t){return function(o,i=null){Te(o)||(o=st({},o)),i!=null&&!qe(i)&&(i=null);const a=qa(),r=new WeakSet,u=[];let l=!1;const v=a.app={_uid:Dl++,_component:o,_props:i,_container:null,_context:a,_instance:null,version:Eu,get config(){return a.config},set config(d){},use(d,...c){return r.has(d)||(d&&Te(d.install)?(r.add(d),d.install(v,...c)):Te(d)&&(r.add(d),d(v,...c))),v},mixin(d){return a.mixins.includes(d)||a.mixins.push(d),v},component(d,c){return c?(a.components[d]=c,v):a.components[d]},directive(d,c){return c?(a.directives[d]=c,v):a.directives[d]},mount(d,c,_){if(!l){const T=v._ceVNode||he(o,i);return T.appContext=a,_===!0?_="svg":_===!1&&(_=void 0),e(T,d,_),l=!0,v._container=d,d.__vue_app__=v,Ws(T.component)}},onUnmount(d){u.push(d)},unmount(){l&&(xt(u,v._instance,16),e(null,v._container),delete v._container.__vue_app__)},provide(d,c){return a.provides[d]=c,v},runWithContext(d){const c=bn;bn=v;try{return d()}finally{bn=c}}};return v}}let bn=null;function Vl(e,t){if(it){let n=it.provides;const o=it.parent&&it.parent.provides;o===n&&(n=it.provides=Object.create(o)),n[e]=t}}function Wn(e,t,n=!1){const o=it||nt;if(o||bn){let i=bn?bn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Te(t)?t.call(o&&o.proxy):t}}function Gl(){return!!(it||nt||bn)}const Va={},Ga=()=>Object.create(Va),Ha=e=>Object.getPrototypeOf(e)===Va;function Hl(e,t,n,o=!1){const i={},a=Ga();e.propsDefaults=Object.create(null),ja(e,t,i,a);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=o?i:ol(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function jl(e,t,n,o){const{props:i,attrs:a,vnode:{patchFlag:r}}=e,u=Re(i),[l]=e.propsOptions;let v=!1;if((o||r>0)&&!(r&16)){if(r&8){const d=e.vnode.dynamicProps;for(let c=0;c<d.length;c++){let _=d[c];if(zs(e.emitsOptions,_))continue;const T=t[_];if(l)if(Oe(a,_))T!==a[_]&&(a[_]=T,v=!0);else{const V=Mt(_);i[V]=_o(l,u,V,T,e,!1)}else T!==a[_]&&(a[_]=T,v=!0)}}}else{ja(e,t,i,a)&&(v=!0);let d;for(const c in u)(!t||!Oe(t,c)&&((d=Sn(c))===c||!Oe(t,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(i[c]=_o(l,u,c,void 0,e,!0)):delete i[c]);if(a!==u)for(const c in a)(!t||!Oe(t,c))&&(delete a[c],v=!0)}v&&Ht(e.attrs,"set","")}function ja(e,t,n,o){const[i,a]=e.propsOptions;let r=!1,u;if(t)for(let l in t){if(qn(l))continue;const v=t[l];let d;i&&Oe(i,d=Mt(l))?!a||!a.includes(d)?n[d]=v:(u||(u={}))[d]=v:zs(e.emitsOptions,l)||(!(l in o)||v!==o[l])&&(o[l]=v,r=!0)}if(a){const l=Re(n),v=u||He;for(let d=0;d<a.length;d++){const c=a[d];n[c]=_o(i,l,c,v[c],e,!Oe(v,c))}}return r}function _o(e,t,n,o,i,a){const r=e[n];if(r!=null){const u=Oe(r,"default");if(u&&o===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Te(l)){const{propsDefaults:v}=i;if(n in v)o=v[n];else{const d=fs(i);o=v[n]=l.call(null,t),d()}}else o=l;i.ce&&i.ce._setProp(n,o)}r[0]&&(a&&!u?o=!1:r[1]&&(o===""||o===Sn(n))&&(o=!0))}return o}const zl=new WeakMap;function za(e,t,n=!1){const o=n?zl:t.propsCache,i=o.get(e);if(i)return i;const a=e.props,r={},u=[];let l=!1;if(!Te(e)){const d=c=>{l=!0;const[_,T]=za(c,t,!0);st(r,_),T&&u.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!a&&!l)return qe(e)&&o.set(e,Mn),Mn;if(_e(a))for(let d=0;d<a.length;d++){const c=Mt(a[d]);hi(c)&&(r[c]=He)}else if(a)for(const d in a){const c=Mt(d);if(hi(c)){const _=a[d],T=r[c]=_e(_)||Te(_)?{type:_}:st({},_),V=T.type;let F=!1,N=!0;if(_e(V))for(let y=0;y<V.length;++y){const O=V[y],$=Te(O)&&O.name;if($==="Boolean"){F=!0;break}else $==="String"&&(N=!1)}else F=Te(V)&&V.name==="Boolean";T[0]=F,T[1]=N,(F||Oe(T,"default"))&&u.push(c)}}const v=[r,u];return qe(e)&&o.set(e,v),v}function hi(e){return e[0]!=="$"&&!qn(e)}const Vo=e=>e[0]==="_"||e==="$stable",Go=e=>_e(e)?e.map(Dt):[Dt(e)],Yl=(e,t,n)=>{if(t._n)return t;const o=Ae((...i)=>Go(t(...i)),n);return o._c=!1,o},Ya=(e,t,n)=>{const o=e._ctx;for(const i in e){if(Vo(i))continue;const a=e[i];if(Te(a))t[i]=Yl(i,a,o);else if(a!=null){const r=Go(a);t[i]=()=>r}}},Wa=(e,t)=>{const n=Go(t);e.slots.default=()=>n},Ka=(e,t,n)=>{for(const o in t)(n||!Vo(o))&&(e[o]=t[o])},Wl=(e,t,n)=>{const o=e.slots=Ga();if(e.vnode.shapeFlag&32){const i=t.__;i&&fo(o,"__",i,!0);const a=t._;a?(Ka(o,t,n),n&&fo(o,"_",a,!0)):Ya(t,o)}else t&&Wa(e,t)},Kl=(e,t,n)=>{const{vnode:o,slots:i}=e;let a=!0,r=He;if(o.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:Ka(i,t,n):(a=!t.$stable,Ya(t,i)),r=t}else t&&(Wa(e,t),r={default:1});if(a)for(const u in i)!Vo(u)&&r[u]==null&&delete i[u]},vt=uu;function Xl(e){return Ql(e)}function Ql(e,t){const n=Ds();n.__VUE__=!0;const{insert:o,remove:i,patchProp:a,createElement:r,createText:u,createComment:l,setText:v,setElementText:d,parentNode:c,nextSibling:_,setScopeId:T=qt,insertStaticContent:V}=e,F=(p,h,B,j=null,X=null,Y=null,H=void 0,Q=null,re=!!h.dynamicChildren)=>{if(p===h)return;p&&!hn(p,h)&&(j=G(p),Ce(p,X,Y,!0),p=null),h.patchFlag===-2&&(re=!1,h.dynamicChildren=null);const{type:le,ref:be,shapeFlag:me}=h;switch(le){case Ys:N(p,h,B,j);break;case ct:y(p,h,B,j);break;case Cs:p==null&&O(h,B,j,H);break;case ue:P(p,h,B,j,X,Y,H,Q,re);break;default:me&1?I(p,h,B,j,X,Y,H,Q,re):me&6?x(p,h,B,j,X,Y,H,Q,re):(me&64||me&128)&&le.process(p,h,B,j,X,Y,H,Q,re,de)}be!=null&&X?zn(be,p&&p.ref,Y,h||p,!h):be==null&&p&&p.ref!=null&&zn(p.ref,null,Y,p,!0)},N=(p,h,B,j)=>{if(p==null)o(h.el=u(h.children),B,j);else{const X=h.el=p.el;h.children!==p.children&&v(X,h.children)}},y=(p,h,B,j)=>{p==null?o(h.el=l(h.children||""),B,j):h.el=p.el},O=(p,h,B,j)=>{[p.el,p.anchor]=V(p.children,h,B,j,p.el,p.anchor)},$=({el:p,anchor:h},B,j)=>{let X;for(;p&&p!==h;)X=_(p),o(p,B,j),p=X;o(h,B,j)},U=({el:p,anchor:h})=>{let B;for(;p&&p!==h;)B=_(p),i(p),p=B;i(h)},I=(p,h,B,j,X,Y,H,Q,re)=>{h.type==="svg"?H="svg":h.type==="math"&&(H="mathml"),p==null?g(h,B,j,X,Y,H,Q,re):L(p,h,X,Y,H,Q,re)},g=(p,h,B,j,X,Y,H,Q)=>{let re,le;const{props:be,shapeFlag:me,transition:Se,dirs:$e}=p;if(re=p.el=r(p.type,Y,be&&be.is,be),me&8?d(re,p.children):me&16&&b(p.children,re,null,j,X,oo(p,Y),H,Q),$e&&fn(p,null,j,"created"),S(re,p,p.scopeId,H,j),be){for(const je in be)je!=="value"&&!qn(je)&&a(re,je,null,be[je],Y,j);"value"in be&&a(re,"value",null,be.value,Y),(le=be.onVnodeBeforeMount)&&Lt(le,j,p)}$e&&fn(p,null,j,"beforeMount");const Ie=Jl(X,Se);Ie&&Se.beforeEnter(re),o(re,h,B),((le=be&&be.onVnodeMounted)||Ie||$e)&&vt(()=>{le&&Lt(le,j,p),Ie&&Se.enter(re),$e&&fn(p,null,j,"mounted")},X)},S=(p,h,B,j,X)=>{if(B&&T(p,B),j)for(let Y=0;Y<j.length;Y++)T(p,j[Y]);if(X){let Y=X.subTree;if(h===Y||er(Y.type)&&(Y.ssContent===h||Y.ssFallback===h)){const H=X.vnode;S(p,H,H.scopeId,H.slotScopeIds,X.parent)}}},b=(p,h,B,j,X,Y,H,Q,re=0)=>{for(let le=re;le<p.length;le++){const be=p[le]=Q?on(p[le]):Dt(p[le]);F(null,be,h,B,j,X,Y,H,Q)}},L=(p,h,B,j,X,Y,H)=>{const Q=h.el=p.el;let{patchFlag:re,dynamicChildren:le,dirs:be}=h;re|=p.patchFlag&16;const me=p.props||He,Se=h.props||He;let $e;if(B&&pn(B,!1),($e=Se.onVnodeBeforeUpdate)&&Lt($e,B,h,p),be&&fn(h,p,B,"beforeUpdate"),B&&pn(B,!0),(me.innerHTML&&Se.innerHTML==null||me.textContent&&Se.textContent==null)&&d(Q,""),le?z(p.dynamicChildren,le,Q,B,j,oo(h,X),Y):H||J(p,h,Q,null,B,j,oo(h,X),Y,!1),re>0){if(re&16)q(Q,me,Se,B,X);else if(re&2&&me.class!==Se.class&&a(Q,"class",null,Se.class,X),re&4&&a(Q,"style",me.style,Se.style,X),re&8){const Ie=h.dynamicProps;for(let je=0;je<Ie.length;je++){const Le=Ie[je],ht=me[Le],gt=Se[Le];(gt!==ht||Le==="value")&&a(Q,Le,ht,gt,X,B)}}re&1&&p.children!==h.children&&d(Q,h.children)}else!H&&le==null&&q(Q,me,Se,B,X);(($e=Se.onVnodeUpdated)||be)&&vt(()=>{$e&&Lt($e,B,h,p),be&&fn(h,p,B,"updated")},j)},z=(p,h,B,j,X,Y,H)=>{for(let Q=0;Q<h.length;Q++){const re=p[Q],le=h[Q],be=re.el&&(re.type===ue||!hn(re,le)||re.shapeFlag&198)?c(re.el):B;F(re,le,be,null,j,X,Y,H,!0)}},q=(p,h,B,j,X)=>{if(h!==B){if(h!==He)for(const Y in h)!qn(Y)&&!(Y in B)&&a(p,Y,h[Y],null,X,j);for(const Y in B){if(qn(Y))continue;const H=B[Y],Q=h[Y];H!==Q&&Y!=="value"&&a(p,Y,Q,H,X,j)}"value"in B&&a(p,"value",h.value,B.value,X)}},P=(p,h,B,j,X,Y,H,Q,re)=>{const le=h.el=p?p.el:u(""),be=h.anchor=p?p.anchor:u("");let{patchFlag:me,dynamicChildren:Se,slotScopeIds:$e}=h;$e&&(Q=Q?Q.concat($e):$e),p==null?(o(le,B,j),o(be,B,j),b(h.children||[],B,be,X,Y,H,Q,re)):me>0&&me&64&&Se&&p.dynamicChildren?(z(p.dynamicChildren,Se,B,X,Y,H,Q),(h.key!=null||X&&h===X.subTree)&&Ho(p,h,!0)):J(p,h,B,be,X,Y,H,Q,re)},x=(p,h,B,j,X,Y,H,Q,re)=>{h.slotScopeIds=Q,p==null?h.shapeFlag&512?X.ctx.activate(h,B,j,H,re):E(h,B,j,X,Y,H,re):C(p,h,re)},E=(p,h,B,j,X,Y,H)=>{const Q=p.component=mu(p,j,X);if(Hs(p)&&(Q.ctx.renderer=de),hu(Q,!1,H),Q.asyncDep){if(X&&X.registerDep(Q,A,H),!p.el){const re=Q.subTree=he(ct);y(null,re,h,B)}}else A(Q,p,h,B,X,Y,H)},C=(p,h,B)=>{const j=h.component=p.component;if(ru(p,h,B))if(j.asyncDep&&!j.asyncResolved){D(j,h,B);return}else j.next=h,j.update();else h.el=p.el,j.vnode=h},A=(p,h,B,j,X,Y,H)=>{const Q=()=>{if(p.isMounted){let{next:me,bu:Se,u:$e,parent:Ie,vnode:je}=p;{const Nt=Xa(p);if(Nt){me&&(me.el=je.el,D(p,me,H)),Nt.asyncDep.then(()=>{p.isUnmounted||Q()});return}}let Le=me,ht;pn(p,!1),me?(me.el=je.el,D(p,me,H)):me=je,Se&&_s(Se),(ht=me.props&&me.props.onVnodeBeforeUpdate)&&Lt(ht,Ie,me,je),pn(p,!0);const gt=yi(p),Pt=p.subTree;p.subTree=gt,F(Pt,gt,c(Pt.el),G(Pt),p,X,Y),me.el=gt.el,Le===null&&lu(p,gt.el),$e&&vt($e,X),(ht=me.props&&me.props.onVnodeUpdated)&&vt(()=>Lt(ht,Ie,me,je),X)}else{let me;const{el:Se,props:$e}=h,{bm:Ie,m:je,parent:Le,root:ht,type:gt}=p,Pt=xn(h);pn(p,!1),Ie&&_s(Ie),!Pt&&(me=$e&&$e.onVnodeBeforeMount)&&Lt(me,Le,h),pn(p,!0);{ht.ce&&ht.ce._def.shadowRoot!==!1&&ht.ce._injectChildStyle(gt);const Nt=p.subTree=yi(p);F(null,Nt,B,j,p,X,Y),h.el=Nt.el}if(je&&vt(je,X),!Pt&&(me=$e&&$e.onVnodeMounted)){const Nt=h;vt(()=>Lt(me,Le,Nt),X)}(h.shapeFlag&256||Le&&xn(Le.vnode)&&Le.vnode.shapeFlag&256)&&p.a&&vt(p.a,X),p.isMounted=!0,h=B=j=null}};p.scope.on();const re=p.effect=new na(Q);p.scope.off();const le=p.update=re.run.bind(re),be=p.job=re.runIfDirty.bind(re);be.i=p,be.id=p.uid,re.scheduler=()=>Do(be),pn(p,!0),le()},D=(p,h,B)=>{h.component=p;const j=p.vnode.props;p.vnode=h,p.next=null,jl(p,h.props,j,B),Kl(p,h.children,B),Kt(),ai(p),Xt()},J=(p,h,B,j,X,Y,H,Q,re=!1)=>{const le=p&&p.children,be=p?p.shapeFlag:0,me=h.children,{patchFlag:Se,shapeFlag:$e}=h;if(Se>0){if(Se&128){se(le,me,B,j,X,Y,H,Q,re);return}else if(Se&256){te(le,me,B,j,X,Y,H,Q,re);return}}$e&8?(be&16&&M(le,X,Y),me!==le&&d(B,me)):be&16?$e&16?se(le,me,B,j,X,Y,H,Q,re):M(le,X,Y,!0):(be&8&&d(B,""),$e&16&&b(me,B,j,X,Y,H,Q,re))},te=(p,h,B,j,X,Y,H,Q,re)=>{p=p||Mn,h=h||Mn;const le=p.length,be=h.length,me=Math.min(le,be);let Se;for(Se=0;Se<me;Se++){const $e=h[Se]=re?on(h[Se]):Dt(h[Se]);F(p[Se],$e,B,null,X,Y,H,Q,re)}le>be?M(p,X,Y,!0,!1,me):b(h,B,j,X,Y,H,Q,re,me)},se=(p,h,B,j,X,Y,H,Q,re)=>{let le=0;const be=h.length;let me=p.length-1,Se=be-1;for(;le<=me&&le<=Se;){const $e=p[le],Ie=h[le]=re?on(h[le]):Dt(h[le]);if(hn($e,Ie))F($e,Ie,B,null,X,Y,H,Q,re);else break;le++}for(;le<=me&&le<=Se;){const $e=p[me],Ie=h[Se]=re?on(h[Se]):Dt(h[Se]);if(hn($e,Ie))F($e,Ie,B,null,X,Y,H,Q,re);else break;me--,Se--}if(le>me){if(le<=Se){const $e=Se+1,Ie=$e<be?h[$e].el:j;for(;le<=Se;)F(null,h[le]=re?on(h[le]):Dt(h[le]),B,Ie,X,Y,H,Q,re),le++}}else if(le>Se)for(;le<=me;)Ce(p[le],X,Y,!0),le++;else{const $e=le,Ie=le,je=new Map;for(le=Ie;le<=Se;le++){const St=h[le]=re?on(h[le]):Dt(h[le]);St.key!=null&&je.set(St.key,le)}let Le,ht=0;const gt=Se-Ie+1;let Pt=!1,Nt=0;const Ln=new Array(gt);for(le=0;le<gt;le++)Ln[le]=0;for(le=$e;le<=me;le++){const St=p[le];if(ht>=gt){Ce(St,X,Y,!0);continue}let Ot;if(St.key!=null)Ot=je.get(St.key);else for(Le=Ie;Le<=Se;Le++)if(Ln[Le-Ie]===0&&hn(St,h[Le])){Ot=Le;break}Ot===void 0?Ce(St,X,Y,!0):(Ln[Ot-Ie]=le+1,Ot>=Nt?Nt=Ot:Pt=!0,F(St,h[Ot],B,null,X,Y,H,Q,re),ht++)}const ei=Pt?Zl(Ln):Mn;for(Le=ei.length-1,le=gt-1;le>=0;le--){const St=Ie+le,Ot=h[St],ti=St+1<be?h[St+1].el:j;Ln[le]===0?F(null,Ot,B,ti,X,Y,H,Q,re):Pt&&(Le<0||le!==ei[Le]?oe(Ot,B,ti,2):Le--)}}},oe=(p,h,B,j,X=null)=>{const{el:Y,type:H,transition:Q,children:re,shapeFlag:le}=p;if(le&6){oe(p.component.subTree,h,B,j);return}if(le&128){p.suspense.move(h,B,j);return}if(le&64){H.move(p,h,B,de);return}if(H===ue){o(Y,h,B);for(let me=0;me<re.length;me++)oe(re[me],h,B,j);o(p.anchor,h,B);return}if(H===Cs){$(p,h,B);return}if(j!==2&&le&1&&Q)if(j===0)Q.beforeEnter(Y),o(Y,h,B),vt(()=>Q.enter(Y),X);else{const{leave:me,delayLeave:Se,afterLeave:$e}=Q,Ie=()=>{p.ctx.isUnmounted?i(Y):o(Y,h,B)},je=()=>{me(Y,()=>{Ie(),$e&&$e()})};Se?Se(Y,Ie,je):je()}else o(Y,h,B)},Ce=(p,h,B,j=!1,X=!1)=>{const{type:Y,props:H,ref:Q,children:re,dynamicChildren:le,shapeFlag:be,patchFlag:me,dirs:Se,cacheIndex:$e}=p;if(me===-2&&(X=!1),Q!=null&&(Kt(),zn(Q,null,B,p,!0),Xt()),$e!=null&&(h.renderCache[$e]=void 0),be&256){h.ctx.deactivate(p);return}const Ie=be&1&&Se,je=!xn(p);let Le;if(je&&(Le=H&&H.onVnodeBeforeUnmount)&&Lt(Le,h,p),be&6)ie(p.component,B,j);else{if(be&128){p.suspense.unmount(B,j);return}Ie&&fn(p,null,h,"beforeUnmount"),be&64?p.type.remove(p,h,B,de,j):le&&!le.hasOnce&&(Y!==ue||me>0&&me&64)?M(le,h,B,!1,!0):(Y===ue&&me&384||!X&&be&16)&&M(re,h,B),j&&xe(p)}(je&&(Le=H&&H.onVnodeUnmounted)||Ie)&&vt(()=>{Le&&Lt(Le,h,p),Ie&&fn(p,null,h,"unmounted")},B)},xe=p=>{const{type:h,el:B,anchor:j,transition:X}=p;if(h===ue){ae(B,j);return}if(h===Cs){U(p);return}const Y=()=>{i(B),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(p.shapeFlag&1&&X&&!X.persisted){const{leave:H,delayLeave:Q}=X,re=()=>H(B,Y);Q?Q(p.el,Y,re):re()}else Y()},ae=(p,h)=>{let B;for(;p!==h;)B=_(p),i(p),p=B;i(h)},ie=(p,h,B)=>{const{bum:j,scope:X,job:Y,subTree:H,um:Q,m:re,a:le,parent:be,slots:{__:me}}=p;gi(re),gi(le),j&&_s(j),be&&_e(me)&&me.forEach(Se=>{be.renderCache[Se]=void 0}),X.stop(),Y&&(Y.flags|=8,Ce(H,p,h,B)),Q&&vt(Q,h),vt(()=>{p.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},M=(p,h,B,j=!1,X=!1,Y=0)=>{for(let H=Y;H<p.length;H++)Ce(p[H],h,B,j,X)},G=p=>{if(p.shapeFlag&6)return G(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const h=_(p.anchor||p.el),B=h&&h[Ea];return B?_(B):h};let K=!1;const pe=(p,h,B)=>{p==null?h._vnode&&Ce(h._vnode,null,null,!0):F(h._vnode||null,p,h,null,null,null,B),h._vnode=p,K||(K=!0,ai(),_a(),K=!1)},de={p:F,um:Ce,m:oe,r:xe,mt:E,mc:b,pc:J,pbc:z,n:G,o:e};return{render:pe,hydrate:void 0,createApp:ql(pe)}}function oo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function pn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Jl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ho(e,t,n=!1){const o=e.children,i=t.children;if(_e(o)&&_e(i))for(let a=0;a<o.length;a++){const r=o[a];let u=i[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[a]=on(i[a]),u.el=r.el),!n&&u.patchFlag!==-2&&Ho(r,u)),u.type===Ys&&(u.el=r.el),u.type===ct&&!u.el&&(u.el=r.el)}}function Zl(e){const t=e.slice(),n=[0];let o,i,a,r,u;const l=e.length;for(o=0;o<l;o++){const v=e[o];if(v!==0){if(i=n[n.length-1],e[i]<v){t[o]=i,n.push(o);continue}for(a=0,r=n.length-1;a<r;)u=a+r>>1,e[n[u]]<v?a=u+1:r=u;v<e[n[a]]&&(a>0&&(t[o]=n[a-1]),n[a]=o)}}for(a=n.length,r=n[a-1];a-- >0;)n[a]=r,r=t[r];return n}function Xa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xa(t)}function gi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const eu=Symbol.for("v-scx"),tu=()=>Wn(eu);function Yt(e,t,n){return Qa(e,t,n)}function Qa(e,t,n=He){const{immediate:o,deep:i,flush:a,once:r}=n,u=st({},n),l=t&&o||!t&&a!=="post";let v;if(os){if(a==="sync"){const T=tu();v=T.__watcherHandles||(T.__watcherHandles=[])}else if(!l){const T=()=>{};return T.stop=qt,T.resume=qt,T.pause=qt,T}}const d=it;u.call=(T,V,F)=>xt(T,d,V,F);let c=!1;a==="post"?u.scheduler=T=>{vt(T,d&&d.suspense)}:a!=="sync"&&(c=!0,u.scheduler=(T,V)=>{V?T():Do(T)}),u.augmentJob=T=>{t&&(T.flags|=4),c&&(T.flags|=2,d&&(T.id=d.uid,T.i=d))};const _=ml(e,t,u);return os&&(v?v.push(_):l&&_()),_}function nu(e,t,n){const o=this.proxy,i=Ze(e)?e.includes(".")?Ja(o,e):()=>o[e]:e.bind(o,o);let a;Te(t)?a=t:(a=t.handler,n=t);const r=fs(this),u=Qa(i,a.bind(o),n);return r(),u}function Ja(e,t){const n=t.split(".");return()=>{let o=e;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const su=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Mt(t)}Modifiers`]||e[`${Sn(t)}Modifiers`];function ou(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||He;let i=n;const a=t.startsWith("update:"),r=a&&su(o,t.slice(7));r&&(r.trim&&(i=n.map(d=>Ze(d)?d.trim():d)),r.number&&(i=n.map($s)));let u,l=o[u=Qs(t)]||o[u=Qs(Mt(t))];!l&&a&&(l=o[u=Qs(Sn(t))]),l&&xt(l,e,6,i);const v=o[u+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,xt(v,e,6,i)}}function Za(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(i!==void 0)return i;const a=e.emits;let r={},u=!1;if(!Te(e)){const l=v=>{const d=Za(v,t,!0);d&&(u=!0,st(r,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!u?(qe(e)&&o.set(e,null),null):(_e(a)?a.forEach(l=>r[l]=null):st(r,a),qe(e)&&o.set(e,r),r)}function zs(e,t){return!e||!Us(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,Sn(t))||Oe(e,t))}function yi(e){const{type:t,vnode:n,proxy:o,withProxy:i,propsOptions:[a],slots:r,attrs:u,emit:l,render:v,renderCache:d,props:c,data:_,setupState:T,ctx:V,inheritAttrs:F}=e,N=xs(e);let y,O;try{if(n.shapeFlag&4){const U=i||o,I=U;y=Dt(v.call(I,U,d,c,T,_,V)),O=u}else{const U=t;y=Dt(U.length>1?U(c,{attrs:u,slots:r,emit:l}):U(c,null)),O=t.props?u:iu(u)}}catch(U){Kn.length=0,Gs(U,e,1),y=he(ct)}let $=y;if(O&&F!==!1){const U=Object.keys(O),{shapeFlag:I}=$;U.length&&I&7&&(a&&U.some(Mo)&&(O=au(O,a)),$=dn($,O,!1,!0))}return n.dirs&&($=dn($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&_n($,n.transition),y=$,xs(N),y}const iu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Us(n))&&((t||(t={}))[n]=e[n]);return t},au=(e,t)=>{const n={};for(const o in e)(!Mo(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function ru(e,t,n){const{props:o,children:i,component:a}=e,{props:r,children:u,patchFlag:l}=t,v=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?bi(o,r,v):!!r;if(l&8){const d=t.dynamicProps;for(let c=0;c<d.length;c++){const _=d[c];if(r[_]!==o[_]&&!zs(v,_))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:o===r?!1:o?r?bi(o,r,v):!0:!!r;return!1}function bi(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const a=o[i];if(t[a]!==e[a]&&!zs(n,a))return!0}return!1}function lu({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const er=e=>e.__isSuspense;function uu(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):yl(e)}const ue=Symbol.for("v-fgt"),Ys=Symbol.for("v-txt"),ct=Symbol.for("v-cmt"),Cs=Symbol.for("v-stc"),Kn=[];let Ct=null;function f(e=!1){Kn.push(Ct=e?null:[])}function cu(){Kn.pop(),Ct=Kn[Kn.length-1]||null}let ns=1;function _i(e,t=!1){ns+=e,e<0&&Ct&&t&&(Ct.hasOnce=!0)}function tr(e){return e.dynamicChildren=ns>0?Ct||Mn:null,cu(),ns>0&&Ct&&Ct.push(e),e}function m(e,t,n,o,i,a){return tr(s(e,t,n,o,i,a,!0))}function $t(e,t,n,o,i){return tr(he(e,t,n,o,i,!0))}function ss(e){return e?e.__v_isVNode===!0:!1}function hn(e,t){return e.type===t.type&&e.key===t.key}const nr=({key:e})=>e??null,Es=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ze(e)||De(e)||Te(e)?{i:nt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,i=null,a=e===ue?0:1,r=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nr(t),ref:t&&Es(t),scopeId:Ca,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nt};return u?(jo(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Ze(n)?8:16),ns>0&&!r&&Ct&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Ct.push(l),l}const he=du;function du(e,t=null,n=null,o=0,i=null,a=!1){if((!e||e===Ua)&&(e=ct),ss(e)){const u=dn(e,t,!0);return n&&jo(u,n),ns>0&&!a&&Ct&&(u.shapeFlag&6?Ct[Ct.indexOf(e)]=u:Ct.push(u)),u.patchFlag=-2,u}if(Su(e)&&(e=e.__vccOpts),t){t=fu(t);let{class:u,style:l}=t;u&&!Ze(u)&&(t.class=fe(u)),qe(l)&&(Fo(l)&&!_e(l)&&(l=st({},l)),t.style=Ye(l))}const r=Ze(e)?1:er(e)?128:ka(e)?64:qe(e)?4:Te(e)?2:0;return s(e,t,n,o,i,r,a,!0)}function fu(e){return e?Fo(e)||Ha(e)?st({},e):e:null}function dn(e,t,n=!1,o=!1){const{props:i,ref:a,patchFlag:r,children:u,transition:l}=e,v=t?sr(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&nr(v),ref:t&&t.ref?n&&a?_e(a)?a.concat(Es(t)):[a,Es(t)]:Es(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ue?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&_n(d,l.clone(d)),d}function Me(e=" ",t=0){return he(Ys,null,e,t)}function ds(e,t){const n=he(Cs,null,e);return n.staticCount=t,n}function ne(e="",t=!1){return t?(f(),$t(ct,null,e)):he(ct,null,e)}function Dt(e){return e==null||typeof e=="boolean"?he(ct):_e(e)?he(ue,null,e.slice()):ss(e)?on(e):he(Ys,null,String(e))}function on(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function jo(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),jo(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Ha(t)?t._ctx=nt:i===3&&nt&&(nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:nt},n=32):(t=String(t),o&64?(n=16,t=[Me(t)]):n=8);e.children=t,e.shapeFlag|=n}function sr(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=fe([t.class,o.class]));else if(i==="style")t.style=Ye([t.style,o.style]);else if(Us(i)){const a=t[i],r=o[i];r&&a!==r&&!(_e(a)&&a.includes(r))&&(t[i]=a?[].concat(a,r):r)}else i!==""&&(t[i]=o[i])}return t}function Lt(e,t,n,o=null){xt(e,t,7,[n,o])}const pu=qa();let vu=0;function mu(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||pu,a={uid:vu++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:za(o,i),emitsOptions:Za(o,i),emit:null,emitted:null,propsDefaults:He,inheritAttrs:o.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=ou.bind(null,a),e.ce&&e.ce(a),a}let it=null;const or=()=>it||nt;let Ps,So;{const e=Ds(),t=(n,o)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(o),a=>{i.length>1?i.forEach(r=>r(a)):i[0](a)}};Ps=t("__VUE_INSTANCE_SETTERS__",n=>it=n),So=t("__VUE_SSR_SETTERS__",n=>os=n)}const fs=e=>{const t=it;return Ps(e),e.scope.on(),()=>{e.scope.off(),Ps(t)}},Si=()=>{it&&it.scope.off(),Ps(null)};function ir(e){return e.vnode.shapeFlag&4}let os=!1;function hu(e,t=!1,n=!1){t&&So(t);const{props:o,children:i}=e.vnode,a=ir(e);Hl(e,o,a,t),Wl(e,i,n||t);const r=a?gu(e,t):void 0;return t&&So(!1),r}function gu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Nl);const{setup:o}=n;if(o){Kt();const i=e.setupContext=o.length>1?bu(e):null,a=fs(e),r=us(o,e,0,[e.props,i]),u=Yi(r);if(Xt(),a(),(u||e.sp)&&!xn(e)&&Pa(e),u){if(r.then(Si,Si),t)return r.then(l=>{Ci(e,l)}).catch(l=>{Gs(l,e,0)});e.asyncDep=r}else Ci(e,r)}else ar(e)}function Ci(e,t,n){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=ha(t)),ar(e)}function ar(e,t,n){const o=e.type;e.render||(e.render=o.render||qt);{const i=fs(e);Kt();try{Ol(e)}finally{Xt(),i()}}}const yu={get(e,t){return ut(e,"get",""),e[t]}};function bu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,yu),slots:e.slots,emit:e.emit,expose:t}}function Ws(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ha(Bo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yn)return Yn[n](e)},has(t,n){return n in t||n in Yn}})):e.proxy}function _u(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function Su(e){return Te(e)&&"__vccOpts"in e}const Z=(e,t)=>pl(e,t,os);function Cu(e,t,n){const o=arguments.length;return o===2?qe(t)&&!_e(t)?ss(t)?he(e,null,[t]):he(e,t):he(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&ss(n)&&(n=[n]),he(e,t,n))}const Eu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Co;const Ei=typeof window<"u"&&window.trustedTypes;if(Ei)try{Co=Ei.createPolicy("vue",{createHTML:e=>e})}catch{}const rr=Co?e=>Co.createHTML(e):e=>e,ku="http://www.w3.org/2000/svg",wu="http://www.w3.org/1998/Math/MathML",Gt=typeof document<"u"?document:null,ki=Gt&&Gt.createElement("template"),$u={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i=t==="svg"?Gt.createElementNS(ku,e):t==="mathml"?Gt.createElementNS(wu,e):n?Gt.createElement(e,{is:n}):Gt.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>Gt.createTextNode(e),createComment:e=>Gt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,a){const r=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{ki.innerHTML=rr(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=ki.content;if(o==="svg"||o==="mathml"){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}t.insertBefore(u,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Jt="transition",Fn="animation",Pn=Symbol("_vtc"),lr={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ur=st({},Aa,lr),Tu=e=>(e.displayName="Transition",e.props=ur,e),Mu=Tu((e,{slots:t})=>Cu(Sl,cr(e),t)),vn=(e,t=[])=>{_e(e)?e.forEach(n=>n(...t)):e&&e(...t)},wi=e=>e?_e(e)?e.some(t=>t.length>1):e.length>1:!1;function cr(e){const t={};for(const P in e)P in lr||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:o,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:v=r,appearToClass:d=u,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:T=`${n}-leave-to`}=e,V=Au(i),F=V&&V[0],N=V&&V[1],{onBeforeEnter:y,onEnter:O,onEnterCancelled:$,onLeave:U,onLeaveCancelled:I,onBeforeAppear:g=y,onAppear:S=O,onAppearCancelled:b=$}=t,L=(P,x,E,C)=>{P._enterCancelled=C,Zt(P,x?d:u),Zt(P,x?v:r),E&&E()},z=(P,x)=>{P._isLeaving=!1,Zt(P,c),Zt(P,T),Zt(P,_),x&&x()},q=P=>(x,E)=>{const C=P?S:O,A=()=>L(x,P,E);vn(C,[x,A]),$i(()=>{Zt(x,P?l:a),Ut(x,P?d:u),wi(C)||Ti(x,o,F,A)})};return st(t,{onBeforeEnter(P){vn(y,[P]),Ut(P,a),Ut(P,r)},onBeforeAppear(P){vn(g,[P]),Ut(P,l),Ut(P,v)},onEnter:q(!1),onAppear:q(!0),onLeave(P,x){P._isLeaving=!0;const E=()=>z(P,x);Ut(P,c),P._enterCancelled?(Ut(P,_),Eo()):(Eo(),Ut(P,_)),$i(()=>{P._isLeaving&&(Zt(P,c),Ut(P,T),wi(U)||Ti(P,o,N,E))}),vn(U,[P,E])},onEnterCancelled(P){L(P,!1,void 0,!0),vn($,[P])},onAppearCancelled(P){L(P,!0,void 0,!0),vn(b,[P])},onLeaveCancelled(P){z(P),vn(I,[P])}})}function Au(e){if(e==null)return null;if(qe(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return Rr(e)}function Ut(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Pn]||(e[Pn]=new Set)).add(t)}function Zt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Pn];n&&(n.delete(t),n.size||(e[Pn]=void 0))}function $i(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ru=0;function Ti(e,t,n,o){const i=e._endId=++Ru,a=()=>{i===e._endId&&o()};if(n!=null)return setTimeout(a,n);const{type:r,timeout:u,propCount:l}=dr(e,t);if(!r)return o();const v=r+"end";let d=0;const c=()=>{e.removeEventListener(v,_),a()},_=T=>{T.target===e&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},u+1),e.addEventListener(v,_)}function dr(e,t){const n=window.getComputedStyle(e),o=V=>(n[V]||"").split(", "),i=o(`${Jt}Delay`),a=o(`${Jt}Duration`),r=Mi(i,a),u=o(`${Fn}Delay`),l=o(`${Fn}Duration`),v=Mi(u,l);let d=null,c=0,_=0;t===Jt?r>0&&(d=Jt,c=r,_=a.length):t===Fn?v>0&&(d=Fn,c=v,_=l.length):(c=Math.max(r,v),d=c>0?r>v?Jt:Fn:null,_=d?d===Jt?a.length:l.length:0);const T=d===Jt&&/\b(transform|all)(,|$)/.test(o(`${Jt}Property`).toString());return{type:d,timeout:c,propCount:_,hasTransform:T}}function Mi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Ai(n)+Ai(e[o])))}function Ai(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Eo(){return document.body.offsetHeight}function xu(e,t,n){const o=e[Pn];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ri=Symbol("_vod"),Iu=Symbol("_vsh"),Pu=Symbol(""),Nu=/(^|;)\s*display\s*:/;function Ou(e,t,n){const o=e.style,i=Ze(n);let a=!1;if(n&&!i){if(t)if(Ze(t))for(const r of t.split(";")){const u=r.slice(0,r.indexOf(":")).trim();n[u]==null&&ks(o,u,"")}else for(const r in t)n[r]==null&&ks(o,r,"");for(const r in n)r==="display"&&(a=!0),ks(o,r,n[r])}else if(i){if(t!==n){const r=o[Pu];r&&(n+=";"+r),o.cssText=n,a=Nu.test(n)}}else t&&e.removeAttribute("style");Ri in e&&(e[Ri]=a?o.display:"",e[Iu]&&(o.display="none"))}const xi=/\s*!important$/;function ks(e,t,n){if(_e(n))n.forEach(o=>ks(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Lu(e,t);xi.test(n)?e.setProperty(Sn(o),n.replace(xi,""),"important"):e[o]=n}}const Ii=["Webkit","Moz","ms"],ao={};function Lu(e,t){const n=ao[t];if(n)return n;let o=Mt(t);if(o!=="filter"&&o in e)return ao[t]=o;o=Bs(o);for(let i=0;i<Ii.length;i++){const a=Ii[i]+o;if(a in e)return ao[t]=a}return t}const Pi="http://www.w3.org/1999/xlink";function Ni(e,t,n,o,i,a=Lr(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pi,t.slice(6,t.length)):e.setAttributeNS(Pi,t,n):n==null||a&&!Xi(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Rt(n)?String(n):n)}function Oi(e,t,n,o,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?rr(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(u!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Xi(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(i||t)}function ln(e,t,n,o){e.addEventListener(t,n,o)}function Uu(e,t,n,o){e.removeEventListener(t,n,o)}const Li=Symbol("_vei");function Fu(e,t,n,o,i=null){const a=e[Li]||(e[Li]={}),r=a[t];if(o&&r)r.value=o;else{const[u,l]=Bu(t);if(o){const v=a[t]=Vu(o,i);ln(e,u,v,l)}else r&&(Uu(e,u,r,l),a[t]=void 0)}}const Ui=/(?:Once|Passive|Capture)$/;function Bu(e){let t;if(Ui.test(e)){t={};let o;for(;o=e.match(Ui);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Sn(e.slice(2)),t]}let ro=0;const Du=Promise.resolve(),qu=()=>ro||(Du.then(()=>ro=0),ro=Date.now());function Vu(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;xt(Gu(o,n.value),t,5,[o])};return n.value=e,n.attached=qu(),n}function Gu(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const Fi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Hu=(e,t,n,o,i,a)=>{const r=i==="svg";t==="class"?xu(e,o,r):t==="style"?Ou(e,n,o):Us(t)?Mo(t)||Fu(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ju(e,t,o,r))?(Oi(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ni(e,t,o,r,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ze(o))?Oi(e,Mt(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Ni(e,t,o,r))};function ju(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Fi(t)&&Te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Fi(t)&&Ze(n)?!1:t in e}const fr=new WeakMap,pr=new WeakMap,Ns=Symbol("_moveCb"),Bi=Symbol("_enterCb"),zu=e=>(delete e.props.mode,e),Yu=zu({name:"TransitionGroup",props:st({},ur,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=or(),o=Ma();let i,a;return Oa(()=>{if(!i.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Ju(i[0].el,n.vnode.el,r)){i=[];return}i.forEach(Ku),i.forEach(Xu);const u=i.filter(Qu);Eo(),u.forEach(l=>{const v=l.el,d=v.style;Ut(v,r),d.transform=d.webkitTransform=d.transitionDuration="";const c=v[Ns]=_=>{_&&_.target!==v||(!_||/transform$/.test(_.propertyName))&&(v.removeEventListener("transitionend",c),v[Ns]=null,Zt(v,r))};v.addEventListener("transitionend",c)}),i=[]}),()=>{const r=Re(e),u=cr(r);let l=r.tag||ue;if(i=[],a)for(let v=0;v<a.length;v++){const d=a[v];d.el&&d.el instanceof Element&&(i.push(d),_n(d,ts(d,u,o,n)),fr.set(d,d.el.getBoundingClientRect()))}a=t.default?qo(t.default()):[];for(let v=0;v<a.length;v++){const d=a[v];d.key!=null&&_n(d,ts(d,u,o,n))}return he(l,null,a)}}}),Wu=Yu;function Ku(e){const t=e.el;t[Ns]&&t[Ns](),t[Bi]&&t[Bi]()}function Xu(e){pr.set(e,e.el.getBoundingClientRect())}function Qu(e){const t=fr.get(e),n=pr.get(e),o=t.left-n.left,i=t.top-n.top;if(o||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${o}px,${i}px)`,a.transitionDuration="0s",e}}function Ju(e,t,n){const o=e.cloneNode(),i=e[Pn];i&&i.forEach(u=>{u.split(/\s+/).forEach(l=>l&&o.classList.remove(l))}),n.split(/\s+/).forEach(u=>u&&o.classList.add(u)),o.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(o);const{hasTransform:r}=dr(o);return a.removeChild(o),r}const Nn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>_s(t,n):t};function Zu(e){e.target.composing=!0}function Di(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Wt=Symbol("_assign"),ws={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e[Wt]=Nn(i);const a=o||i.props&&i.props.type==="number";ln(e,t?"change":"input",r=>{if(r.target.composing)return;let u=e.value;n&&(u=u.trim()),a&&(u=$s(u)),e[Wt](u)}),n&&ln(e,"change",()=>{e.value=e.value.trim()}),t||(ln(e,"compositionstart",Zu),ln(e,"compositionend",Di),ln(e,"change",Di))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:i,number:a}},r){if(e[Wt]=Nn(r),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?$s(e.value):e.value,l=t??"";u!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||i&&e.value.trim()===l)||(e.value=l))}},tt={deep:!0,created(e,t,n){e[Wt]=Nn(n),ln(e,"change",()=>{const o=e._modelValue,i=is(e),a=e.checked,r=e[Wt];if(_e(o)){const u=xo(o,i),l=u!==-1;if(a&&!l)r(o.concat(i));else if(!a&&l){const v=[...o];v.splice(u,1),r(v)}}else if(On(o)){const u=new Set(o);a?u.add(i):u.delete(i),r(u)}else r(vr(e,a))})},mounted:qi,beforeUpdate(e,t,n){e[Wt]=Nn(n),qi(e,t,n)}};function qi(e,{value:t,oldValue:n},o){e._modelValue=t;let i;if(_e(t))i=xo(t,o.props.value)>-1;else if(On(t))i=t.has(o.props.value);else{if(t===n)return;i=ls(t,vr(e,!0))}e.checked!==i&&(e.checked=i)}const In={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=On(t);ln(e,"change",()=>{const a=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?$s(is(r)):is(r));e[Wt](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,Cn(()=>{e._assigning=!1})}),e[Wt]=Nn(o)},mounted(e,{value:t}){Vi(e,t)},beforeUpdate(e,t,n){e[Wt]=Nn(n)},updated(e,{value:t}){e._assigning||Vi(e,t)}};function Vi(e,t){const n=e.multiple,o=_e(t);if(!(n&&!o&&!On(t))){for(let i=0,a=e.options.length;i<a;i++){const r=e.options[i],u=is(r);if(n)if(o){const l=typeof u;l==="string"||l==="number"?r.selected=t.some(v=>String(v)===String(u)):r.selected=xo(t,u)>-1}else r.selected=t.has(u);else if(ls(is(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function is(e){return"_value"in e?e._value:e.value}function vr(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ec=["ctrl","shift","alt","meta"],tc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ec.some(n=>e[`${n}Key`]&&!t.includes(n))},zo=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(i,...a)=>{for(let r=0;r<t.length;r++){const u=tc[t[r]];if(u&&u(i,t))return}return e(i,...a)})},nc=st({patchProp:Hu},$u);let Gi;function sc(){return Gi||(Gi=Xl(nc))}const oc=(...e)=>{const t=sc().createApp(...e),{mount:n}=t;return t.mount=o=>{const i=ac(o);if(!i)return;const a=t._component;!Te(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=n(i,!1,ic(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function ic(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ac(e){return Ze(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let mr;const Ks=e=>mr=e,hr=Symbol();function ko(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Xn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xn||(Xn={}));function rc(){const e=ea(!0),t=e.run(()=>W({}));let n=[],o=[];const i=Bo({install(a){Ks(i),i._a=a,a.provide(hr,i),a.config.globalProperties.$pinia=i,o.forEach(r=>n.push(r)),o=[]},use(a){return this._a?n.push(a):o.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const gr=()=>{};function Hi(e,t,n,o=gr){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&ta()&&Fr(i),i}function kn(e,...t){e.slice().forEach(n=>{n(...t)})}const lc=e=>e(),ji=Symbol(),lo=Symbol();function wo(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],i=e[n];ko(i)&&ko(o)&&e.hasOwnProperty(n)&&!De(o)&&!zt(o)?e[n]=wo(i,o):e[n]=o}return e}const uc=Symbol();function cc(e){return!ko(e)||!Object.prototype.hasOwnProperty.call(e,uc)}const{assign:en}=Object;function dc(e){return!!(De(e)&&e.effect)}function fc(e,t,n,o){const{state:i,actions:a,getters:r}=t,u=n.state.value[e];let l;function v(){u||(n.state.value[e]=i?i():{});const d=ll(n.state.value[e]);return en(d,a,Object.keys(r||{}).reduce((c,_)=>(c[_]=Bo(Z(()=>{Ks(n);const T=n._s.get(e);return r[_].call(T,T)})),c),{}))}return l=yr(e,v,t,n,o,!0),l}function yr(e,t,n={},o,i,a){let r;const u=en({actions:{}},n),l={deep:!0};let v,d,c=[],_=[],T;const V=o.state.value[e];!a&&!V&&(o.state.value[e]={}),W({});let F;function N(b){let L;v=d=!1,typeof b=="function"?(b(o.state.value[e]),L={type:Xn.patchFunction,storeId:e,events:T}):(wo(o.state.value[e],b),L={type:Xn.patchObject,payload:b,storeId:e,events:T});const z=F=Symbol();Cn().then(()=>{F===z&&(v=!0)}),d=!0,kn(c,L,o.state.value[e])}const y=a?function(){const{state:L}=n,z=L?L():{};this.$patch(q=>{en(q,z)})}:gr;function O(){r.stop(),c=[],_=[],o._s.delete(e)}const $=(b,L="")=>{if(ji in b)return b[lo]=L,b;const z=function(){Ks(o);const q=Array.from(arguments),P=[],x=[];function E(D){P.push(D)}function C(D){x.push(D)}kn(_,{args:q,name:z[lo],store:I,after:E,onError:C});let A;try{A=b.apply(this&&this.$id===e?this:I,q)}catch(D){throw kn(x,D),D}return A instanceof Promise?A.then(D=>(kn(P,D),D)).catch(D=>(kn(x,D),Promise.reject(D))):(kn(P,A),A)};return z[ji]=!0,z[lo]=L,z},U={_p:o,$id:e,$onAction:Hi.bind(null,_),$patch:N,$reset:y,$subscribe(b,L={}){const z=Hi(c,b,L.detached,()=>q()),q=r.run(()=>Yt(()=>o.state.value[e],P=>{(L.flush==="sync"?d:v)&&b({storeId:e,type:Xn.direct,events:T},P)},en({},l,L)));return z},$dispose:O},I=Vs(U);o._s.set(e,I);const S=(o._a&&o._a.runWithContext||lc)(()=>o._e.run(()=>(r=ea()).run(()=>t({action:$}))));for(const b in S){const L=S[b];if(De(L)&&!dc(L)||zt(L))a||(V&&cc(L)&&(De(L)?L.value=V[b]:wo(L,V[b])),o.state.value[e][b]=L);else if(typeof L=="function"){const z=$(L,b);S[b]=z,u.actions[b]=L}}return en(I,S),en(Re(I),S),Object.defineProperty(I,"$state",{get:()=>o.state.value[e],set:b=>{N(L=>{en(L,b)})}}),o._p.forEach(b=>{en(I,r.run(()=>b({store:I,app:o._a,pinia:o,options:u})))}),V&&a&&n.hydrate&&n.hydrate(I.$state,V),v=!0,d=!0,I}/*! #__NO_SIDE_EFFECTS__ */function _t(e,t,n){let o;const i=typeof t=="function";o=i?n:t;function a(r,u){const l=Gl();return r=r||(l?Wn(hr,null):null),r&&Ks(r),r=mr,r._s.has(e)||(i?yr(e,t,o,r):fc(e,o,r)),r._s.get(e)}return a.$id=e,a}function Ke(e){const t=Re(e),n={};for(const o in t){const i=t[o];i.effect?n[o]=Z({get:()=>e[o],set(a){e[o]=a}}):(De(i)||zt(i))&&(n[o]=dl(e,o))}return n}function pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uo,zi;function vc(){return zi||(zi=1,uo=function(e,t,n){if(e==null||t==null)return e;var o=String(e),i=typeof t=="number"?t:parseInt(t,10);if(isNaN(i)||!isFinite(i))return o;var a=o.length;if(a>=i)return o;var r=n==null?"":String(n);r===""&&(r=" ");for(var u=i-a;r.length<u;)r+=r;var l=r.length>u?r.substr(0,u):r;return o+l}),uo}var mc=vc();const co=pc(mc);var Bt=9e15,bs=function(){for(var e=[],t=-323;t<=308;t++)e.push(+("1e"+t));return function(n){return e[n+323]}}(),ce=function(e){return e instanceof Et?e:new Et(e)},yt=function(e,t){return new Et().fromMantissaExponent(e,t)},gn=function(e,t){return new Et().fromMantissaExponent_noNormalize(e,t)};function hc(e,t,n,o){var i=t.mul(n.pow(o));return Et.floor(e.div(i).mul(n.sub(1)).add(1).log10()/n.log10())}function gc(e,t,n,o){return t.mul(n.pow(o)).mul(Et.sub(1,n.pow(e))).div(Et.sub(1,n))}var Et=function(){function e(t){this.mantissa=NaN,this.exponent=NaN,t===void 0?(this.m=0,this.e=0):t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(e.prototype,"m",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return this.sign()},set:function(t){if(t===0)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),e.fromMantissaExponent=function(t,n){return new e().fromMantissaExponent(t,n)},e.fromMantissaExponent_noNormalize=function(t,n){return new e().fromMantissaExponent_noNormalize(t,n)},e.fromDecimal=function(t){return new e().fromDecimal(t)},e.fromNumber=function(t){return new e().fromNumber(t)},e.fromString=function(t){return new e().fromString(t)},e.fromValue=function(t){return new e().fromValue(t)},e.fromValue_noAlloc=function(t){return t instanceof e?t:new e(t)},e.abs=function(t){return ce(t).abs()},e.neg=function(t){return ce(t).neg()},e.negate=function(t){return ce(t).neg()},e.negated=function(t){return ce(t).neg()},e.sign=function(t){return ce(t).sign()},e.sgn=function(t){return ce(t).sign()},e.round=function(t){return ce(t).round()},e.floor=function(t){return ce(t).floor()},e.ceil=function(t){return ce(t).ceil()},e.trunc=function(t){return ce(t).trunc()},e.add=function(t,n){return ce(t).add(n)},e.plus=function(t,n){return ce(t).add(n)},e.sub=function(t,n){return ce(t).sub(n)},e.subtract=function(t,n){return ce(t).sub(n)},e.minus=function(t,n){return ce(t).sub(n)},e.mul=function(t,n){return ce(t).mul(n)},e.multiply=function(t,n){return ce(t).mul(n)},e.times=function(t,n){return ce(t).mul(n)},e.div=function(t,n){return ce(t).div(n)},e.divide=function(t,n){return ce(t).div(n)},e.recip=function(t){return ce(t).recip()},e.reciprocal=function(t){return ce(t).recip()},e.reciprocate=function(t){return ce(t).reciprocate()},e.cmp=function(t,n){return ce(t).cmp(n)},e.compare=function(t,n){return ce(t).cmp(n)},e.eq=function(t,n){return ce(t).eq(n)},e.equals=function(t,n){return ce(t).eq(n)},e.neq=function(t,n){return ce(t).neq(n)},e.notEquals=function(t,n){return ce(t).notEquals(n)},e.lt=function(t,n){return ce(t).lt(n)},e.lte=function(t,n){return ce(t).lte(n)},e.gt=function(t,n){return ce(t).gt(n)},e.gte=function(t,n){return ce(t).gte(n)},e.max=function(t,n){return ce(t).max(n)},e.min=function(t,n){return ce(t).min(n)},e.clamp=function(t,n,o){return ce(t).clamp(n,o)},e.clampMin=function(t,n){return ce(t).clampMin(n)},e.clampMax=function(t,n){return ce(t).clampMax(n)},e.cmp_tolerance=function(t,n,o){return ce(t).cmp_tolerance(n,o)},e.compare_tolerance=function(t,n,o){return ce(t).cmp_tolerance(n,o)},e.eq_tolerance=function(t,n,o){return ce(t).eq_tolerance(n,o)},e.equals_tolerance=function(t,n,o){return ce(t).eq_tolerance(n,o)},e.neq_tolerance=function(t,n,o){return ce(t).neq_tolerance(n,o)},e.notEquals_tolerance=function(t,n,o){return ce(t).notEquals_tolerance(n,o)},e.lt_tolerance=function(t,n,o){return ce(t).lt_tolerance(n,o)},e.lte_tolerance=function(t,n,o){return ce(t).lte_tolerance(n,o)},e.gt_tolerance=function(t,n,o){return ce(t).gt_tolerance(n,o)},e.gte_tolerance=function(t,n,o){return ce(t).gte_tolerance(n,o)},e.log10=function(t){return ce(t).log10()},e.absLog10=function(t){return ce(t).absLog10()},e.pLog10=function(t){return ce(t).pLog10()},e.log=function(t,n){return ce(t).log(n)},e.log2=function(t){return ce(t).log2()},e.ln=function(t){return ce(t).ln()},e.logarithm=function(t,n){return ce(t).logarithm(n)},e.pow10=function(t){return Number.isInteger(t)?gn(1,t):yt(Math.pow(10,t%1),Math.trunc(t))},e.pow=function(t,n){return typeof t=="number"&&t===10&&typeof n=="number"&&Number.isInteger(n)?gn(1,n):ce(t).pow(n)},e.exp=function(t){return ce(t).exp()},e.sqr=function(t){return ce(t).sqr()},e.sqrt=function(t){return ce(t).sqrt()},e.cube=function(t){return ce(t).cube()},e.cbrt=function(t){return ce(t).cbrt()},e.dp=function(t){return ce(t).dp()},e.decimalPlaces=function(t){return ce(t).dp()},e.affordGeometricSeries=function(t,n,o,i){return hc(ce(t),ce(n),ce(o),i)},e.sumGeometricSeries=function(t,n,o,i){return gc(t,ce(n),ce(o),i)},e.affordArithmeticSeries=function(t,n,o,i){return function(a,r,u,l){var v=r.add(l.mul(u)).sub(u.div(2)),d=v.pow(2);return v.neg().add(d.add(u.mul(a).mul(2)).sqrt()).div(u).floor()}(ce(t),ce(n),ce(o),ce(i))},e.sumArithmeticSeries=function(t,n,o,i){return function(a,r,u,l){var v=r.add(l.mul(u));return a.div(2).mul(v.mul(2).plus(a.sub(1).mul(u)))}(ce(t),ce(n),ce(o),ce(i))},e.efficiencyOfPurchase=function(t,n,o){return function(i,a,r){return i.div(a).add(i.div(r))}(ce(t),ce(n),ce(o))},e.randomDecimalForTesting=function(t){if(20*Math.random()<1)return gn(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var o=Math.floor(Math.random()*t*2)-t;return yt(n,o)},e.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=t===-324?10*this.m/1e-323:this.m/bs(t),this.e+=t,this},e.prototype.fromMantissaExponent=function(t,n){return isFinite(t)&&isFinite(n)?(this.m=t,this.e=n,this.normalize(),this):(t=Number.NaN,n=Number.NaN,this)},e.prototype.fromMantissaExponent_noNormalize=function(t,n){return this.m=t,this.e=n,this},e.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},e.prototype.fromNumber=function(t){return isNaN(t)?(this.m=Number.NaN,this.e=Number.NaN):t===Number.POSITIVE_INFINITY?(this.m=1,this.e=Bt):t===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=Bt):t===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=this.e===-324?10*t/1e-323:t/bs(this.e),this.normalize()),this},e.prototype.fromString=function(t){if(t.indexOf("e")!==-1){var n=t.split("e");this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}else if(t==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(t)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+t);return this},e.prototype.fromValue=function(t){return t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):typeof t=="string"?this.fromString(t):(this.m=0,this.e=0,this)},e.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var t=this.m*bs(this.e);if(!isFinite(t)||this.e<0)return t;var n=Math.round(t);return Math.abs(n-t)<1e-10?n:t},e.prototype.mantissaWithDecimalPlaces=function(t){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var n=t+1,o=Math.ceil(Math.log10(Math.abs(this.m))),i=Math.round(this.m*Math.pow(10,n-o))*Math.pow(10,o-n);return parseFloat(i.toFixed(Math.max(n-o,0)))},e.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=Bt?this.m>0?"Infinity":"-Infinity":this.e<=-Bt||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toExponential=function(t){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=Bt)return this.m>0?"Infinity":"-Infinity";if(this.e<=-Bt||this.m===0)return"0"+(t>0?co(".",t+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(t);isFinite(t)||(t=17);var n=t+1,o=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,n-o))*Math.pow(10,o-n)).toFixed(Math.max(n-o,0))+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toFixed=function(t){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=Bt?this.m>0?"Infinity":"-Infinity":this.e<=-Bt||this.m===0?"0"+(t>0?co(".",t+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(t>0?co(".",t+1,"0"):""):this.toNumber().toFixed(t)},e.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},e.prototype.valueOf=function(){return this.toString()},e.prototype.toJSON=function(){return this.toString()},e.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},e.prototype.abs=function(){return gn(Math.abs(this.m),this.e)},e.prototype.neg=function(){return gn(-this.m,this.e)},e.prototype.negate=function(){return this.neg()},e.prototype.negated=function(){return this.neg()},e.prototype.sign=function(){return Math.sign(this.m)},e.prototype.sgn=function(){return this.sign()},e.prototype.round=function(){return this.e<-1?new e(0):this.e<17?new e(Math.round(this.toNumber())):this},e.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new e(0):new e(-1):this.e<17?new e(Math.floor(this.toNumber())):this},e.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new e(1):new e(0):this.e<17?new e(Math.ceil(this.toNumber())):this},e.prototype.trunc=function(){return this.e<0?new e(0):this.e<17?new e(Math.trunc(this.toNumber())):this},e.prototype.add=function(t){var n,o,i=ce(t);if(this.m===0)return i;if(i.m===0)return this;if(this.e>=i.e?(n=this,o=i):(n=i,o=this),n.e-o.e>17)return n;var a=Math.round(1e14*n.m+1e14*o.m*bs(o.e-n.e));return yt(a,n.e-14)},e.prototype.plus=function(t){return this.add(t)},e.prototype.sub=function(t){return this.add(ce(t).neg())},e.prototype.subtract=function(t){return this.sub(t)},e.prototype.minus=function(t){return this.sub(t)},e.prototype.mul=function(t){if(typeof t=="number")return t<1e307&&t>-1e307?yt(this.m*t,this.e):yt(1e-307*this.m*t,this.e+307);var n=typeof t=="string"?new e(t):t;return yt(this.m*n.m,this.e+n.e)},e.prototype.multiply=function(t){return this.mul(t)},e.prototype.times=function(t){return this.mul(t)},e.prototype.div=function(t){return this.mul(ce(t).recip())},e.prototype.divide=function(t){return this.div(t)},e.prototype.divideBy=function(t){return this.div(t)},e.prototype.dividedBy=function(t){return this.div(t)},e.prototype.recip=function(){return yt(1/this.m,-this.e)},e.prototype.reciprocal=function(){return this.recip()},e.prototype.reciprocate=function(){return this.recip()},e.prototype.cmp=function(t){var n=ce(t);if(this.m===0){if(n.m===0)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(n.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return n.m<0||this.e>n.e?1:this.e<n.e?-1:this.m>n.m?1:this.m<n.m?-1:0;if(this.m<0)return n.m>0||this.e>n.e?-1:this.e<n.e||this.m>n.m?1:this.m<n.m?-1:0;throw Error("Unreachable code")},e.prototype.compare=function(t){return this.cmp(t)},e.prototype.eq=function(t){var n=ce(t);return this.e===n.e&&this.m===n.m},e.prototype.equals=function(t){return this.eq(t)},e.prototype.neq=function(t){return!this.eq(t)},e.prototype.notEquals=function(t){return this.neq(t)},e.prototype.lt=function(t){var n=ce(t);return this.m===0?n.m>0:n.m===0?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},e.prototype.lte=function(t){return!this.gt(t)},e.prototype.gt=function(t){var n=ce(t);return this.m===0?n.m<0:n.m===0?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},e.prototype.gte=function(t){return!this.lt(t)},e.prototype.max=function(t){var n=ce(t);return this.lt(n)?n:this},e.prototype.min=function(t){var n=ce(t);return this.gt(n)?n:this},e.prototype.clamp=function(t,n){return this.max(t).min(n)},e.prototype.clampMin=function(t){return this.max(t)},e.prototype.clampMax=function(t){return this.min(t)},e.prototype.cmp_tolerance=function(t,n){var o=ce(t);return this.eq_tolerance(o,n)?0:this.cmp(o)},e.prototype.compare_tolerance=function(t,n){return this.cmp_tolerance(t,n)},e.prototype.eq_tolerance=function(t,n){var o=ce(t);return e.lte(this.sub(o).abs(),e.max(this.abs(),o.abs()).mul(n))},e.prototype.equals_tolerance=function(t,n){return this.eq_tolerance(t,n)},e.prototype.neq_tolerance=function(t,n){return!this.eq_tolerance(t,n)},e.prototype.notEquals_tolerance=function(t,n){return this.neq_tolerance(t,n)},e.prototype.lt_tolerance=function(t,n){var o=ce(t);return!this.eq_tolerance(o,n)&&this.lt(o)},e.prototype.lte_tolerance=function(t,n){var o=ce(t);return this.eq_tolerance(o,n)||this.lt(o)},e.prototype.gt_tolerance=function(t,n){var o=ce(t);return!this.eq_tolerance(o,n)&&this.gt(o)},e.prototype.gte_tolerance=function(t,n){var o=ce(t);return this.eq_tolerance(o,n)||this.gt(o)},e.prototype.log10=function(){return this.e+Math.log10(this.m)},e.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},e.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},e.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},e.prototype.log2=function(){return 3.321928094887362*this.log10()},e.prototype.ln=function(){return 2.302585092994045*this.log10()},e.prototype.logarithm=function(t){return this.log(t)},e.prototype.pow=function(t){var n,o=t instanceof e?t.toNumber():t,i=this.e*o;if(Number.isSafeInteger(i)&&(n=Math.pow(this.m,o),isFinite(n)&&n!==0))return yt(n,i);var a=Math.trunc(i),r=i-a;if(n=Math.pow(10,o*Math.log10(this.m)+r),isFinite(n)&&n!==0)return yt(n,a);var u=e.pow10(o*this.absLog10());return this.sign()===-1?Math.abs(o%2)===1?u.neg():Math.abs(o%2)===0?u:new e(Number.NaN):u},e.prototype.pow_base=function(t){return ce(t).pow(this)},e.prototype.factorial=function(){var t=this.toNumber()+1;return e.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},e.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?e.fromNumber(Math.exp(t)):e.pow(Math.E,t)},e.prototype.sqr=function(){return yt(Math.pow(this.m,2),2*this.e)},e.prototype.sqrt=function(){return this.m<0?new e(Number.NaN):this.e%2!=0?yt(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):yt(Math.sqrt(this.m),Math.floor(this.e/2))},e.prototype.cube=function(){return yt(Math.pow(this.m,3),3*this.e)},e.prototype.cbrt=function(){var t=1,n=this.m;n<0&&(t=-1,n=-n);var o=t*Math.pow(n,1/3),i=this.e%3;return yt(i===1||i===-1?2.154434690031883*o:i!==0?4.641588833612778*o:o,Math.floor(this.e/3))},e.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},e.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},e.prototype.tanh=function(){return this.sinh().div(this.cosh())},e.prototype.asinh=function(){return e.ln(this.add(this.sqr().add(1).sqrt()))},e.prototype.acosh=function(){return e.ln(this.add(this.sqr().sub(1).sqrt()))},e.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:e.ln(this.add(1).div(new e(1).sub(this)))/2},e.prototype.ascensionPenalty=function(t){return t===0?this:this.pow(Math.pow(10,-t))},e.prototype.egg=function(){return this.add(9)},e.prototype.lessThanOrEqualTo=function(t){return this.cmp(t)<1},e.prototype.lessThan=function(t){return this.cmp(t)<0},e.prototype.greaterThanOrEqualTo=function(t){return this.cmp(t)>-1},e.prototype.greaterThan=function(t){return this.cmp(t)>0},e.prototype.decimalPlaces=function(){return this.dp()},e.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,n=-this.exponent,o=1;Math.abs(Math.round(t*o)/o-t)>1e-10;)o*=10,n++;return n>0?n:0},Object.defineProperty(e,"MAX_VALUE",{get:function(){return yc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MIN_VALUE",{get:function(){return bc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MAX_VALUE",{get:function(){return _c},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MIN_VALUE",{get:function(){return Sc},enumerable:!1,configurable:!0}),e}(),yc=gn(1,Bt),bc=gn(1,-Bt),_c=ce(Number.MAX_VALUE),Sc=ce(Number.MIN_VALUE);function R(e){return new Et(e)}const Be=R(0),Ee=R(1);R(10);var ke=(e=>(e.EXPANSION="expansion",e.CONTRACTION="contraction",e.STABILITY="stability",e.CATACLYSM="cataclysm",e.FUSION="fusion",e))(ke||{});const Xs=_t("pulsation",()=>{const e=W({state:ke.EXPANSION,progress:0,duration:0,totalCycleTime:60,cyclesCompleted:0}),t=W(!1),n=W(0),o=W(1e3),i=W(1),a=W(!1),r=W(0),u={[ke.EXPANSION]:15,[ke.CONTRACTION]:15,[ke.STABILITY]:10,[ke.CATACLYSM]:12,[ke.FUSION]:8},l=W([{id:"faster_awakening",name:"Rapid Awakening",description:"Reduces Awakening state duration by 50%",cost:R(10),costType:"stellarEnergy",effect:{type:"state_duration",value:.5,target:ke.EXPANSION},unlocked:!0,purchased:!1},{id:"extended_peak",name:"Extended Peak",description:"Increases Peak state duration by 100%",cost:R(25),costType:"stellarEnergy",effect:{type:"state_duration",value:2,target:ke.STABILITY},unlocked:!1,purchased:!1},{id:"cycle_amplifier",name:"Cycle Amplifier",description:"Increases all pulsation bonuses by 50%",cost:R(100),costType:"stellarEnergy",effect:{type:"bonus_multiplier",value:1.5},unlocked:!1,purchased:!1},{id:"perpetual_motion",name:"Perpetual Motion",description:"Eliminates Dormant state, cycles continuously",cost:R(500),costType:"stellarEnergy",effect:{type:"special",value:1},unlocked:!1,purchased:!1},{id:"stellar_observatory",name:"Stellar Observatory",description:"Unlock advanced stellar observation capabilities",cost:R(8),costType:"starlight",effect:{type:"special",value:1},unlocked:!1,purchased:!1},{id:"temporal_calibration",name:"Temporal Calibration",description:"Synchronize pulsation cycles with cosmic rhythms (+25% all bonuses)",cost:R(12),costType:"starlight",effect:{type:"bonus_multiplier",value:1.25},unlocked:!1,purchased:!1},{id:"quantum_resonance",name:"Quantum Resonance",description:"Quantum effects allow simultaneous pulsation states (stacks bonuses)",cost:R(18),costType:"starlight",effect:{type:"special",value:2},unlocked:!1,purchased:!1},{id:"cosmic_attunement",name:"Cosmic Attunement",description:"Attune to cosmic frequencies for permanent state benefits",cost:R(25),costType:"starlight",effect:{type:"special",value:3},unlocked:!1,purchased:!1},{id:"stellar_singularity",name:"Stellar Singularity",description:"Create a controlled singularity for exponential pulsation effects",cost:R(35),costType:"starlight",effect:{type:"special",value:4},unlocked:!1,purchased:!1}]),v=Z(()=>{if(!t.value)return{stardustMultiplier:Ee,filamentEfficiency:Ee,nebularEssenceRate:Ee};let E=Ee,C=Ee,A=Ee,D="";switch(e.value.state){case ke.EXPANSION:E=R(5),C=R(1),A=R(1),D="Production x5, costs x1.5, enhanced Rail Road speed";break;case ke.CONTRACTION:E=R(.75),C=R(1),A=R(1),D="Reduced costs, enhanced Starlight gain, constellation boost";break;case ke.STABILITY:E=R(1.5),C=R(1.5),A=R(1.5),D="Balanced enhancement across all systems";break;case ke.CATACLYSM:E=R(1.5).pow(Math.random()*2),C=R(.65),A=R(1),D="Chaotic energy surges, unpredictable effects";break;case ke.FUSION:E=R(1),C=R(1.5),A=R(4),D="Maximum synergy achieved, high energy consumption";break}if(l.value.find(xe=>xe.id==="cycle_amplifier")?.purchased&&(E=E.mul(1.5),C=C.mul(1.5),A=A.mul(1.5)),l.value.find(xe=>xe.id==="temporal_calibration")?.purchased&&(E=E.mul(1.25),C=C.mul(1.25),A=A.mul(1.25)),l.value.find(xe=>xe.id==="quantum_resonance")?.purchased&&(E=E.mul(1.5),C=C.mul(1.5),A=A.mul(1.5)),l.value.find(xe=>xe.id==="cosmic_attunement")?.purchased&&(E=E.mul(1.2),C=C.mul(1.2),A=A.mul(1.2)),l.value.find(xe=>xe.id==="stellar_singularity")?.purchased){const xe=R(1.1).pow(e.value.cyclesCompleted);E=E.mul(xe),C=C.mul(xe),A=A.mul(xe)}return{stardustMultiplier:E,filamentEfficiency:C,nebularEssenceRate:A,specialEffect:D}}),d=Z(()=>{const E=Object.values(ke),A=(E.indexOf(e.value.state)+1)%E.length;return E[A]}),c=Z(()=>{const E=I(e.value.state);return Math.max(0,E-e.value.duration)}),_=Z(()=>a.value&&r.value<=0&&t.value),T={[ke.EXPANSION]:100,[ke.CONTRACTION]:100,[ke.STABILITY]:250,[ke.CATACLYSM]:50,[ke.FUSION]:50};function V(){return n.value<10?!1:(n.value-=10,t.value=!0,e.value.state=ke.EXPANSION,e.value.progress=0,e.value.duration=0,!0)}function F(){t.value=!1,e.value.state=ke.EXPANSION,e.value.progress=0,e.value.duration=0}function N(E){if(!_.value||e.value.state===E)return!1;const C=T[E];return n.value>=C}function y(E){if(!N(E))return!1;const C=T[E];return n.value-=C,e.value.state=E,e.value.duration=0,e.value.progress=0,r.value=30+C/10,!0}function O(){return n.value>=500||o.value>=2e3?(a.value=!0,!0):!1}function $(E){r.value>0&&(r.value=Math.max(0,r.value-E)),a.value||O(),L();let C=i.value;if(t.value)switch(e.value.state){case ke.STABILITY:C*=2;break;case ke.FUSION:C*=3,C=-C;break}if(n.value=Math.min(o.value,Math.max(0,n.value+E*C)),!t.value)return;e.value.duration+=E;const A=I(e.value.state);e.value.progress=Math.min(100,e.value.duration/A*100),e.value.duration>=A&&U()}function U(){const E=Object.values(ke);let A=(E.indexOf(e.value.state)+1)%E.length;e.value.state=E[A],e.value.duration=0,e.value.progress=0,e.value.state===ke.EXPANSION&&e.value.cyclesCompleted++}function I(E){let C=u[E];return l.value.forEach(A=>{A.purchased&&A.effect.type==="state_duration"&&A.effect.target===E&&(C*=A.effect.value)}),C}function g(){try{return ge()}catch{return null}}function S(E){const C=l.value.find(A=>A.id===E);if(!C||C.purchased||!C.unlocked)return!1;switch(C.costType){case"stellarEnergy":return n.value>=C.cost.toNumber();case"starlight":const A=g();return A?A.starlight.amount.gte(C.cost):!1;default:return!1}}function b(E){if(!S(E))return!1;const C=l.value.find(A=>A.id===E);switch(C.costType){case"stellarEnergy":n.value-=C.cost.toNumber();break;case"starlight":const A=g();A&&(A.starlight.amount=A.starlight.amount.sub(C.cost));break}return C.purchased=!0,L(),!0}function L(){const E=g(),C=E?E.starlight.amount.toNumber():0;if(l.value.find(A=>A.id==="faster_awakening")?.purchased){const A=l.value.find(D=>D.id==="extended_peak");A&&(A.unlocked=!0)}if(e.value.cyclesCompleted>=10){const A=l.value.find(D=>D.id==="cycle_amplifier");A&&(A.unlocked=!0)}if(l.value.find(A=>A.id==="cycle_amplifier")?.purchased){const A=l.value.find(D=>D.id==="perpetual_motion");A&&(A.unlocked=!0)}if(C>=8){const A=l.value.find(D=>D.id==="stellar_observatory");A&&(A.unlocked=!0)}if(l.value.find(A=>A.id==="stellar_observatory")?.purchased){const A=l.value.find(D=>D.id==="temporal_calibration");A&&(A.unlocked=!0)}if(l.value.find(A=>A.id==="temporal_calibration")?.purchased){const A=l.value.find(D=>D.id==="quantum_resonance");A&&(A.unlocked=!0)}if(l.value.find(A=>A.id==="quantum_resonance")?.purchased){const A=l.value.find(D=>D.id==="cosmic_attunement");A&&(A.unlocked=!0)}if(l.value.find(A=>A.id==="cosmic_attunement")?.purchased&&e.value.cyclesCompleted>=50){const A=l.value.find(D=>D.id==="stellar_singularity");A&&(A.unlocked=!0)}}function z(){t.value=!1,n.value=0,a.value=!1,r.value=0,e.value={state:ke.EXPANSION,progress:0,duration:0,totalCycleTime:60,cyclesCompleted:0},l.value.forEach(E=>{E.purchased=!1,E.unlocked=E.id==="faster_awakening"})}function q(){t.value=!1,r.value=0,e.value={state:ke.EXPANSION,progress:0,duration:0,totalCycleTime:60,cyclesCompleted:0}}function P(){return{cycle:{state:e.value.state,progress:e.value.progress,duration:e.value.duration,totalCycleTime:e.value.totalCycleTime,cyclesCompleted:e.value.cyclesCompleted},isActive:t.value,stellarEnergy:n.value,maxStellarEnergy:o.value,stellarEnergyRate:i.value,manualControlUnlocked:a.value,manualControlCooldown:r.value,upgrades:l.value.map(E=>({id:E.id,purchased:E.purchased,unlocked:E.unlocked}))}}function x(E){E.cycle&&(e.value={state:E.cycle.state??ke.EXPANSION,progress:E.cycle.progress??0,duration:E.cycle.duration??0,totalCycleTime:E.cycle.totalCycleTime??60,cyclesCompleted:E.cycle.cyclesCompleted??0}),E.isActive!==void 0&&(t.value=E.isActive),E.stellarEnergy!==void 0&&(n.value=E.stellarEnergy),E.maxStellarEnergy!==void 0&&(o.value=E.maxStellarEnergy),E.stellarEnergyRate!==void 0&&(i.value=E.stellarEnergyRate),E.manualControlUnlocked!==void 0&&(a.value=E.manualControlUnlocked),E.manualControlCooldown!==void 0&&(r.value=E.manualControlCooldown),E.upgrades&&Array.isArray(E.upgrades)&&E.upgrades.forEach(C=>{const A=l.value.find(D=>D.id===C.id);A&&(A.purchased=C.purchased??!1,A.unlocked=C.unlocked??!1)})}return{cycle:e,isActive:t,stellarEnergy:n,upgrades:l,manualControlUnlocked:a,manualControlCooldown:r,currentBonus:v,nextStateInfo:d,timeToNextState:c,canUseManualControl:_,startPulsation:V,stopPulsation:F,tick:$,canPurchaseUpgrade:S,purchaseUpgrade:b,canForceState:N,forceState:y,unlockManualControl:O,reset:z,softReset:q,save:P,load:x}});var ee=(e=>(e.ARIES="aries",e.TAURUS="taurus",e.GEMINI="gemini",e.CANCER="cancer",e.LEO="leo",e.VIRGO="virgo",e.LIBRA="libra",e.SCORPIO="scorpio",e.SAGITTARIUS="sagittarius",e.CAPRICORN="capricorn",e.AQUARIUS="aquarius",e.PISCES="pisces",e))(ee||{}),Dn=(e=>(e.VERNAL_EQUINOX="vernal_equinox",e.SUMMER_SOLSTICE="summer_solstice",e.AUTUMNAL_EQUINOX="autumnal_equinox",e.WINTER_SOLSTICE="winter_solstice",e))(Dn||{}),Qe=(e=>(e.ARIES_TAURUS="aries_taurus",e.TAURUS_GEMINI="taurus_gemini",e.GEMINI_CANCER="gemini_cancer",e.CANCER_LEO="cancer_leo",e.LEO_VIRGO="leo_virgo",e.VIRGO_LIBRA="virgo_libra",e.LIBRA_SCORPIO="libra_scorpio",e.SCORPIO_SAGITTARIUS="scorpio_sagittarius",e.SAGITTARIUS_CAPRICORN="sagittarius_capricorn",e.CAPRICORN_AQUARIUS="capricorn_aquarius",e.AQUARIUS_PISCES="aquarius_pisces",e.PISCES_ARIES="pisces_aries",e.ARIES_LIBRA="aries_libra",e.TAURUS_SCORPIO="taurus_scorpio",e.GEMINI_SAGITTARIUS="gemini_sagittarius",e.CANCER_CAPRICORN="cancer_capricorn",e.LEO_AQUARIUS="leo_aquarius",e.VIRGO_PISCES="virgo_pisces",e.FIRE_SIGNS="fire_signs",e.EARTH_SIGNS="earth_signs",e.AIR_SIGNS="air_signs",e.WATER_SIGNS="water_signs",e))(Qe||{});const Os=_t("railroad",()=>{const e=W(0),t=W(0),n=W(3),o=W(!1),i=W(!0),a=W(new Map),r=W([]),u=W(2),l=W({currentConstellation:null,currentStation:null,position:{x:0,y:0},moving:!1,speed:1,movementCooldown:0}),v=W(new Map),d=W(new Map),c=W([]),_={[ee.ARIES]:{id:ee.ARIES,name:"Aries",advantage:{type:"cost",value:R(.7),description:"Filament cost ^0.7"},penalty:{type:"production",value:R(.8),description:"Production ×0.8"},specialMechanism:"Cost increase factor -0.2",stationCount:5},[ee.TAURUS]:{id:ee.TAURUS,name:"Taurus",advantage:{type:"production",value:R(5),description:"Production ×5"},penalty:{type:"cost",value:R(1.8),description:"Cost ×1.8"},specialMechanism:"Milestone effect ^1.2",stationCount:6},[ee.GEMINI]:{id:ee.GEMINI,name:"Gemini",advantage:{type:"automation",value:R(5),description:"Lower 5 tiers automated"},penalty:{type:"production",value:R(.7),description:"Efficiency ×0.7"},specialMechanism:"Nebula pattern effect ×2",stationCount:5},[ee.CANCER]:{id:ee.CANCER,name:"Cancer",advantage:{type:"synergy",value:R(4),description:"Synergy ×4"},penalty:{type:"special",value:R(.5),description:"Movement speed ^0.5"},specialMechanism:"Resource production minimum guaranteed",stationCount:7},[ee.LEO]:{id:ee.LEO,name:"Leo",advantage:{type:"special",value:R(1.8),description:"Pulsation control +80%"},penalty:{type:"special",value:R(2),description:"Pulsation penalty ×2"},specialMechanism:"Effect: base × Starburst^0.3",stationCount:6},[ee.VIRGO]:{id:ee.VIRGO,name:"Virgo",advantage:{type:"synergy",value:R(4),description:"Nebula effect ×4"},penalty:{type:"production",value:R(.6),description:"Essence gain ×0.6"},specialMechanism:"Pattern recommendation and automation",stationCount:5},[ee.LIBRA]:{id:ee.LIBRA,name:"Libra",advantage:{type:"special",value:R(3),description:"Preservation rate ×3"},penalty:{type:"production",value:R(.75),description:"Production acceleration ×0.75"},specialMechanism:"Train speed adjustment (-50%/+100%)",stationCount:6},[ee.SCORPIO]:{id:ee.SCORPIO,name:"Scorpio",advantage:{type:"special",value:R(2),description:"Cataclysm effect ^2"},penalty:{type:"production",value:R(.8),description:"Other state effects ×0.8"},specialMechanism:"Debuff reversal mechanism",stationCount:7},[ee.SAGITTARIUS]:{id:ee.SAGITTARIUS,name:"Sagittarius",advantage:{type:"production",value:R(10),description:"Production ×10"},penalty:{type:"automation",value:R(0),description:"Automation disabled"},specialMechanism:"Starburst starting point 10% → up to 50%",stationCount:5},[ee.CAPRICORN]:{id:ee.CAPRICORN,name:"Capricorn",advantage:{type:"special",value:R(5),description:"Fragment ×5"},penalty:{type:"cost",value:R(1.5),description:"Star Rail consumption ×1.5"},specialMechanism:"Additional gain 50% chance",stationCount:6},[ee.AQUARIUS]:{id:ee.AQUARIUS,name:"Aquarius",advantage:{type:"special",value:R(1.4),description:"Starlight ×1.4"},penalty:{type:"production",value:R(.85),description:"Production speed ×0.85"},specialMechanism:"Early gain per milestone achievement",stationCount:7},[ee.PISCES]:{id:ee.PISCES,name:"Pisces",advantage:{type:"special",value:R(2),description:"Constellation effect ×2"},penalty:{type:"cost",value:R(2),description:"Activation cost ×2"},specialMechanism:"Gain 10-30% of inactive constellation effects",stationCount:6}},T=W(new Map);function V(){const p=[{type:Qe.ARIES_TAURUS,constellations:[ee.ARIES,ee.TAURUS],name:"Spring Gateway"},{type:Qe.TAURUS_GEMINI,constellations:[ee.TAURUS,ee.GEMINI],name:"Duality Bridge"},{type:Qe.GEMINI_CANCER,constellations:[ee.GEMINI,ee.CANCER],name:"Emotional Nexus"},{type:Qe.CANCER_LEO,constellations:[ee.CANCER,ee.LEO],name:"Heart Junction"},{type:Qe.LEO_VIRGO,constellations:[ee.LEO,ee.VIRGO],name:"Precision Point"},{type:Qe.VIRGO_LIBRA,constellations:[ee.VIRGO,ee.LIBRA],name:"Balance Station"},{type:Qe.LIBRA_SCORPIO,constellations:[ee.LIBRA,ee.SCORPIO],name:"Transformation Hub"},{type:Qe.SCORPIO_SAGITTARIUS,constellations:[ee.SCORPIO,ee.SAGITTARIUS],name:"Vision Cross"},{type:Qe.SAGITTARIUS_CAPRICORN,constellations:[ee.SAGITTARIUS,ee.CAPRICORN],name:"Ambition Link"},{type:Qe.CAPRICORN_AQUARIUS,constellations:[ee.CAPRICORN,ee.AQUARIUS],name:"Innovation Node"},{type:Qe.AQUARIUS_PISCES,constellations:[ee.AQUARIUS,ee.PISCES],name:"Intuition Portal"},{type:Qe.PISCES_ARIES,constellations:[ee.PISCES,ee.ARIES],name:"Cycle's End"}],h=[{type:Qe.ARIES_LIBRA,constellations:[ee.ARIES,ee.LIBRA],name:"Axis of Action"},{type:Qe.TAURUS_SCORPIO,constellations:[ee.TAURUS,ee.SCORPIO],name:"Power Nexus"},{type:Qe.GEMINI_SAGITTARIUS,constellations:[ee.GEMINI,ee.SAGITTARIUS],name:"Knowledge Bridge"},{type:Qe.CANCER_CAPRICORN,constellations:[ee.CANCER,ee.CAPRICORN],name:"Foundation Cross"},{type:Qe.LEO_AQUARIUS,constellations:[ee.LEO,ee.AQUARIUS],name:"Creative Hub"},{type:Qe.VIRGO_PISCES,constellations:[ee.VIRGO,ee.PISCES],name:"Service Portal"}],B=[{type:Qe.FIRE_SIGNS,constellations:[ee.ARIES,ee.LEO],name:"Fire Convergence"},{type:Qe.EARTH_SIGNS,constellations:[ee.TAURUS,ee.VIRGO],name:"Earth Convergence"},{type:Qe.AIR_SIGNS,constellations:[ee.GEMINI,ee.LIBRA],name:"Air Convergence"},{type:Qe.WATER_SIGNS,constellations:[ee.CANCER,ee.SCORPIO],name:"Water Convergence"}];[...p,...h,...B].forEach((X,Y)=>{const[H,Q]=X.constellations,re=Object.values(ee).indexOf(H)*(2*Math.PI/12),le=Object.values(ee).indexOf(Q)*(2*Math.PI/12),be=(re+le)/2,me=Y<12?150:Y<18?250:200;a.value.set(X.type,{id:X.type,name:X.name,connectedConstellations:[H,Q],unlocked:!1,activationCost:Y<12?10:Y<18?15:20,activated:!1,effect:F(X.type,Y),position:{x:Math.cos(be)*me,y:Math.sin(be)*me},visitCount:0})})}function F(p,h){return h<12?{type:"production",baseValue:R(1.2),maxValue:R(2),scalingFactor:.1,description:"Cross-constellation production bonus"}:h<18?{type:"cost",baseValue:R(.8),maxValue:R(.5),scalingFactor:.05,description:"Cross-axis cost reduction"}:{type:"synergy",baseValue:R(1.5),maxValue:R(3),scalingFactor:.15,description:"Elemental synergy amplification"}}function N(){Object.values(ee).forEach(p=>{const h=_[p],B=O(p,h.stationCount);T.value.set(p,{id:p,name:h.name,stations:B,unlocked:!1,activated:!1,activationCost:5,completed:!1,advantage:h.advantage,penalty:h.penalty,specialMechanism:h.specialMechanism})}),i.value?T.value.get(ee.ARIES).unlocked=!0:(T.value.get(ee.ARIES).unlocked=!0,T.value.get(ee.TAURUS).unlocked=!0,T.value.get(ee.GEMINI).unlocked=!0)}function y(){d.value.set(ee.ARIES,{fragments:0,starRails:0}),d.value.set(ee.TAURUS,{fragments:3,starRails:2,prerequisite:ee.ARIES}),d.value.set(ee.GEMINI,{fragments:5,starRails:3,prerequisite:ee.TAURUS}),d.value.set(ee.CANCER,{fragments:8,starRails:5,prerequisite:ee.GEMINI}),d.value.set(ee.LEO,{fragments:12,starRails:8,prerequisite:ee.CANCER}),d.value.set(ee.VIRGO,{fragments:18,starRails:12,prerequisite:ee.LEO}),d.value.set(ee.LIBRA,{fragments:25,starRails:15,prerequisite:ee.VIRGO}),d.value.set(ee.SCORPIO,{fragments:35,starRails:20,prerequisite:ee.LIBRA}),d.value.set(ee.SAGITTARIUS,{fragments:50,starRails:25,prerequisite:ee.SCORPIO}),d.value.set(ee.CAPRICORN,{fragments:70,starRails:30,prerequisite:ee.SAGITTARIUS}),d.value.set(ee.AQUARIUS,{fragments:95,starRails:35,prerequisite:ee.CAPRICORN}),d.value.set(ee.PISCES,{fragments:125,starRails:40,prerequisite:ee.AQUARIUS}),Object.values(ee).forEach(p=>{v.value.set(p,0)})}function O(p,h){const B=[],j=["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta"];for(let X=0;X<h;X++){const Y=X/h*2*Math.PI,H=100+X*20;B.push({id:`${p}_${X}`,name:`${j[X]} ${_[p].name}`,unlocked:X===0,activated:!1,unlockCost:Math.min(3,1+Math.floor(X/2)),visitCount:0,effect:{type:"production",baseValue:R(1.1+X*.1),description:`Production ×${(1.1+X*.1).toFixed(1)}`},position:{x:Math.cos(Y)*H,y:Math.sin(Y)*H}})}return B}const $=Z(()=>[{group:Dn.VERNAL_EQUINOX,constellations:[ee.ARIES,ee.TAURUS,ee.GEMINI],active:[ee.ARIES,ee.TAURUS,ee.GEMINI].every(p=>c.value.includes(p)),productionBonus:R(2.5),penaltyReduction:R(.8),specialEffect:"Production ×2.5, penalty ^0.8"},{group:Dn.SUMMER_SOLSTICE,constellations:[ee.CANCER,ee.LEO,ee.VIRGO],active:[ee.CANCER,ee.LEO,ee.VIRGO].every(p=>c.value.includes(p)),productionBonus:R(1),penaltyReduction:R(.9),specialEffect:"System efficiency ^1.3, penalty ^0.9"},{group:Dn.AUTUMNAL_EQUINOX,constellations:[ee.LIBRA,ee.SCORPIO,ee.SAGITTARIUS],active:[ee.LIBRA,ee.SCORPIO,ee.SAGITTARIUS].every(p=>c.value.includes(p)),productionBonus:R(1),penaltyReduction:R(1.2),specialEffect:"Special effects ×2, penalty ×1.2"},{group:Dn.WINTER_SOLSTICE,constellations:[ee.CAPRICORN,ee.AQUARIUS,ee.PISCES],active:[ee.CAPRICORN,ee.AQUARIUS,ee.PISCES].every(p=>c.value.includes(p)),productionBonus:R(1.5),penaltyReduction:R(.75),specialEffect:"Resource gain ×1.5, penalty ^0.75"}]),U=Z(()=>{let p=Ee;return c.value.forEach(h=>{const B=T.value.get(h);B?.advantage.type==="production"&&(p=p.mul(B.advantage.value))}),r.value.forEach(h=>{const B=a.value.get(h);if(B?.effect.type==="production"){const j=B.visitCount,X=B.effect.baseValue.add(R(j*B.effect.scalingFactor)),Y=Et.min(X,B.effect.maxValue);p=p.mul(Y)}}),$.value.forEach(h=>{h.active&&(p=p.mul(h.productionBonus))}),p}),I=Z(()=>{let p=Ee;return c.value.forEach(h=>{const B=T.value.get(h);B?.advantage.type==="cost"&&(p=p.mul(B.advantage.value)),B?.penalty.type==="cost"&&(p=p.mul(B.penalty.value))}),r.value.forEach(h=>{const B=a.value.get(h);if(B?.effect.type==="cost"){const j=B.visitCount,X=B.effect.baseValue.sub(R(j*B.effect.scalingFactor)),Y=Et.max(X,B.effect.maxValue);p=p.mul(Y)}}),p});function g(p){let h=Ee;return c.value.forEach(B=>{const j=T.value.get(B);j?.advantage.type==="cost"&&(p==="filament"&&j.advantage.description.includes("Filament")||p==="general"&&!j.advantage.description.includes("Filament"))&&(h=h.mul(j.advantage.value)),j?.penalty.type==="cost"&&(p==="star_rail"&&j.penalty.description.includes("Star Rail")||p==="activation"&&j.penalty.description.includes("Activation")||p==="general"&&!j.penalty.description.includes("Star Rail")&&!j.penalty.description.includes("Activation"))&&(h=h.mul(j.penalty.value))}),r.value.forEach(B=>{const j=a.value.get(B);if(j?.effect.type==="cost"){const X=j.visitCount,Y=j.effect.baseValue.sub(R(X*j.effect.scalingFactor)),H=Et.max(Y,j.effect.maxValue);h=h.mul(H)}}),h}const S=Z(()=>{let p=Ee;return r.value.forEach(h=>{const B=a.value.get(h);if(B?.effect.type==="synergy"){const j=B.visitCount,X=B.effect.baseValue.add(R(j*B.effect.scalingFactor)),Y=Et.min(X,B.effect.maxValue);p=p.mul(Y)}}),p});function b(p,h){const B=T.value.get(p);if(!B)return!1;const j=B.stations.find(Y=>Y.id===h);if(!j||j.unlocked)return!1;const X=Math.ceil(j.unlockCost*g("star_rail").toNumber());return t.value>=X}function L(p,h){if(!b(p,h))return!1;const B=T.value.get(p),j=B.stations.find(Q=>Q.id===h),X=Math.ceil(j.unlockCost*g("star_rail").toNumber());t.value-=X,j.unlocked=!0;const Y=B.stations.indexOf(j),H=1+Math.floor(Y/2);return e.value+=H,!0}function z(p){const h=T.value.get(p);if(!h?.unlocked||h.activated||c.value.length>=n.value||!h.stations.every(X=>X.unlocked))return!1;const j=Math.ceil(h.activationCost*g("activation").toNumber());return t.value>=j}function q(p){if(!z(p))return!1;const h=T.value.get(p),B=Math.ceil(h.activationCost*g("activation").toNumber());return t.value-=B,h.activated=!0,c.value.push(p),!0}function P(p){const h=c.value.indexOf(p);if(h===-1)return!1;const B=T.value.get(p);return B.activated=!1,c.value.splice(h,1),!0}function x(p,h){if(l.value.moving||l.value.movementCooldown>0)return!1;const B=T.value.get(p);if(!B)return!1;const j=B.stations.find(X=>X.id===h);return j?.unlocked?(l.value.moving=!0,l.value.currentConstellation=p,l.value.currentStation=h,l.value.position={...j.position},setTimeout(()=>{if(l.value.moving=!1,l.value.movementCooldown=2e3/l.value.speed,j.visitCount++,i.value){const X=Object.values(ee).indexOf(p),Y=Object.values(ee).length;if(X>0){const H=Object.values(ee)[X-1];T.value.get(H)?.unlocked||J(H,10)}if(X<Y-1){const H=Object.values(ee)[X+1];T.value.get(H)?.unlocked||J(H,10)}}setTimeout(()=>{l.value.movementCooldown=0},l.value.movementCooldown)},1e3/l.value.speed),!0):!1}function E(){const p=Math.ceil(20*g("star_rail").toNumber());return t.value>=p?(o.value=!0,t.value-=p,!0):!1}function C(){try{const p=ge();!o.value&&p.starlight.amount.gte(8)&&(o.value=!0)}catch{}}function A(p){if(!i.value)return!1;const h=d.value.get(p);if(!h||T.value.get(p)?.unlocked||h.prerequisite&&!T.value.get(h.prerequisite)?.unlocked)return!1;const j=Math.ceil(h.starRails*g("star_rail").toNumber());return e.value>=h.fragments&&t.value>=j}function D(p){if(!A(p))return!1;const h=d.value.get(p),B=T.value.get(p);e.value-=h.fragments;const j=Math.ceil(h.starRails*g("star_rail").toNumber());return t.value-=j,B.unlocked=!0,v.value.set(p,0),!0}function J(p,h){if(!i.value)return;const B=v.value.get(p)||0;v.value.set(p,Math.min(100,B+h))}function te(){i.value=!i.value,i.value?(T.value.forEach((p,h)=>{h!==ee.ARIES&&(p.unlocked=!1,p.activated=!1)}),c.value=[],y()):(T.value.get(ee.TAURUS).unlocked=!0,T.value.get(ee.GEMINI).unlocked=!0)}function se(p){if(!o.value)return!1;const h=a.value.get(p);if(!h||h.unlocked)return!1;const[B,j]=h.connectedConstellations,X=T.value.get(B),Y=T.value.get(j);if(!X?.unlocked||!Y?.unlocked)return!1;const H=Math.ceil(h.activationCost*g("star_rail").toNumber());return t.value>=H}function oe(p){if(!se(p))return!1;const h=a.value.get(p),B=Math.ceil(h.activationCost*g("star_rail").toNumber());return t.value-=B,h.unlocked=!0,!0}function Ce(p){const h=a.value.get(p);if(!h?.unlocked||h.activated||r.value.length>=u.value)return!1;const[B,j]=h.connectedConstellations;return c.value.includes(B)&&c.value.includes(j)}function xe(p){if(!Ce(p))return!1;const h=a.value.get(p);return h.activated=!0,r.value.push(p),!0}function ae(p){const h=r.value.indexOf(p);if(h===-1)return!1;const B=a.value.get(p);return B.activated=!1,r.value.splice(h,1),!0}function ie(p){if(l.value.moving||l.value.movementCooldown>0)return!1;const h=a.value.get(p);return h?.unlocked?(l.value.moving=!0,l.value.currentConstellation=null,l.value.currentStation=p,l.value.position={...h.position},setTimeout(()=>{if(l.value.moving=!1,l.value.movementCooldown=3e3/l.value.speed,Math.random()<.1){const B=[];if(T.value.forEach((j,X)=>{j.unlocked&&j.stations.some(Y=>Y.unlocked)&&B.push({type:"constellation",constellation:X})}),a.value.forEach((j,X)=>{j.unlocked&&B.push({type:"intersection",intersection:X})}),B.length>0){const j=B[Math.floor(Math.random()*B.length)];if(j.type==="constellation"){const Y=T.value.get(j.constellation).stations.filter(H=>H.unlocked);if(Y.length>0){const H=Y[Math.floor(Math.random()*Y.length)];l.value.currentConstellation=j.constellation,l.value.currentStation=H.id,l.value.position={...H.position}}}else{const X=a.value.get(j.intersection);l.value.currentConstellation=null,l.value.currentStation=j.intersection,l.value.position={...X.position}}}}else{h.visitCount++;const B=2+Math.floor(h.visitCount/3);e.value+=B}setTimeout(()=>{l.value.movementCooldown=0},l.value.movementCooldown)},1500/l.value.speed),!0):!1}function M(){e.value=0,t.value=0,c.value=[],r.value=[],o.value=!1,i.value=!0,l.value={currentConstellation:null,currentStation:null,position:{x:0,y:0},moving:!1,speed:1,movementCooldown:0},T.value.forEach(p=>{p.activated=!1,p.completed=!1,p.unlocked=!1,p.stations.forEach(h=>{h.unlocked=!1,h.activated=!1,h.visitCount=0})}),a.value.forEach(p=>{p.unlocked=!1,p.activated=!1,p.visitCount=0}),N(),V(),i.value&&y()}function G(){c.value=[],r.value=[],l.value={currentConstellation:null,currentStation:null,position:{x:0,y:0},moving:!1,speed:1,movementCooldown:0},T.value.forEach(p=>{p.activated=!1,p.stations.forEach(h=>{h.activated=!1})}),a.value.forEach(p=>{p.activated=!1})}function K(){C()}function pe(p,h){const B=T.value.get(p);B&&(B.stations.forEach(j=>{j.unlocked&&Math.random()<h?j.visitCount=Math.floor(j.visitCount*h):(j.unlocked=!1,j.visitCount=0)}),h>.5&&(B.unlocked=!0))}function de(){return{cosmicFragments:e.value,starRails:t.value,maxActiveConstellations:n.value,intersectionsUnlocked:o.value,discoveryMode:i.value,maxActiveIntersections:u.value,activeConstellations:c.value,activeIntersections:r.value,train:{currentConstellation:l.value.currentConstellation,currentStation:l.value.currentStation,position:l.value.position,moving:l.value.moving,speed:l.value.speed,movementCooldown:l.value.movementCooldown},constellations:Array.from(T.value.entries()).map(([h,B])=>({type:h,unlocked:B.unlocked,activated:B.activated,stations:B.stations.map(j=>({id:j.id,unlocked:j.unlocked,visitCount:j.visitCount}))})),intersections:Array.from(a.value.entries()).map(([h,B])=>({type:h,unlocked:B.unlocked,activated:B.activated,visitCount:B.visitCount})),discoveryProgress:Array.from(v.value.entries()),discoveryRequirements:Array.from(d.value.entries())}}function Pe(p){if(p)try{e.value=p.cosmicFragments||0,t.value=p.starRails||0,n.value=p.maxActiveConstellations||3,o.value=p.intersectionsUnlocked||!1,i.value=p.discoveryMode??!0,u.value=p.maxActiveIntersections||2,c.value=p.activeConstellations||[],r.value=p.activeIntersections||[],p.train&&(l.value.currentConstellation=p.train.currentConstellation||null,l.value.currentStation=p.train.currentStation||null,l.value.position=p.train.position||{x:0,y:0},l.value.moving=p.train.moving||!1,l.value.speed=p.train.speed||1,l.value.movementCooldown=p.train.movementCooldown||0),p.constellations&&p.constellations.forEach(h=>{const B=T.value.get(h.type);B&&(B.unlocked=h.unlocked||!1,B.activated=h.activated||!1,h.stations&&h.stations.forEach(j=>{const X=B.stations.find(Y=>Y.id===j.id);X&&(X.unlocked=j.unlocked||!1,X.visitCount=j.visitCount||0)}))}),p.intersections&&p.intersections.forEach(h=>{const B=a.value.get(h.type);B&&(B.unlocked=h.unlocked||!1,B.activated=h.activated||!1,B.visitCount=h.visitCount||0)}),p.discoveryProgress&&(v.value=new Map(p.discoveryProgress)),p.discoveryRequirements&&(d.value=new Map(p.discoveryRequirements)),i.value&&d.value.size===0&&y()}catch(h){console.error("Failed to load Rail Road data:",h),N(),V(),i.value&&y()}}return N(),V(),i.value&&y(),{cosmicFragments:e,starRails:t,maxActiveConstellations:n,intersectionsUnlocked:o,discoveryMode:i,train:l,activeConstellations:c,constellations:T,intersections:a,activeIntersections:r,maxActiveIntersections:u,discoveryProgress:v,discoveryRequirements:d,groupSynergies:$,totalProductionBonus:U,totalCostMultiplier:I,intersectionSynergyBonus:S,canUnlockStation:b,unlockStation:L,canActivateConstellation:z,activateConstellation:q,deactivateConstellation:P,moveTrain:x,unlockIntersections:E,canUnlockIntersection:se,unlockIntersection:oe,canActivateIntersection:Ce,activateIntersection:xe,deactivateIntersection:ae,moveTrainToIntersection:ie,canDiscoverConstellation:A,discoverConstellation:D,addDiscoveryProgress:J,toggleDiscoveryMode:te,getCostMultiplier:g,reset:M,softReset:G,tick:K,preserveConstellation:pe,save:de,load:Pe}});var we=(e=>(e.STARDUST="stardust",e.FILAMENT="filament",e.MULTIPLIER="multiplier",e.SYNERGY="synergy",e.CATALYST="catalyst",e))(we||{});const Ls=_t("nebula",()=>{const e=W(3),t=W(3),n=W(3),o=W([]),i=W(0),a=W(R(10)),r=W([{id:"line_production",name:"Stellar Line",description:"Three Stardust cells in a line: +50% Stardust production",pattern:[{x:0,y:0,type:we.STARDUST},{x:1,y:0,type:we.STARDUST},{x:2,y:0,type:we.STARDUST}],bonus:{type:"production",value:R(1.5),target:"stardust"},discovered:!1},{id:"cross_multiplier",name:"Cosmic Cross",description:"Cross pattern with Multiplier center: x1.75 Starlight gain",pattern:[{x:1,y:0,type:we.STARDUST},{x:0,y:1,type:we.FILAMENT},{x:1,y:1,type:we.MULTIPLIER},{x:2,y:1,type:we.FILAMENT},{x:1,y:2,type:we.STARDUST}],bonus:{type:"starlight_gain",value:R(1.75),target:"starlight"},discovered:!1},{id:"diamond_synergy",name:"Nebular Diamond",description:"Diamond formation: Synergy cells boost adjacent cells by 25%",pattern:[{x:1,y:0,type:we.SYNERGY},{x:0,y:1,type:we.FILAMENT},{x:2,y:1,type:we.FILAMENT},{x:1,y:2,type:we.SYNERGY}],bonus:{type:"special",value:R(1.25),target:"filaments"},discovered:!1},{id:"catalyst_square",name:"Catalytic Square",description:"Square of Catalyst cells: Purchase cost ^0.6",pattern:[{x:0,y:0,type:we.CATALYST},{x:1,y:0,type:we.CATALYST},{x:0,y:1,type:we.CATALYST},{x:1,y:1,type:we.CATALYST}],bonus:{type:"cost_exponent",value:R(.6),target:"all"},discovered:!1},{id:"triangle_production",name:"Stellar Triangle",description:"Triangle formation: Doubles production efficiency",pattern:[{x:1,y:0,type:we.FILAMENT},{x:0,y:2,type:we.FILAMENT},{x:2,y:2,type:we.FILAMENT}],bonus:{type:"production",value:R(2),target:"filaments"},discovered:!1},{id:"circle_synergy",name:"Cosmic Circle",description:"Circular formation: Triples synergy effects",pattern:[{x:1,y:0,type:we.SYNERGY},{x:0,y:1,type:we.SYNERGY},{x:2,y:1,type:we.SYNERGY},{x:0,y:2,type:we.SYNERGY},{x:2,y:2,type:we.SYNERGY},{x:1,y:3,type:we.SYNERGY}],bonus:{type:"special",value:R(3),target:"synergy"},discovered:!1},{id:"trinity_combination",name:"Trinity Effect",description:"Special combination: Triangle with Tier 1, 5, 10 filaments (+100% hierarchy synergy)",pattern:[{x:1,y:0,type:we.FILAMENT,tier:1},{x:0,y:2,type:we.FILAMENT,tier:5},{x:2,y:2,type:we.FILAMENT,tier:10}],bonus:{type:"special",value:R(2),target:"hierarchy_synergy"},discovered:!1,specialRequirement:"tier_specific"},{id:"balanced_cross",name:"Balanced Cross",description:"Special combination: Cross with even-tier filaments (Tier 2,4,6,8,10) - x5 production",pattern:[{x:1,y:0,type:we.FILAMENT,tier:2},{x:0,y:1,type:we.FILAMENT,tier:4},{x:1,y:1,type:we.MULTIPLIER},{x:2,y:1,type:we.FILAMENT,tier:6},{x:1,y:2,type:we.FILAMENT,tier:8},{x:1,y:3,type:we.FILAMENT,tier:10}],bonus:{type:"production",value:R(5),target:"all"},discovered:!1,specialRequirement:"tier_specific"}]),u=W([]);function l(){o.value=[];for(let x=0;x<n.value;x++){const E=[];for(let C=0;C<t.value;C++)E.push({x:C,y:x,type:null,level:0,active:!1,tier:void 0});o.value.push(E)}}const v=Z(()=>{const x=o.value.flat().filter(E=>E.type!==null).length;return a.value.mul(R(1.5).pow(x))}),d=Z(()=>r.value.filter(x=>x.discovered)),c=Z(()=>{let x=Ee,E=Ee,C=Ee,A=Ee,D=Ee,J=Ee,te=Ee;return u.value.forEach(se=>{const oe=r.value.find(Ce=>Ce.id===se);if(oe)switch(oe.bonus.type){case"production":x=x.mul(oe.bonus.value);break;case"multiplier":E=E.mul(oe.bonus.value);break;case"cost_reduction":C=C.mul(oe.bonus.value);break;case"cost_exponent":A=A.mul(oe.bonus.value);break;case"starlight_gain":D=D.mul(oe.bonus.value);break;case"special":oe.bonus.target==="synergy"?J=J.mul(oe.bonus.value):oe.bonus.target==="hierarchy_synergy"&&(te=te.mul(oe.bonus.value));break}}),{production:x,multiplier:E,costReduction:C,costExponent:A,starlightGain:D,synergy:J,hierarchySynergy:te}});function _(x,E,C){return!(x<0||x>=e.value||E<0||E>=e.value||o.value[E][x].type!==null||i.value<v.value.toNumber())}function T(x,E,C,A){return _(x,E)?(o.value[E][x]={x,y:E,type:C,level:1,active:!0,tier:C===we.FILAMENT?A:void 0},i.value-=v.value.toNumber(),N(),!0):!1}function V(x,E){if(x<0||x>=e.value||E<0||E>=e.value||o.value[E][x].type===null)return!1;const C=v.value.div(2).floor();return i.value+=C.toNumber(),o.value[E][x]={x,y:E,type:null,level:0,active:!1,tier:void 0},N(),!0}function F(x,E){if(x<0||x>=e.value||E<0||E>=e.value)return!1;const C=o.value[E][x];if(C.type===null)return!1;const A=a.value.mul(R(2).pow(C.level));return i.value<A.toNumber()?!1:(i.value-=A.toNumber(),C.level++,!0)}function N(){const x=[];r.value.forEach(E=>{y(E)&&(x.push(E.id),E.discovered||(E.discovered=!0))}),u.value=x}function y(x){for(let E=0;E<=e.value-U(x);E++)for(let C=0;C<=e.value-$(x);C++)if(O(x,C,E))return!0;return!1}function O(x,E,C){return!o.value||o.value.length===0?!1:x.pattern.every(A=>{const D=E+A.x,J=C+A.y;if(D<0||D>=e.value||J<0||J>=e.value||!o.value[J])return!1;const te=o.value[J][D];return!(!te||te.type!==A.type||x.specialRequirement==="tier_specific"&&A.tier!==void 0&&te.tier!==A.tier)})}function $(x){return Math.max(...x.pattern.map(E=>E.x))+1}function U(x){return Math.max(...x.pattern.map(E=>E.y))+1}function I(){const E=ge()?.starlight?.amount?.toNumber()||0;let C=!1;if(t.value===3&&n.value===3&&E>=12){n.value=4,e.value=Math.max(t.value,n.value),C=!0;const A=[];for(let D=0;D<t.value;D++)A.push({x:D,y:n.value-1,type:null,level:0,active:!1,tier:void 0});o.value.push(A)}else if(t.value===3&&n.value===4&&E>=20){t.value=4,e.value=Math.max(t.value,n.value),C=!0;for(let A=0;A<n.value;A++)o.value[A].push({x:t.value-1,y:A,type:null,level:0,active:!1,tier:void 0})}return!!C}function g(){i.value=0,e.value=3,t.value=3,n.value=3,u.value=[],r.value.forEach(x=>x.discovered=!1),l()}function S(){e.value=3,t.value=3,n.value=3,u.value=[],l()}function b(){return u.value.map(x=>{const E=r.value.find(C=>C.id===x);if(!E)return null;for(let C=0;C<=e.value-U(E);C++)for(let A=0;A<=e.value-$(E);A++)if(O(E,A,C))return{type:E.id,positions:E.pattern.map(D=>({x:A+D.x,y:C+D.y})),filamentTypes:E.pattern.map(D=>D.type)};return null}).filter(x=>x!==null)}function L(x,E,C){return r.value.find(D=>D.id===x)?(E.forEach(D=>{D.x<e.value&&D.y<e.value&&(o.value[D.y][D.x]={x:D.x,y:D.y,type:null,level:0,active:!1,tier:void 0})}),E.forEach((D,J)=>{D.x<e.value&&D.y<e.value&&J<C.length&&(o.value[D.y][D.x]={x:D.x,y:D.y,type:C[J],level:1,active:!0,tier:void 0})}),N(),!0):!1}function z(){return{gridSize:e.value,nebularEssence:i.value,basePlacementCost:a.value.toString(),grid:o.value.map(E=>E.map(C=>({x:C.x,y:C.y,type:C.type,level:C.level,active:C.active,tier:C.tier}))),patterns:r.value.map(E=>({id:E.id,discovered:E.discovered})),activePatterns:u.value}}function q(x){if(x)try{e.value=x.gridSize||5,i.value=x.nebularEssence||0,a.value=R(x.basePlacementCost||10),x.grid&&Array.isArray(x.grid)?(o.value.length!==e.value&&l(),x.grid.forEach((E,C)=>{C<o.value.length&&E.forEach((A,D)=>{if(D<o.value[C].length){const J=o.value[C][D];J.type=A.type||null,J.level=A.level||0,J.active=A.active||!1,J.tier=A.tier||void 0}})})):l(),x.patterns&&Array.isArray(x.patterns)&&x.patterns.forEach(E=>{const C=r.value.find(A=>A.id===E.id);C&&(C.discovered=E.discovered||!1)}),x.activePatterns&&Array.isArray(x.activePatterns)?u.value=x.activePatterns:u.value=[],(!o.value||o.value.length===0)&&l(),N()}catch(E){console.error("Failed to load Nebula data:",E),l(),r.value.forEach(C=>{C.discovered=!1}),u.value=[]}}function P(){I()}return l(),{grid:o,gridSize:e,gridWidth:t,gridHeight:n,nebularEssence:i,patterns:r,activePatterns:u,placementCost:v,discoveredPatterns:d,totalBonus:c,canPlaceCell:_,placeCell:T,removeCell:V,upgradeCell:F,expandGrid:I,checkExpansion:P,checkPatterns:N,reset:g,softReset:S,getActivePatternData:b,restorePattern:L,save:z,load:q}}),Yo=_t("memory",()=>{const e=W(!1),t=W(1),n=W([]),o=W(Ee);function i(){n.value=[];for(let g=0;g<t.value;g++)n.value.push({id:`slot_${g}`,occupied:!1,target:null,preservationRate:R(.3),priority:0})}const a=Z(()=>n.value.length),r=Z(()=>n.value.filter(g=>!g.occupied).length),u=Z(()=>n.value.filter(g=>g.occupied));function l(){const g=ge();g.starlight.amount.gte(3)&&!e.value&&(e.value=!0,i());const S=g.starlight.amount.toNumber();let b=1;if(S>=15?b=3:S>=8&&(b=2),S>=25&&(b=5),b>t.value)for(t.value=b;n.value.length<t.value;)n.value.push({id:`slot_${n.value.length}`,occupied:!1,target:null,preservationRate:R(.3),priority:0});S>=8&&(o.value=R(1.2))}function v(g,S){const L=ge().filaments[g];return{type:"filament",id:`filament_${g}`,name:`${L.name} (Evolution ${S})`,preservationRate:R(.5),tier:g,evolutionStage:S}}function d(g,S,b){return{type:"nebula",id:`nebula_${g}`,name:`${g} Pattern`,preservationRate:Ee,pattern:g,gridPosition:S,filamentTypes:b}}function c(g,S,b){return{type:"railroad",id:`railroad_${g}`,name:`${g} Constellation`,preservationRate:R(.3),constellation:g,stations:S,enhancements:b}}function _(g,S){return{type:"upgrades",id:`upgrade_${g}`,name:`${g} Branch`,preservationRate:R(.25),branch:g,upgrades:S}}function T(g,S){const b=n.value.find(L=>L.id===g);return!b||b.occupied?!1:(b.target=S,b.occupied=!0,b.preservationRate=S.preservationRate.mul(o.value),!0)}function V(g){const S=n.value.find(b=>b.id===g);return!S||!S.occupied?!1:(S.target=null,S.occupied=!1,S.preservationRate=R(.3),S.priority=0,!0)}function F(g){if(ge().starlight.amount.lt(15))return!1;const b=n.value.find(L=>L.id===g);return!b||!b.target?!1:(b.preservationRate=Ee,b.priority=1,!0)}function N(){try{const g=ge();u.value.forEach(S=>{if(!S.target)return;const b=S.preservationRate.toNumber();switch(S.target.type){case"filament":const L=S.target,z=g.filaments[L.tier];z&&(z.evolution=Math.floor(L.evolutionStage*b));break;case"nebula":try{const q=Ls(),P=S.target;b>=1&&q.restorePattern(P.pattern,P.gridPosition,P.filamentTypes)}catch{}break;case"railroad":try{const q=Os(),P=S.target;b>0&&q.preserveConstellation(P.constellation,b)}catch{}break;case"upgrades":b>0;break}})}catch{}}function y(){const g=[];try{ge().filaments.forEach((b,L)=>{b.evolution>0&&g.push(v(L,b.evolution))});try{Ls().getActivePatternData().forEach(z=>{if(z){const q=z.filamentTypes.map(P=>typeof P=="number"?P:0);g.push(d(z.type,z.positions,q))}})}catch{}try{const b=Os();b.activeConstellations.forEach(L=>{const z=b.constellations.get(L);if(z){const q=z.stations.filter(x=>x.unlocked).map(x=>x.id),P=new Map(z.stations.map(x=>[x.id,x.visitCount]));g.push(c(L,q,P))}})}catch{}}catch{}return g}function O(){return{unlocked:e.value,maxSlots:t.value,slots:n.value.map(g=>({id:g.id,occupied:g.occupied,target:g.target,preservationRate:g.preservationRate.toString(),priority:g.priority})),preservationBonus:o.value.toString()}}function $(g){g&&(e.value=g.unlocked||!1,t.value=g.maxSlots||1,o.value=R(g.preservationBonus||1),g.slots?n.value=g.slots.map(S=>({id:S.id,occupied:S.occupied||!1,target:S.target,preservationRate:R(S.preservationRate||.3),priority:S.priority||0})):i())}function U(){e.value=!1,t.value=1,n.value=[],o.value=Ee}function I(){l()}return{unlocked:e,maxSlots:t,slots:n,preservationBonus:o,currentSlots:a,availableSlots:r,occupiedSlots:u,initializeSlots:i,checkUnlockConditions:l,assignTarget:T,removeTarget:V,setPriorityPreservation:F,applyPreservation:N,getAvailableTargets:y,createFilamentTarget:v,createNebulaTarget:d,createRailRoadTarget:c,createUpgradeTarget:_,tick:I,save:O,load:$,reset:U}});var Ne=(e=>(e.PRODUCTION="production",e.SYSTEM="system",e.EVOLUTION="evolution",e.EXPANSION="expansion",e))(Ne||{}),We=(e=>(e.PRODUCTION="production",e.MULTIPLIER="multiplier",e.COST_REDUCTION="cost_reduction",e.EFFICIENCY="efficiency",e.AUTOMATION="automation",e.SYNERGY="synergy",e.SPECIAL="special",e))(We||{});const br=_t("upgrades",()=>{const e=W(!1),t=W(new Map),n=W(new Set),o=W(R(0)),i=W(!1),a=W(new Map);function r(){const $=[{id:"star_core",name:"Star Core",description:"The heart of stellar evolution - starting point for all upgrade paths",branch:Ne.PRODUCTION,tier:0,cost:R(0),costType:"starlight",unlockCondition:{starlight:1,prerequisites:[]},effects:[],purchased:!0,unlocked:!0,position:{x:0,y:0}},{id:"fusion_ignition",name:"Fusion Ignition",description:"Stellar core ignition accelerates all production",branch:Ne.PRODUCTION,tier:1,cost:R(2),costType:"starlight",unlockCondition:{starlight:2,prerequisites:["star_core"]},effects:[{type:We.PRODUCTION,value:R(8),target:"all",description:"Production ×8"}],purchased:!1,unlocked:!1,position:{x:-200,y:-150}},{id:"star_pulse",name:"Star Pulse",description:"Rhythmic stellar pulsations enhance milestone achievements",branch:Ne.PRODUCTION,tier:2,cost:R(5),costType:"starlight",unlockCondition:{starlight:5,prerequisites:["fusion_ignition"]},effects:[{type:We.MULTIPLIER,value:R(1.5),target:"milestones",description:"Milestone effect ^1.5"}],purchased:!1,unlocked:!1,position:{x:-300,y:-250}},{id:"photon_acceleration",name:"Photon Acceleration",description:"Light-speed processes accelerate production time flow",branch:Ne.PRODUCTION,tier:3,cost:R(8),costType:"starlight",unlockCondition:{starlight:8,prerequisites:["star_pulse"]},effects:[{type:We.SPECIAL,value:R(4),target:"production_time",description:"Time ×4 (production only)"}],purchased:!1,unlocked:!1,position:{x:-400,y:-350}},{id:"supernova_energy",name:"Supernova Energy",description:"Harness supernova power for massive production gains",branch:Ne.PRODUCTION,tier:4,cost:R(15),costType:"starlight",unlockCondition:{starlight:15,prerequisites:["photon_acceleration"]},effects:[{type:We.PRODUCTION,value:R(1.3),target:"all",description:"Production ^1.3"},{type:We.SPECIAL,value:R(.5),target:"pulsation_cycle",description:"Pulsation cycle ^0.5"}],purchased:!1,unlocked:!1,position:{x:-500,y:-450}},{id:"cosmic_network",name:"Cosmic Network",description:"Interconnected cosmic systems amplify synergistic effects",branch:Ne.SYSTEM,tier:1,cost:R(3),costType:"starlight",unlockCondition:{starlight:3,prerequisites:["star_core"]},effects:[{type:We.SYNERGY,value:R(5),target:"all",description:"Synergy ×5"}],purchased:!1,unlocked:!1,position:{x:200,y:-150}},{id:"dimensional_folding",name:"Dimensional Folding",description:"Fold space-time to concentrate system synergies",branch:Ne.SYSTEM,tier:2,cost:R(7),costType:"starlight",unlockCondition:{starlight:7,prerequisites:["cosmic_network"]},effects:[{type:We.SYNERGY,value:R(2),target:"selected_system",description:"Selected system synergy ^2"}],purchased:!1,unlocked:!1,position:{x:300,y:-250}},{id:"multiple_paradox",name:"Multiple Paradox",description:"Paradoxical existence multiplies effects but introduces instability",branch:Ne.SYSTEM,tier:3,cost:R(12),costType:"starlight",unlockCondition:{starlight:12,prerequisites:["dimensional_folding"]},effects:[{type:We.MULTIPLIER,value:R(8),target:"system_effects",description:"System effect ×8"},{type:We.SPECIAL,value:R(.9),target:"stability",description:"Debuff occurs (10% production penalty)"}],purchased:!1,unlocked:!1,position:{x:400,y:-350}},{id:"cosmic_synchronize",name:"Cosmic Synchronize",description:"Perfect synchronization enables auto-optimization",branch:Ne.SYSTEM,tier:4,cost:R(20),costType:"starlight",unlockCondition:{starlight:20,prerequisites:["multiple_paradox"]},effects:[{type:We.AUTOMATION,value:R(1),target:"optimization",description:"Auto-optimization enabled"},{type:We.MULTIPLIER,value:R(2),target:"all_effects",description:"Effect ×2"}],purchased:!1,unlocked:!1,position:{x:500,y:-450}},{id:"time_resonance",name:"Time Resonance",description:"Resonate with temporal flows to amplify Starburst effects",branch:Ne.EVOLUTION,tier:1,cost:R(4),costType:"starlight",unlockCondition:{starlight:4,prerequisites:["star_core"]},effects:[{type:We.MULTIPLIER,value:R(5),target:"starburst",description:"Starburst effect ×5"}],purchased:!1,unlocked:!1,position:{x:-200,y:150}},{id:"quantum_invariance",name:"Quantum Invariance",description:"Quantum effects preserve more progress through resets",branch:Ne.EVOLUTION,tier:2,cost:R(9),costType:"starlight",unlockCondition:{starlight:9,prerequisites:["time_resonance"]},effects:[{type:We.SPECIAL,value:R(5),target:"preservation",description:"Preservation rate ×5"}],purchased:!1,unlocked:!1,position:{x:-300,y:250}},{id:"dimensional_anchor",name:"Dimensional Anchor",description:"Anchor reality to prevent certain reset cycles",branch:Ne.EVOLUTION,tier:3,cost:R(14),costType:"starlight",unlockCondition:{starlight:14,prerequisites:["quantum_invariance"]},effects:[{type:We.SPECIAL,value:R(1),target:"reset_skip",description:"No reset every 3rd Starburst"}],purchased:!1,unlocked:!1,position:{x:-400,y:350}},{id:"eternal_loop",name:"Eternal Loop",description:"Create temporal loops for automatic progress preservation",branch:Ne.EVOLUTION,tier:4,cost:R(25),costType:"starlight",unlockCondition:{starlight:25,prerequisites:["dimensional_anchor"]},effects:[{type:We.SPECIAL,value:R(.4),target:"auto_preservation",description:"Progress auto-preservation ^0.4"}],purchased:!1,unlocked:!1,position:{x:-500,y:450}},{id:"parallel_universe",name:"Parallel Universe",description:"Access parallel realities for simultaneous pulsation states",branch:Ne.EXPANSION,tier:1,cost:R(6),costType:"starlight",unlockCondition:{starlight:6,prerequisites:["star_core"]},effects:[{type:We.SPECIAL,value:R(1.5),target:"pulsation_states",description:"Pulsation states apply simultaneously ×1.5"}],purchased:!1,unlocked:!1,position:{x:200,y:150}},{id:"space_expansion",name:"Space Expansion",description:"Expand dimensional space for unlimited filament placement",branch:Ne.EXPANSION,tier:2,cost:R(10),costType:"starlight",unlockCondition:{starlight:10,prerequisites:["parallel_universe"]},effects:[{type:We.SPECIAL,value:R(1),target:"grid_expansion",description:"Grid allows same filament in all positions"}],purchased:!1,unlocked:!1,position:{x:300,y:250}},{id:"constellation_resonance",name:"Constellation Resonance",description:"Resonate with cosmic constellations for random boosts",branch:Ne.EXPANSION,tier:3,cost:R(16),costType:"starlight",unlockCondition:{starlight:16,prerequisites:["space_expansion"]},effects:[{type:We.SPECIAL,value:R(2),target:"constellation_random",description:"Random constellation effect ^2 per Starburst"}],purchased:!1,unlocked:!1,position:{x:400,y:350}},{id:"reality_expansion",name:"Reality Expansion",description:"Expand the very fabric of reality for enhanced progression",branch:Ne.EXPANSION,tier:4,cost:R(30),costType:"starlight",unlockCondition:{starlight:30,prerequisites:["constellation_resonance"]},effects:[{type:We.SPECIAL,value:R(1.5),target:"filament_count",description:"Filament purchase count ^1.5"},{type:We.SPECIAL,value:R(.8),target:"milestone_criteria",description:"Milestone criteria ^0.8"}],purchased:!1,unlocked:!1,position:{x:500,y:450}}];a.value.clear(),$.forEach(U=>{a.value.set(U.id,U)}),t.value.clear(),Object.values(Ne).forEach(U=>{t.value.set(U,[])})}const u=Z(()=>Array.from(a.value.values()).filter($=>$.unlocked&&!$.purchased)),l=Z(()=>Array.from(a.value.values()).filter($=>$.purchased)),v=Z(()=>{const U=ge().starlight.amount.toNumber(),I=[];return U>=1&&I.push(Ne.PRODUCTION,Ne.SYSTEM,Ne.EVOLUTION,Ne.EXPANSION),I}),d=Z(()=>$=>{let U=Ee,I=Ee;const g=[];return l.value.forEach(S=>{S.effects.forEach(b=>{if(b.target===$||b.target==="all")switch(b.type){case We.PRODUCTION:case We.MULTIPLIER:U=U.mul(b.value);break;case We.EFFICIENCY:I=I.mul(b.value);break;case We.SPECIAL:g.push({type:b.description,value:b.value});break}})}),{multiplier:U,exponent:I,special:g}});function c(){const U=ge().starlight.amount.toNumber();U>=1&&!e.value&&(e.value=!0),a.value.forEach(I=>{!I.unlocked&&U>=I.unlockCondition.starlight&&I.unlockCondition.prerequisites.every(S=>n.value.has(S))&&(I.unlocked=!0)})}function _($){const U=a.value.get($);return!U||!U.unlocked||U.purchased?!1:ge().starlight.amount.gte(U.cost)}function T($){if(!_($))return!1;const U=a.value.get($),I=ge();I.starlight.amount=I.starlight.amount.sub(U.cost),o.value=o.value.add(U.cost),U.purchased=!0,n.value.add($);const g=t.value.get(U.branch)||[];return g.push($),t.value.set(U.branch,g),U.tier>=1&&!i.value&&(i.value=!0),!0}function V(){n.value.clear(),o.value=R(0),i.value=!1,a.value.forEach($=>{$.id!=="star_core"&&($.purchased=!1,$.unlocked=!1)}),t.value.clear(),Object.values(Ne).forEach($=>{t.value.set($,[])})}function F(){return{unlocked:e.value,selectedPaths:Array.from(t.value.entries()),purchasedUpgrades:Array.from(n.value),totalStarlightSpent:o.value.toString(),pathLocked:i.value}}function N($){$&&(e.value=$.unlocked||!1,i.value=$.pathLocked||!1,o.value=R($.totalStarlightSpent||0),n.value.clear(),$.purchasedUpgrades&&$.purchasedUpgrades.forEach(U=>{n.value.add(U);const I=a.value.get(U);I&&(I.purchased=!0)}),t.value.clear(),$.selectedPaths&&$.selectedPaths.forEach(([U,I])=>{t.value.set(U,I)}))}function y(){c()}function O($){return n.value.has($)}return r(),{unlocked:e,selectedPaths:t,purchasedUpgrades:n,totalStarlightSpent:o,pathLocked:i,upgradeData:a,availableUpgrades:u,purchasedUpgradesList:l,unlockedBranches:v,getUpgradeBonus:d,checkUnlockConditions:c,canPurchaseUpgrade:_,purchaseUpgrade:T,resetUpgrades:V,tick:y,save:F,load:N,hasUpgrade:O}}),Wo=_t("starecho",()=>{const e=W(!1),t=W(3),n=W(!0),o=W([]);function i(){o.value=[];for(let O=0;O<t.value;O++){const $=O/t.value*2*Math.PI,U=120;o.value.push({id:`echo_slot_${O}`,position:{x:Math.cos($)*U,y:Math.sin($)*U,angle:$},filamentTier:null,occupied:!1,unlocked:!0})}}const a=Z(()=>{let O=Ee,$=Ee;const U=o.value.filter(g=>g.occupied&&g.filamentTier!==null);if(U.length===0)return{productionMultiplier:Ee,tierDifferenceBonus:Ee,totalBonus:Ee};if(U.forEach(()=>{O=O.mul(2)}),U.length>1){const g=U.map(z=>z.filamentTier).sort((z,q)=>z-q),S=g[0],L=g[g.length-1]-S;L>=5?$=R(1.5):L>=3?$=R(1.25):L>=1&&($=R(1.1))}const I=O.mul($);return{productionMultiplier:O,tierDifferenceBonus:$,totalBonus:I}}),r=Z(()=>o.value.filter(O=>!O.occupied)),u=Z(()=>o.value.filter(O=>O.occupied));function l(){ge().starburstCount>=5&&!e.value&&(e.value=!0,i())}function v(O,$){const U=o.value.find(g=>g.id===O);if(!U||U.occupied||!U.unlocked)return!1;const I=ge();return!($<0||$>=I.filaments.length||$>I.maxUnlockedTier||I.filaments[$].owned.eq(0))}function d(O,$){if(!v(O,$))return!1;const U=o.value.find(I=>I.id===O);return U.filamentTier=$,U.occupied=!0,!0}function c(O){const $=o.value.find(U=>U.id===O);return!$||!$.occupied?!1:($.filamentTier=null,$.occupied=!1,!0)}function _(){o.value.forEach(O=>{O.filamentTier=null,O.occupied=!1})}function T(O){const $=ge();return O<0||O>=$.filaments.length?"Unknown":$.filaments[O].name}function V(){return{unlocked:e.value,maxSlots:t.value,centralStarActive:n.value,slots:o.value.map(O=>({id:O.id,filamentTier:O.filamentTier,occupied:O.occupied,unlocked:O.unlocked}))}}function F(O){O&&(e.value=O.unlocked||!1,t.value=O.maxSlots||3,n.value=O.centralStarActive!==!1,O.slots&&e.value&&(i(),O.slots.forEach(($,U)=>{U<o.value.length&&(o.value[U].filamentTier=$.filamentTier,o.value[U].occupied=$.occupied||!1,o.value[U].unlocked=$.unlocked!==!1)})))}function N(){e.value=!1,o.value=[],n.value=!0}function y(){l()}return{unlocked:e,maxSlots:t,centralStarActive:n,slots:o,starEchoBonus:a,availableSlots:r,occupiedSlots:u,initializeSlots:i,checkUnlockConditions:l,canPlaceFilament:v,placeFilament:d,removeFilament:c,clearAllFilaments:_,getFilamentName:T,tick:y,save:V,load:F,reset:N}}),_r=_t("evolution",()=>{const e=W(new Set([0])),t=W(new Map);function n(){const N=[{stage:1,name:"Stellar Awakening",description:"First evolution stage - enhanced production and reduced costs",unlockCondition:{starlight:5,purchases:100,cost:R(1e3)},effects:{productionExponent:R(1.5),costFactorReduction:R(.05),hierarchySynergyMultiplier:Ee,gridAdjacencyBonus:Ee,uniqueAbility:void 0}},{stage:2,name:"Cosmic Resonance",description:"Second evolution stage - enhanced synergies and grid bonuses",unlockCondition:{starlight:8,purchases:100,cost:R(5e3)},effects:{productionExponent:R(1.5),costFactorReduction:R(.05),hierarchySynergyMultiplier:R(3),gridAdjacencyBonus:R(1.5),uniqueAbility:void 0}},{stage:3,name:"Transcendent Form",description:"Final evolution stage - unique tier-specific abilities",unlockCondition:{starlight:18,purchases:100,cost:R(25e3)},effects:{productionExponent:R(1.5),costFactorReduction:R(.05),hierarchySynergyMultiplier:R(3),gridAdjacencyBonus:R(1.5),uniqueAbility:"tier_specific"}}];t.value.clear(),N.forEach(y=>{t.value.set(`stage_${y.stage}`,y)})}const o={0:"Orion's Light: Base production ×5",1:"Eagle's Swiftness: Production speed ×2",2:"Crab's Tenacity: Cost reduction ^0.8",3:"Horsehead's Power: Milestone threshold ^0.9",4:"Trifid's Harmony: Synergy ×3",5:"Planetary Influence: Grid effect ×2",6:"Butterfly Effect: Random bonuses ×1.5",7:"Reflection Mastery: Mirror adjacent effects",8:"Dark Matter: Hidden production ×10",9:"Remnant Supremacy: All production ^1.2"},i=Z(()=>{const y=ge().starlight.amount.toNumber(),O=[];if(y>=5&&!e.value.has(1)){const $=t.value.get("stage_1");$&&O.push($)}if(y>=8&&!e.value.has(2)){const $=t.value.get("stage_2");$&&O.push($)}if(y>=18&&!e.value.has(3)){const $=t.value.get("stage_3");$&&O.push($)}return O});function a(N,y){const O=ge(),$=O.filaments[N];if(!$||!e.value.has(y)||$.evolution>=y||$.owned.lt(100))return!1;const U=t.value.get(`stage_${y}`);if(!U)return!1;const I=U.unlockCondition.cost.mul(R(N+1));return O.nebularEssence>=I.toNumber()}function r(N,y){if(!a(N,y))return!1;const O=ge(),$=O.filaments[N],I=t.value.get(`stage_${y}`).unlockCondition.cost.mul(R(N+1));return O.nebularEssence-=I.toNumber(),$.evolution=y,!0}function u(N){const O=ge().filaments[N];if(!O||O.evolution===0)return{productionExponent:Ee,costFactorReduction:R(0),hierarchySynergyMultiplier:Ee,gridAdjacencyBonus:Ee,uniqueAbility:null};const $=t.value.get(`stage_${O.evolution}`);if(!$)return{productionExponent:Ee,costFactorReduction:R(0),hierarchySynergyMultiplier:Ee,gridAdjacencyBonus:Ee,uniqueAbility:null};let U=null;return O.evolution===3&&(U=o[N]||null),{productionExponent:$.effects.productionExponent,costFactorReduction:$.effects.costFactorReduction,hierarchySynergyMultiplier:$.effects.hierarchySynergyMultiplier,gridAdjacencyBonus:$.effects.gridAdjacencyBonus,uniqueAbility:U}}function l(N,y){const O=t.value.get(`stage_${y}`);return O?O.unlockCondition.cost.mul(R(N+1)):R(0)}function v(){const y=ge().starlight.amount.toNumber();y>=5&&e.value.add(1),y>=8&&e.value.add(2),y>=18&&e.value.add(3)}function d(N){return t.value.get(`stage_${N}`)?.name||`Evolution Stage ${N}`}function c(N){return t.value.get(`stage_${N}`)?.description||""}function _(){return{unlockedStages:Array.from(e.value)}}function T(N){N&&(e.value.clear(),N.unlockedStages&&N.unlockedStages.forEach(y=>{e.value.add(y)}),e.value.add(0))}function V(){e.value.clear(),e.value.add(0)}function F(){v()}return n(),{unlockedStages:e,evolutionData:t,availableEvolutions:i,canEvolveFilament:a,evolveFilament:r,getFilamentEvolutionEffects:u,getEvolutionCost:l,getStageName:d,getStageDescription:c,checkStageUnlocks:v,tick:F,save:_,load:T,reset:V}}),Sr=_t("automation",()=>{const e=W({starburst:{unlocked:!1,enabled:!1,triggers:{primary:{type:"stardust",enabled:!0,value:R("1e20")},secondary:{type:"filament",enabled:!1,value:25,tier:9}},settings:{preserveStardust:!1,preserveFilaments:!1,minimumStarlight:0,delayBetweenBursts:5},stats:{totalAutoBursts:0,lastAutoBurst:0,averageInterval:0}}}),t=W(Date.now()),n=W([]);function o(){try{return ge()}catch{return null}}const i=Z(()=>e.value.starburst),a=Z(()=>{const I=o();return I?I.starlight.amount.gte(15):!1}),r=Z(()=>{const I=o();if(!I||!i.value.unlocked||!i.value.enabled||I.starlight.amount.lt(i.value.settings.minimumStarlight))return!1;const g=(Date.now()-i.value.stats.lastAutoBurst)/1e3;if(g<i.value.settings.delayBetweenBursts)return!1;const S=i.value,b=S.triggers.primary,L=S.triggers.secondary;let z=!1;if(b.enabled)switch(b.type){case"stardust":z=I.stardust.amount.gte(b.value);break;case"filament":if(b.tier!==void 0){const E=I.filaments[b.tier];z=E&&E.owned.gte(b.value)}break;case"time":z=g>=b.value;break;case"hybrid":const P=I.stardust.amount.gte(R("1e20")),x=I.canStarburst;z=P||x;break}let q=!0;if(L?.enabled)switch(L.type){case"stardust":q=I.stardust.amount.gte(L.value);break;case"filament":if(L.tier!==void 0){const P=I.filaments[L.tier];q=P&&P.owned.gte(L.value)}break;case"time":q=g>=L.value;break}return z&&q&&I.canStarburst});function u(){return a.value?(e.value.starburst.unlocked=!0,!0):!1}function l(){return i.value.unlocked?(e.value.starburst.enabled=!e.value.starburst.enabled,!0):!1}function v(I,g){if(!i.value.unlocked)return!1;const S=e.value.starburst.triggers[I];return S?(g.type!==void 0&&(S.type=g.type),g.enabled!==void 0&&(S.enabled=g.enabled),g.value!==void 0&&(S.value=g.value),g.tier!==void 0&&(S.tier=g.tier),!0):!1}function d(I){return i.value.unlocked?(Object.assign(e.value.starburst.settings,I),!0):!1}function c(){const I=o();if(!I||!r.value)return!1;I.performStarburst();const g=Date.now(),S=(g-e.value.starburst.stats.lastAutoBurst)/1e3;if(e.value.starburst.stats.lastAutoBurst>0&&(n.value.push(S),n.value.length>10&&n.value.shift()),e.value.starburst.stats.totalAutoBursts++,e.value.starburst.stats.lastAutoBurst=g,n.value.length>0){const b=n.value.reduce((L,z)=>L+z,0);e.value.starburst.stats.averageInterval=b/n.value.length}return!0}function _(){e.value.starburst.stats={totalAutoBursts:0,lastAutoBurst:0,averageInterval:0},n.value=[]}function T(){const I=Date.now();t.value=I,!i.value.unlocked&&a.value&&u(),r.value&&c()}function V(I){if(!i.value.unlocked)return!1;const S={conservative:{triggers:{primary:{type:"stardust",enabled:!0,value:R("1e25")},secondary:{type:"time",enabled:!0,value:30}},settings:{preserveStardust:!0,preserveFilaments:!0,minimumStarlight:5,delayBetweenBursts:10}},balanced:{triggers:{primary:{type:"hybrid",enabled:!0,value:R("1e20")},secondary:{type:"filament",enabled:!0,value:15,tier:9}},settings:{preserveStardust:!1,preserveFilaments:!1,minimumStarlight:2,delayBetweenBursts:5}},aggressive:{triggers:{primary:{type:"stardust",enabled:!0,value:R("1e15")},secondary:{type:"time",enabled:!0,value:10}},settings:{preserveStardust:!1,preserveFilaments:!1,minimumStarlight:0,delayBetweenBursts:2}}}[I];return S?(Object.assign(e.value.starburst.triggers,S.triggers),Object.assign(e.value.starburst.settings,S.settings),!0):!1}function F(){return{automationSettings:{starburst:{unlocked:e.value.starburst.unlocked,enabled:e.value.starburst.enabled,triggers:{primary:{type:e.value.starburst.triggers.primary.type,enabled:e.value.starburst.triggers.primary.enabled,value:e.value.starburst.triggers.primary.value.toString(),tier:e.value.starburst.triggers.primary.tier},secondary:e.value.starburst.triggers.secondary?{type:e.value.starburst.triggers.secondary.type,enabled:e.value.starburst.triggers.secondary.enabled,value:e.value.starburst.triggers.secondary.value.toString(),tier:e.value.starburst.triggers.secondary.tier}:void 0},settings:e.value.starburst.settings,stats:e.value.starburst.stats}},intervalHistory:n.value}}function N(I){if(I){if(I.automationSettings?.starburst){const g=I.automationSettings.starburst;if(e.value.starburst.unlocked=g.unlocked||!1,e.value.starburst.enabled=g.enabled||!1,g.triggers){if(g.triggers.primary){const S=g.triggers.primary;e.value.starburst.triggers.primary={type:S.type,enabled:S.enabled,value:typeof S.value=="string"?R(S.value):S.value,tier:S.tier}}if(g.triggers.secondary){const S=g.triggers.secondary;e.value.starburst.triggers.secondary={type:S.type,enabled:S.enabled,value:typeof S.value=="string"?R(S.value):S.value,tier:S.tier}}}g.settings&&Object.assign(e.value.starburst.settings,g.settings),g.stats&&Object.assign(e.value.starburst.stats,g.stats)}I.intervalHistory&&(n.value=I.intervalHistory)}}function y(){e.value={starburst:{unlocked:!1,enabled:!1,triggers:{primary:{type:"stardust",enabled:!0,value:R("1e20")},secondary:{type:"filament",enabled:!1,value:25,tier:9}},settings:{preserveStardust:!1,preserveFilaments:!1,minimumStarlight:0,delayBetweenBursts:5},stats:{totalAutoBursts:0,lastAutoBurst:0,averageInterval:0}}},n.value=[]}const O=Z(()=>i.value.unlocked),$=Z(()=>[{id:"starburst",name:"Auto Starburst",description:"Automatically perform Starburst when conditions are met",enabled:i.value.enabled,active:i.value.enabled&&r.value,interval:i.value.settings.delayBetweenBursts*1e3,cost:R(50)}]),U=Z(()=>50);return{automationSettings:e,starburstAutomation:i,canUnlockStarburstAutomation:a,shouldAutoStarburst:r,unlocked:O,availableAutomations:$,unlockRequirement:U,unlockStarburstAutomation:u,toggleStarburstAutomation:l,updateStarburstTrigger:v,updateStarburstSettings:d,performAutoStarburst:c,resetAutomationStats:_,applyPreset:V,purchaseAutomation:u,toggleAutomation:l,tick:T,save:F,load:N,reset:y}});var $n=(e=>(e.COSMIC_STORM="cosmic_storm",e.STELLAR_ALIGNMENT="stellar_alignment",e.NEBULA_SURGE="nebula_surge",e.TEMPORAL_FLUX="temporal_flux",e.SUPERNOVA_ECHO="supernova_echo",e.FILAMENT_RESONANCE="filament_resonance",e.CONSTELLATION_CONVERGENCE="constellation_convergence",e))($n||{}),Tn=(e=>(e.COMMON="common",e.UNCOMMON="uncommon",e.RARE="rare",e.EPIC="epic",e.LEGENDARY="legendary",e))(Tn||{});const Ko=_t("events",()=>{const e=W(new Map),t=W(new Map),n=W([]),o=W(Ee),i=W(0),a=W(60),r=W(new Set),u=W(2),l=W(!1),v=W(new Map);function d(){const P=[{id:"cosmic_storm_minor",name:"Minor Cosmic Storm",description:"A small cosmic storm increases production but raises costs",type:$n.COSMIC_STORM,rarity:Tn.COMMON,duration:120,remainingTime:0,active:!1,effects:[{type:"production",target:"all",value:R(1.5),description:"Production ×1.5"},{type:"cost",target:"filament",value:R(1.2),description:"Filament costs ×1.2"}],triggerConditions:[{type:"random_chance",value:.02,comparison:"lte"}],canTriggerAgain:!0,cooldownTime:300,cooldownRemaining:0},{id:"stellar_alignment_harmony",name:"Stellar Harmony",description:"The stars align in perfect harmony, boosting all synergies",type:$n.STELLAR_ALIGNMENT,rarity:Tn.UNCOMMON,duration:180,remainingTime:0,active:!1,effects:[{type:"multiplier",target:"synergy",value:R(3),description:"All synergy effects ×3"},{type:"special",target:"constellation_power",value:R(1.5),description:"Constellation effects +50%"}],triggerConditions:[{type:"starburst_count",value:5,comparison:"gte"},{type:"random_chance",value:.01,comparison:"lte"}],canTriggerAgain:!0,cooldownTime:600,cooldownRemaining:0},{id:"nebula_surge_creation",name:"Nebula Creation Surge",description:"A surge of cosmic energy makes pattern creation easier",type:$n.NEBULA_SURGE,rarity:Tn.UNCOMMON,duration:240,remainingTime:0,active:!1,effects:[{type:"cost",target:"nebula_placement",value:R(.5),description:"Nebula placement costs ×0.5"},{type:"special",target:"pattern_discovery",value:R(2),description:"Pattern discovery rate ×2"}],triggerConditions:[{type:"starlight_amount",value:10,comparison:"gte"}],canTriggerAgain:!0,cooldownTime:900,cooldownRemaining:0},{id:"temporal_flux_acceleration",name:"Temporal Flux Acceleration",description:"Time flows differently, affecting all systems",type:$n.TEMPORAL_FLUX,rarity:Tn.RARE,duration:300,remainingTime:0,active:!1,effects:[{type:"special",target:"time_flow",value:R(2),description:"Time flows ×2 faster for production"},{type:"special",target:"pulsation_speed",value:R(.5),description:"Pulsation cycles ×0.5 duration"}],triggerConditions:[{type:"time_played",value:3600,comparison:"gte"},{type:"random_chance",value:.005,comparison:"lte"}],canTriggerAgain:!0,cooldownTime:1800,cooldownRemaining:0},{id:"supernova_echo_wave",name:"Supernova Echo Wave",description:"The echo of a distant supernova reaches your star system",type:$n.SUPERNOVA_ECHO,rarity:Tn.EPIC,duration:600,remainingTime:0,active:!1,effects:[{type:"production",target:"all",value:R(10),description:"All production ×10"},{type:"special",target:"starburst_power",value:R(2),description:"Starburst effects ×2"}],triggerConditions:[{type:"starburst_count",value:20,comparison:"gte"},{type:"starlight_amount",value:50,comparison:"gte"}],canTriggerAgain:!1,cooldownTime:0,cooldownRemaining:0}];v.value.clear(),P.forEach(x=>{v.value.set(x.id,{...x})})}const c=Z(()=>Array.from(e.value.values())),_=Z(()=>Array.from(t.value.values())),T=Z(()=>{const x=ge().totalTimePlayed-i.value;return e.value.size<u.value&&x>=a.value&&l.value});function V(){const P=ge();P.starlight.amount.gte(10)&&!l.value&&(l.value=!0);const x=P.starlight.amount.toNumber();x>=50?u.value=4:x>=25&&(u.value=3)}function F(){if(!T.value)return;const P=ge();v.value.forEach(x=>{if(x.active||!x.canTriggerAgain&&r.value.has(x.id)||x.cooldownRemaining>0)return;x.triggerConditions.every(C=>N(C,P))&&y(x.id)})}function N(P,x){let E;switch(P.type){case"starburst_count":E=x.starburstCount;break;case"starlight_amount":E=x.starlight.amount.toNumber();break;case"filament_tier":E=x.maxUnlockedTier;break;case"time_played":E=x.totalTimePlayed;break;case"random_chance":E=Math.random();break;default:return!1}switch(P.comparison){case"gte":return E>=P.value;case"lte":return E<=P.value;case"eq":return E===P.value;case"gt":return E>P.value;case"lt":return E<P.value;default:return!1}}function y(P){const x=v.value.get(P);if(!x||e.value.has(P))return!1;const E={...x,remainingTime:x.duration,active:!0};e.value.set(P,E),r.value.add(P);const C=ge();return i.value=C.totalTimePlayed,E.onStart&&E.onStart(),!0}function O(P){const x=e.value.get(P);if(!x)return;x.onEnd&&x.onEnd();const E=v.value.get(P);E&&(E.cooldownRemaining=E.cooldownTime),e.value.delete(P)}function $(P){let x=Ee;return c.value.forEach(E=>{E.effects.forEach(C=>{(C.target===P||C.target==="all")&&(C.type==="production"||C.type==="multiplier")&&(x=x.mul(C.value))})}),x}function U(P){let x=Ee;return c.value.forEach(E=>{E.effects.forEach(C=>{(C.target===P||C.target==="all")&&C.type==="cost"&&(x=x.mul(C.value))})}),x}function I(P,x,E,C){const A=`choice_${P}_${Date.now()}`,D={id:A,eventId:P,title:x,description:E,options:C,timeLimit:60,defaultOption:C[0]?.id};return t.value.set(A,D),A}function g(P,x){const E=t.value.get(P);if(!E)return!1;const C=E.options.find(A=>A.id===x);return C?(C.effects.forEach(A=>{S(A)}),n.value.push({eventId:E.eventId,timestamp:Date.now(),choicesMade:[x],outcomes:C.effects}),t.value.delete(P),!0):!1}function S(P){P.type==="production"&&(o.value=o.value.mul(P.value))}function b(P){V(),l.value&&(v.value.forEach(x=>{x.cooldownRemaining>0&&(x.cooldownRemaining=Math.max(0,x.cooldownRemaining-P))}),e.value.forEach((x,E)=>{x.remainingTime-=P,x.remainingTime<=0&&O(E)}),t.value.forEach((x,E)=>{x.timeLimit&&(x.timeLimit-=P,x.timeLimit<=0&&(x.defaultOption?g(E,x.defaultOption):t.value.delete(E)))}),F())}function L(){e.value.clear(),t.value.clear(),n.value=[],o.value=Ee,i.value=0,r.value.clear(),u.value=2,l.value=!1,v.value.forEach(P=>{P.cooldownRemaining=0,P.active=!1,P.remainingTime=0})}function z(){return{activeEvents:Array.from(e.value.entries()),pendingChoices:Array.from(t.value.entries()),eventHistory:n.value,globalEventMultiplier:o.value.toString(),lastEventTime:i.value,discoveredEvents:Array.from(r.value),maxActiveEvents:u.value,unlocked:l.value,eventCooldowns:Array.from(v.value.entries()).map(([P,x])=>({id:P,cooldownRemaining:x.cooldownRemaining}))}}function q(P){P&&(l.value=P.unlocked||!1,u.value=P.maxActiveEvents||2,i.value=P.lastEventTime||0,o.value=R(P.globalEventMultiplier||1),P.eventHistory&&(n.value=P.eventHistory),P.discoveredEvents&&(r.value=new Set(P.discoveredEvents)),P.activeEvents&&(e.value.clear(),P.activeEvents.forEach(([x,E])=>{e.value.set(x,E)})),P.pendingChoices&&(t.value.clear(),P.pendingChoices.forEach(([x,E])=>{t.value.set(x,E)})),P.eventCooldowns&&P.eventCooldowns.forEach(x=>{const E=v.value.get(x.id);E&&(E.cooldownRemaining=x.cooldownRemaining||0)}))}return d(),{activeEvents:e,pendingChoices:t,eventHistory:n,globalEventMultiplier:o,discoveredEvents:r,maxActiveEvents:u,unlocked:l,currentActiveEvents:c,currentPendingChoices:_,canTriggerNewEvent:T,checkUnlockConditions:V,triggerEvent:y,endEvent:O,getEventEffectMultiplier:$,getEventCostMultiplier:U,createEventChoice:I,makeEventChoice:g,tick:b,reset:L,save:z,load:q}});var tn=(e=>(e.MANUAL="manual",e.THRESHOLD="threshold",e.TIMED="timed",e.OPTIMAL="optimal",e))(tn||{});const Xo=_t("condensation",()=>{const e=W(!1),t=W([]),n=W(new Map),o=W(Be),i=W([]),a=W(null),r=W(!1),u=W(R("1e50")),l=W([]),v=W(tn.MANUAL);function d(){const C=new Map;C.set("stellar",{type:"stellar",amount:Be,description:"Essence of stellar processes and energy",bonuses:[{type:"production",target:"nova_layer_base",value:R(1.1),description:"Nova Layer base production +10% per essence"}]}),C.set("cosmic",{type:"cosmic",amount:Be,description:"Essence of cosmic structures and filaments",bonuses:[{type:"unlock",target:"nova_filaments",value:R(1),description:"Unlock advanced Nova Layer filament types"}]}),C.set("temporal",{type:"temporal",amount:Be,description:"Essence of time flow and pulsation cycles",bonuses:[{type:"special",target:"time_compression",value:R(1.2),description:"Time flows 20% faster in Nova Layer"}]}),C.set("dimensional",{type:"dimensional",amount:Be,description:"Essence of spatial dimensions and constellation networks",bonuses:[{type:"multiplier",target:"nova_synergy",value:R(2),description:"Nova Layer synergy effects ×2"}]}),n.value=C}function c(){const C=ge(),A=[];A.push({id:"stardust_condensation",name:"Stardust Reserves",description:"Condense accumulated stardust into stellar essence",type:"resource",currentValue:C.stardust.amount,condensationRate:R(.01),priority:1,unlocked:!0}),A.push({id:"starlight_condensation",name:"Starlight Energy",description:"Condense starlight into temporal essence",type:"resource",currentValue:C.starlight.amount,condensationRate:R(.5),priority:2,unlocked:C.starlight.amount.gte(1)}),A.push({id:"filament_progress",name:"Filament Mastery",description:"Condense filament evolution progress into cosmic essence",type:"progress",currentValue:R(C.filaments.reduce((D,J)=>D+J.evolution,0)),condensationRate:R(.2),priority:3,unlocked:C.filaments.some(D=>D.evolution>0)}),A.push({id:"starburst_experience",name:"Starburst Experience",description:"Condense reset experience into dimensional essence",type:"progress",currentValue:R(C.starburstCount),condensationRate:R(1),priority:4,unlocked:C.starburstCount>0}),A.push({id:"pulsation_mastery",name:"Pulsation Mastery",description:"Condense pulsation cycle knowledge into temporal essence",type:"system",currentValue:R(10),condensationRate:R(.3),priority:5,unlocked:!1}),A.push({id:"constellation_network",name:"Constellation Network",description:"Condense railway network progress into dimensional essence",type:"system",currentValue:R(5),condensationRate:R(.25),priority:6,unlocked:!1}),t.value=A}const _=Z(()=>t.value.filter(C=>C.unlocked)),T=Z(()=>{let C=Be;return n.value.forEach(A=>{C=C.add(A.amount)}),C}),V=Z(()=>{const C=ge(),A=[{type:"starlight",value:100,description:"Reach 100 Starlight",met:C.starlight.amount.gte(100)},{type:"starburst",value:50,description:"Complete 50 Starbursts",met:C.starburstCount>=50},{type:"system_level",value:5,description:"Max out 5 major systems",met:!1},{type:"time_played",value:72e3,description:"Play for 20 hours total",met:C.totalTimePlayed>=72e3}];return{unlocked:A.every(J=>J.met),requirements:A,estimatedPower:g(),newSystems:["Nova Filaments (Tier 11-20)","Galactic Networks","Quantum Pulsation","Stellar Forge","Reality Compression"],preservedProgress:new Map([["essence_bonuses",T.value],["mastery_levels",R(t.value.length)],["unlock_speed",R(2)]]),essenceCarryover:new Map(Array.from(n.value.entries()).map(([J,te])=>[J,te.amount]))}}),F=Z(()=>e.value&&_.value.length>0);function N(){const C=ge();C.starlight.amount.gte(75)&&C.starburstCount>=25&&!e.value&&(e.value=!0,d(),c()),e.value&&y()}function y(){const C=ge();t.value.forEach(A=>{switch(A.id){case"starlight_condensation":A.unlocked=C.starlight.amount.gte(1),A.currentValue=C.starlight.amount;break;case"stardust_condensation":A.currentValue=C.stardust.amount;break;case"filament_progress":A.unlocked=C.filaments.some(D=>D.evolution>0),A.currentValue=R(C.filaments.reduce((D,J)=>D+J.evolution,0));break;case"starburst_experience":A.unlocked=C.starburstCount>0,A.currentValue=R(C.starburstCount);break}})}function O(C){const A=t.value.find(se=>se.id===C);if(!A||!A.unlocked||A.currentValue.lte(0))return!1;const D=A.currentValue.mul(A.condensationRate),J=U(A),te=n.value.get(J);return te&&(te.amount=te.amount.add(D)),I(A),o.value=o.value.add(D),!0}function $(){if(!F.value)return!1;const C=new Map(t.value.map(J=>[J.id,J.currentValue])),A=o.value,D=new Map;return _.value.forEach(J=>{if(J.currentValue.gt(0)){const te=J.currentValue.mul(J.condensationRate),se=U(J);D.set(se,(D.get(se)||Be).add(te)),O(J.id)}}),l.value.push({timestamp:Date.now(),targetsCondensed:Array.from(C.keys()),essenceGained:D,totalPowerBefore:A,totalPowerAfter:o.value}),!0}function U(C){switch(C.type){case"resource":return C.id.includes("starlight")?"temporal":"stellar";case"progress":return C.id.includes("filament")?"cosmic":"dimensional";case"system":return C.id.includes("pulsation")?"temporal":"dimensional";default:return"stellar"}}function I(C){C.type==="resource"?C.currentValue=Be:C.currentValue=C.currentValue.mul(R(1).sub(C.condensationRate))}function g(){let C=Be;C=C.add(T.value.mul(10));const A=R(n.value.size).pow(1.5);C=C.mul(A);const D=ge();return D.starburstCount>=50&&(C=C.mul(1.5)),D.starlight.amount.gte(100)&&(C=C.mul(2)),C}function S(C,A){const D=`preset_${Date.now()}`,J=new Map;t.value.forEach(se=>{J.set(se.id,se.priority)});const te={id:D,name:C,description:A,targets:J,customSettings:new Map([["auto_enabled",r.value.toString()],["threshold",u.value.toString()],["mode",v.value]])};return i.value.push(te),D}function b(C){const A=i.value.find(D=>D.id===C);return A?(A.targets.forEach((D,J)=>{const te=t.value.find(se=>se.id===J);te&&(te.priority=D)}),r.value=A.customSettings.get("auto_enabled")||!1,u.value=R(A.customSettings.get("threshold")||"1e50"),v.value=A.customSettings.get("mode")||tn.MANUAL,a.value=C,!0):!1}function L(){if(!(!r.value||!F.value))switch(v.value){case tn.THRESHOLD:T.value.gte(u.value)&&$();break;case tn.OPTIMAL:z();break;case tn.TIMED:break}}function z(){const C=ge(),A=C.totalStardustProduction,D=C.stardust.amount,J=A.mul(3600);D.gte(J.mul(5))&&$()}function q(){N(),e.value&&(y(),L())}function P(){e.value=!1,t.value=[],n.value.clear(),o.value=Be,i.value=[],a.value=null,r.value=!1,u.value=R("1e50"),l.value=[],v.value=tn.MANUAL}function x(){return{unlocked:e.value,availableTargets:t.value.map(C=>({...C,currentValue:C.currentValue.toString(),condensationRate:C.condensationRate.toString()})),essenceTypes:Array.from(n.value.entries()).map(([C,A])=>[C,{...A,amount:A.amount.toString(),bonuses:A.bonuses.map(D=>({...D,value:D.value.toString()}))}]),totalCondensationPower:o.value.toString(),presets:i.value,activePreset:a.value,autoCondensationEnabled:r.value,condensationThreshold:u.value.toString(),condensationHistory:l.value.map(C=>({...C,essenceGained:Array.from(C.essenceGained.entries()),totalPowerBefore:C.totalPowerBefore.toString(),totalPowerAfter:C.totalPowerAfter.toString()})),condensationMode:v.value}}function E(C){C&&(e.value=C.unlocked||!1,r.value=C.autoCondensationEnabled||!1,u.value=R(C.condensationThreshold||"1e50"),o.value=R(C.totalCondensationPower||0),a.value=C.activePreset||null,v.value=C.condensationMode||tn.MANUAL,C.availableTargets&&(t.value=C.availableTargets.map(A=>({...A,currentValue:R(A.currentValue),condensationRate:R(A.condensationRate)}))),C.essenceTypes&&(n.value.clear(),C.essenceTypes.forEach(([A,D])=>{n.value.set(A,{...D,amount:R(D.amount),bonuses:D.bonuses.map(J=>({...J,value:R(J.value)}))})})),C.presets&&(i.value=C.presets),C.condensationHistory&&(l.value=C.condensationHistory.map(A=>({...A,essenceGained:new Map(A.essenceGained),totalPowerBefore:R(A.totalPowerBefore),totalPowerAfter:R(A.totalPowerAfter)}))))}return{unlocked:e,availableTargets:t,essenceTypes:n,totalCondensationPower:o,presets:i,activePreset:a,autoCondensationEnabled:r,condensationThreshold:u,condensationHistory:l,condensationMode:v,unlockedTargets:_,totalEssenceAmount:T,novaLayerPreview:V,canCondense:F,checkUnlockConditions:N,condenseTarget:O,condenseAll:$,createPreset:S,applyPreset:b,tick:q,reset:P,save:x,load:E}});var as=(e=>(e.BASIC="basic",e.MECHANICS="mechanics",e.SYSTEMS="systems",e.PROGRESSION="progression",e.ENDGAME="endgame",e.FORMULAS="formulas",e))(as||{}),et=(e=>(e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.AUTO="auto",e))(et||{}),an=(e=>(e.HOVER="hover",e.CLICK="click",e.FOCUS="focus",e.MANUAL="manual",e))(an||{}),rn=(e=>(e.GETTING_STARTED="getting_started",e.CORE_MECHANICS="core_mechanics",e.ADVANCED_SYSTEMS="advanced_systems",e.OPTIMIZATION="optimization",e.LAYER_TRANSITION="layer_transition",e.TROUBLESHOOTING="troubleshooting",e))(rn||{}),$o=(e=>(e.FIRST_STEPS="first_steps",e.SYSTEM_INTRODUCTION="system_introduction",e.ADVANCED_FEATURES="advanced_features",e.OPTIMIZATION_GUIDE="optimization_guide",e))($o||{});const Qo=_t("tooltips",()=>{const e=W(new Map),t=W(null),n=W(null),o=W(!0),i=W(new Map),a=W([]),r=W(null),u=W(0),l=W(new Set),v=W(new Set),d=W(!0),c=W(new Map),_=W(new Map),T=W(new Map),V=W(""),F=W(null);function N(){Object.values(as).forEach(ie=>{i.value.set(ie,!0)})}function y(){const ie=[{id:"first_purchase",title:"Making Your First Purchase",description:"Learn how to buy your first Cosmic Filament",category:rn.GETTING_STARTED,content:[{type:"text",content:"Welcome to Aether! Your journey begins with purchasing Cosmic Filaments, which are the foundation of stellar production."},{type:"list",title:"Steps to get started:",content:["Wait for Stardust to accumulate (starts automatically)",'Click on "Orion Filament" when you have 10 Stardust',"Watch your production increase!","Continue buying more filaments as you can afford them"]},{type:"tip",content:"Buying more of the same filament type increases your production exponentially through milestone bonuses!"}],relatedTopics:["stardust_production","filament_hierarchy"],searchTerms:["buy","purchase","first","start","orion","filament"]},{id:"stardust_production",title:"Stardust Production",description:"Understanding how Stardust is generated and used",category:rn.CORE_MECHANICS,content:[{type:"text",content:"Stardust is the fundamental currency of your stellar empire. It's produced automatically and can be spent on Cosmic Filaments."},{type:"formula",content:{formula:"Production = Base × Filaments × Milestones × Multipliers",variables:{Base:"Starting production rate (1/sec)",Filaments:"Production from owned filaments",Milestones:"Bonus from reaching purchase milestones",Multipliers:"Various system bonuses (Starburst, Upgrades, etc.)"},example:"With 10 Orion Filaments: 1 × 15 × 2 × 1 = 30 Stardust/sec"}},{type:"tip",content:"Production increases dramatically as you unlock new systems and reach higher milestones!"}],relatedTopics:["filament_hierarchy","starburst_system"],searchTerms:["stardust","production","currency","generate"]},{id:"filament_hierarchy",title:"Cosmic Filament Hierarchy",description:"How different filament tiers work together",category:rn.CORE_MECHANICS,content:[{type:"text",content:"Cosmic Filaments are organized in a hierarchy where higher tiers boost the production of lower tiers."},{type:"table",content:{headers:["Tier","Name","Base Cost","Production Multiplier"],rows:[["1","Orion Filament","10","1.5x"],["2","Eagle Filament","100","1.55x"],["3","Crab Filament","10,000","1.6x"],["4","Horsehead Filament","1,000,000","1.65x"],["...","...","...","..."]]}},{type:"text",content:"Each filament also provides synergy bonuses to adjacent tiers based on the formula:"},{type:"formula",content:{formula:"Synergy = (Lower Tier Count)^0.5 × (Higher Tier Count)^0.3",variables:{"Lower Tier Count":"Number of filaments in the tier below","Higher Tier Count":"Number of filaments in the current tier"}}}],relatedTopics:["stardust_production","milestone_system"],searchTerms:["filament","hierarchy","tier","synergy","bonus"]},{id:"starburst_system",title:"Starburst Reset Mechanism",description:"Understanding when and why to perform Starbursts",category:rn.ADVANCED_SYSTEMS,content:[{type:"text",content:"Starburst is your first prestige mechanic. It resets most progress but provides powerful multipliers to future production."},{type:"list",title:"Starburst Benefits:",content:["Permanent production multiplier that scales with Starlight","Star Rail currency for constellation navigation","Unlocks higher tier filaments","Access to advanced systems"]},{type:"list",title:"Starburst Conditions:",content:["1st Starburst: Buy Tier 4 filament OR reach 1e20 Stardust","2nd-9th: Reach 25 of highest tier filament","10th+: Reach (50 + 5×count) Tier 10 filaments"]},{type:"warning",content:"Starburst resets your Stardust and filament counts, but preserves milestones and evolution progress!"}],unlockCondition:()=>{const M=ge();return M.starburstCount>0||M.canStarburst},relatedTopics:["starlight_system","filament_evolution"],searchTerms:["starburst","reset","prestige","multiplier"]},{id:"starlight_system",title:"Starlight and Major Resets",description:"The deeper prestige layer with powerful upgrades",category:rn.ADVANCED_SYSTEMS,content:[{type:"text",content:"Starlight is earned through extensive soft resets and unlocks the most powerful systems in the game."},{type:"text",content:"You gain 1 Starlight when your Stardust reaches 1e100 (100 Quintillion). This also provides Star Rail currency."},{type:"list",title:"Starlight unlocks:",content:["3+ Starlight: Star Memory System","8+ Starlight: Upgrade Tree, Memory expansion","15+ Starlight: Automation systems","25+ Starlight: Priority preservation","75+ Starlight: Condensation system"]},{type:"formula",content:{formula:"Star Rails = floor((Starlight gained / 10)^0.5)",variables:{"Star Rails":"Currency for constellation navigation","Starlight gained":"Total Starlight earned in current session"},example:"Earning 40 Starlight gives floor((40/10)^0.5) = 2 Star Rails"}}],unlockCondition:()=>{const M=ge();return M.starlight.amount.gte(1)||M.canGetStarlight},relatedTopics:["upgrade_tree","star_memory","railroad_system"],searchTerms:["starlight","prestige","reset","upgrade","star rail"]},{id:"nebula_patterns",title:"Nebula Grid Patterns",description:"Creating and optimizing nebula formations",category:rn.ADVANCED_SYSTEMS,content:[{type:"text",content:"The Nebula Grid system allows you to place different cell types to create powerful pattern bonuses."},{type:"table",content:{headers:["Pattern","Effect","Requirements"],rows:[["Stellar Line","+50% Stardust production","3 Stardust cells in a line"],["Cosmic Cross","×2 all production","Cross with Multiplier center"],["Nebular Diamond","+25% filament boost","Diamond of Synergy cells"],["Trinity Effect","+100% hierarchy synergy","Triangle with Tier 1,5,10 filaments"]]}},{type:"tip",content:"Experiment with different combinations! Some patterns have hidden tier-specific requirements that provide massive bonuses."}],unlockCondition:()=>ge().starlight.amount.gte(10),relatedTopics:["filament_hierarchy","optimization_guide"],searchTerms:["nebula","grid","pattern","placement","bonus"]}];c.value.clear(),ie.forEach(M=>{c.value.set(M.id,M)})}function O(){const ie=[{id:"first_game",name:"Welcome to Aether",description:"Learn the basics of stellar management",category:$o.FIRST_STEPS,autoStart:!0,canRestart:!0,steps:[{id:"welcome",title:"Welcome!",description:"Welcome to Aether! This tutorial will guide you through your first stellar empire.",position:et.BOTTOM,skippable:!0,next:"check_stardust"},{id:"check_stardust",title:"Check Your Resources",description:"Look at the resource panel at the top. You should see Stardust slowly accumulating.",target:".resource-header",position:et.BOTTOM,action:"highlight",condition:()=>ge().stardust.amount.gte(1),next:"buy_first_filament"},{id:"buy_first_filament",title:"Buy Your First Filament",description:'Click on "Orion Filament" to purchase it when you have 10 Stardust.',target:'[data-filament="0"]',position:et.RIGHT,action:"click",condition:()=>ge().filaments[0].owned.gt(0),next:"production_increase"},{id:"production_increase",title:"Production Boost!",description:"Notice how your Stardust production increased! This is the core loop of the game.",position:et.TOP,action:"wait",next:"buy_more"},{id:"buy_more",title:"Keep Growing",description:"Continue buying more filaments to increase your production. Try to reach 10 Orion Filaments for a milestone bonus!",target:'[data-filament="0"]',position:et.RIGHT,condition:()=>ge().filaments[0].owned.gte(10),next:"milestone_achieved"},{id:"milestone_achieved",title:"Milestone Achieved!",description:"Great! You've reached your first milestone. Every 10 filaments doubles that filament's production.",position:et.TOP,next:"explore_tabs"},{id:"explore_tabs",title:"Explore the Galaxy",description:"Use the tabs at the top to explore different systems. The Evolution tab will become important later!",target:".tab-header",position:et.BOTTOM,skippable:!0}]},{id:"starburst_intro",name:"Your First Starburst",description:"Learn about the prestige system",category:$o.SYSTEM_INTRODUCTION,canRestart:!0,unlockCondition:()=>ge().canStarburst,steps:[{id:"starburst_available",title:"Starburst Available!",description:"You can now perform your first Starburst! This is a major milestone that will reset some progress but provide permanent bonuses.",position:et.TOP,next:"explain_starburst"},{id:"explain_starburst",title:"What is Starburst?",description:"Starburst resets your Stardust and filament counts, but keeps milestones and provides a permanent production multiplier.",position:et.TOP,next:"perform_starburst"},{id:"perform_starburst",title:"Perform Starburst",description:`Go to the Reset tab and click "Perform Starburst" when you're ready!`,target:'[data-tab="reset"]',position:et.BOTTOM,action:"click"}]}];_.value.clear(),ie.forEach(M=>{_.value.set(M.id,M)})}const $=Z(()=>Array.from(c.value.values()).filter(ie=>{if(ie.unlockCondition&&!ie.unlockCondition()||F.value&&ie.category!==F.value)return!1;if(V.value){const M=V.value.toLowerCase();return ie.title.toLowerCase().includes(M)||ie.description.toLowerCase().includes(M)||ie.searchTerms?.some(G=>G.includes(M))}return!0})),U=Z(()=>Array.from(_.value.values()).filter(ie=>!ie.unlockCondition||ie.unlockCondition())),I=Z(()=>r.value?_.value.get(r.value):null),g=Z(()=>!I.value||u.value>=I.value.steps.length?null:I.value.steps[u.value]);function S(ie,M){if(!o.value)return;const G=M.category||as.BASIC;if(!i.value.get(G))return;const K={id:ie,title:M.title||"",content:M.content||"",category:G,position:M.position||et.AUTO,trigger:M.trigger||an.HOVER,delay:M.delay||500,maxWidth:M.maxWidth||300,showArrow:M.showArrow!==!1,persistent:M.persistent||!1,dismissible:M.dismissible!==!1};e.value.set(ie,K),a.value.push(ie),a.value.length>50&&(a.value=a.value.slice(-25))}function b(ie){e.value.delete(ie)}function L(){e.value.clear(),t.value=null,n.value=null}function z(ie,M){const G=i.value.get(ie)||!1;i.value.set(ie,M!==void 0?M:!G),i.value.get(ie)||e.value.forEach((K,pe)=>{K.category===ie&&b(pe)})}function q(ie){const M=_.value.get(ie);return!M||!d.value||M.unlockCondition&&!M.unlockCondition()?!1:(r.value=ie,u.value=0,!0)}function P(){return I.value?u.value<I.value.steps.length-1?(u.value++,!0):(C(),!1):!1}function x(){return u.value>0?(u.value--,!0):!1}function E(){I.value&&(v.value.add(I.value.id),r.value=null,u.value=0)}function C(){I.value&&(l.value.add(I.value.id),r.value=null,u.value=0)}function A(ie){l.value.delete(ie),v.value.delete(ie)}function D(ie){return c.value.get(ie)}function J(ie){V.value=ie}function te(ie){F.value=ie}function se(){if(!(!d.value||r.value)){for(const ie of _.value.values())if(ie.autoStart&&!l.value.has(ie.id)&&!v.value.has(ie.id)&&(!ie.unlockCondition||ie.unlockCondition())){q(ie.id);break}}}function oe(){se(),g.value?.condition&&g.value.condition()&&P()}function Ce(){return{globalEnabled:o.value,categoryEnabled:Array.from(i.value.entries()),tooltipHistory:a.value.slice(-10),activeTutorial:r.value,currentStep:u.value,completedTutorials:Array.from(l.value),skippedTutorials:Array.from(v.value),tutorialEnabled:d.value,searchQuery:V.value,selectedCategory:F.value}}function xe(ie){ie&&(o.value=ie.globalEnabled!==void 0?ie.globalEnabled:!0,d.value=ie.tutorialEnabled!==void 0?ie.tutorialEnabled:!0,ie.categoryEnabled&&(i.value.clear(),ie.categoryEnabled.forEach(([M,G])=>{i.value.set(M,G)})),ie.tooltipHistory&&(a.value=ie.tooltipHistory),ie.completedTutorials&&(l.value=new Set(ie.completedTutorials)),ie.skippedTutorials&&(v.value=new Set(ie.skippedTutorials)),V.value=ie.searchQuery||"",F.value=ie.selectedCategory||null)}function ae(){e.value.clear(),t.value=null,n.value=null,o.value=!0,i.value.clear(),a.value=[],r.value=null,u.value=0,l.value.clear(),v.value.clear(),d.value=!0,V.value="",F.value=null,N()}return N(),y(),O(),{activeTooltips:e,hoveredElement:t,clickedElement:n,globalEnabled:o,categoryEnabled:i,tooltipHistory:a,activeTutorial:r,currentStep:u,completedTutorials:l,skippedTutorials:v,tutorialEnabled:d,helpTopics:c,tutorials:_,contextualHelp:T,searchQuery:V,selectedCategory:F,availableHelpTopics:$,availableTutorials:U,currentTutorial:I,currentTutorialStep:g,showTooltip:S,hideTooltip:b,hideAllTooltips:L,toggleTooltipCategory:z,startTutorial:q,nextTutorialStep:P,previousTutorialStep:x,skipTutorial:E,completeTutorial:C,resetTutorial:A,getHelpTopic:D,searchHelp:J,filterByCategory:te,tick:oe,save:Ce,load:xe,reset:ae}});var Xe=(e=>(e.PRODUCTION="production",e.PROGRESSION="progression",e.EXPLORATION="exploration",e.MASTERY="mastery",e.SPEED="speed",e.COLLECTION="collection",e.SPECIAL="special",e.SECRET="secret",e))(Xe||{}),at=(e=>(e.SINGLE="single",e.PROGRESS="progress",e.MILESTONE="milestone",e.CUMULATIVE="cumulative",e.STREAK="streak",e.TIMED="timed",e))(at||{}),Ue=(e=>(e.COMMON="common",e.UNCOMMON="uncommon",e.RARE="rare",e.EPIC="epic",e.LEGENDARY="legendary",e.MYTHIC="mythic",e))(Ue||{}),pt=(e=>(e.GENERAL="general",e.PRODUCTION="production",e.PURCHASES="purchases",e.RESETS="resets",e.SYSTEMS="systems",e.TIME="time",e.EFFICIENCY="efficiency",e.RECORDS="records",e))(pt||{}),ot=(e=>(e.COUNTER="counter",e.MAXIMUM="maximum",e.MINIMUM="minimum",e.AVERAGE="average",e.RATE="rate",e.PERCENTAGE="percentage",e.DURATION="duration",e.COLLECTION="collection",e))(ot||{});const ps=_t("achievements",()=>{const e=W(new Map),t=W(new Map),n=W(new Map),o=W([]),i=W(new Map),a=W(Date.now()),r=W(null),u=W([]),l=W(!0),v=W(5e3),d=W(!0);function c(){const M=[{id:"first_filament",name:"Stellar Genesis",description:"Purchase your first Cosmic Filament",category:Xe.PRODUCTION,type:at.SINGLE,condition:()=>ge().filaments.some(K=>K.owned.gt(0)),unlocked:!1,completed:!1,rarity:Ue.COMMON,reward:{type:"multiplier",target:"stardust_production",value:1.1,description:"+10% Stardust production"}},{id:"milestone_master",name:"Milestone Master",description:"Reach 10 milestones across all filaments",category:Xe.PROGRESSION,type:at.PROGRESS,condition:()=>ge().filaments.reduce((pe,de)=>pe+de.milestone,0)>=10,unlocked:!1,completed:!1,maxProgress:10,rarity:Ue.UNCOMMON,reward:{type:"multiplier",target:"milestone_bonus",value:1.25,description:"+25% milestone bonus effectiveness"}},{id:"first_starburst",name:"Stellar Rebirth",description:"Perform your first Starburst",category:Xe.PROGRESSION,type:at.SINGLE,condition:()=>ge().starburstCount>0,unlocked:!1,completed:!1,rarity:Ue.UNCOMMON,reward:{type:"multiplier",target:"starburst_multiplier",value:1.1,description:"+10% Starburst multiplier effectiveness"}},{id:"starburst_veteran",name:"Starburst Veteran",description:"Perform 10 Starbursts",category:Xe.PROGRESSION,type:at.PROGRESS,condition:()=>ge().starburstCount>=10,unlocked:!1,completed:!1,maxProgress:10,rarity:Ue.RARE,reward:{type:"unlock",target:"starburst_automation",description:"Unlock early Starburst automation"}},{id:"starlight_seeker",name:"Starlight Seeker",description:"Gain your first Starlight",category:Xe.PROGRESSION,type:at.SINGLE,condition:()=>ge().starlight.amount.gt(0),unlocked:!1,completed:!1,rarity:Ue.RARE,reward:{type:"resource",target:"stellar_energy",value:100,description:"Gain 100 Stellar Energy"}},{id:"tier_10_unlock",name:"Cosmic Mastery",description:"Unlock the highest tier Cosmic Filament",category:Xe.MASTERY,type:at.SINGLE,condition:()=>ge().maxUnlockedTier>=9,unlocked:!1,completed:!1,rarity:Ue.EPIC,reward:{type:"multiplier",target:"highest_tier_production",value:2,description:"Double highest tier filament production"}},{id:"evolution_master",name:"Evolution Master",description:"Evolve a filament to maximum stage",category:Xe.MASTERY,type:at.SINGLE,condition:()=>ge().filaments.some(K=>K.evolution>=3),unlocked:!1,completed:!1,rarity:Ue.RARE,reward:{type:"multiplier",target:"evolution_effectiveness",value:1.2,description:"+20% evolution bonus effectiveness"}},{id:"speed_runner",name:"Speed Runner",description:"Reach 1st Starburst in under 5 minutes",category:Xe.SPEED,type:at.TIMED,condition:()=>{const G=ge(),K=(Date.now()-a.value)/1e3;return G.starburstCount>0&&K<300},unlocked:!1,completed:!1,rarity:Ue.EPIC,reward:{type:"multiplier",target:"early_game_speed",value:1.5,description:"+50% production for first hour"}},{id:"constellation_explorer",name:"Constellation Explorer",description:"Discover 5 different constellations",category:Xe.EXPLORATION,type:at.PROGRESS,condition:()=>!1,unlocked:!1,completed:!1,maxProgress:5,rarity:Ue.UNCOMMON,reward:{type:"resource",target:"star_rail",value:5,description:"Gain 5 Star Rails"}},{id:"nebula_pattern_collector",name:"Pattern Collector",description:"Discover 10 different Nebula patterns",category:Xe.COLLECTION,type:at.PROGRESS,condition:()=>!1,unlocked:!1,completed:!1,maxProgress:10,rarity:Ue.RARE,reward:{type:"unlock",target:"advanced_patterns",description:"Unlock advanced pattern combinations"}},{id:"secret_harmony",name:"Cosmic Harmony",description:"Achieve perfect balance across all systems",category:Xe.SECRET,type:at.SINGLE,condition:()=>!1,hidden:!0,unlocked:!1,completed:!1,rarity:Ue.MYTHIC,reward:{type:"multiplier",target:"global_production",value:3,description:"Triple all production permanently"}}];e.value.clear(),M.forEach(G=>{e.value.set(G.id,G),G.type===at.PROGRESS&&n.value.set(G.id,{achievementId:G.id,current:0,target:G.maxProgress||100,percentage:0,lastUpdate:Date.now()})})}function _(){const M=[{id:"total_time_played",name:"Total Time Played",description:"Total time spent playing the game",category:pt.TIME,value:0,type:ot.DURATION,format:"time",isVisible:!0},{id:"total_stardust_earned",name:"Total Stardust Earned",description:"Cumulative Stardust earned across all resets",category:pt.PRODUCTION,value:0,type:ot.COUNTER,format:"currency",isVisible:!0},{id:"total_clicks",name:"Total Clicks",description:"Total number of button clicks",category:pt.GENERAL,value:0,type:ot.COUNTER,format:"number",isVisible:!0},{id:"highest_stardust_production",name:"Highest Stardust/sec",description:"Peak Stardust production rate achieved",category:pt.PRODUCTION,value:0,type:ot.MAXIMUM,format:"currency",isVisible:!0},{id:"average_production_rate",name:"Average Production Rate",description:"Average Stardust production over time",category:pt.PRODUCTION,value:0,type:ot.AVERAGE,format:"currency",isVisible:!0},{id:"total_filament_purchases",name:"Total Filament Purchases",description:"Total number of Cosmic Filaments purchased",category:pt.PURCHASES,value:0,type:ot.COUNTER,format:"number",isVisible:!0},{id:"most_expensive_purchase",name:"Most Expensive Purchase",description:"Highest cost item ever purchased",category:pt.PURCHASES,value:0,type:ot.MAXIMUM,format:"currency",isVisible:!0},{id:"total_starbursts",name:"Total Starbursts",description:"Number of Starbursts performed",category:pt.RESETS,value:0,type:ot.COUNTER,format:"number",isVisible:!0},{id:"fastest_starburst",name:"Fastest Starburst",description:"Shortest time to reach Starburst",category:pt.RESETS,value:1/0,type:ot.MINIMUM,format:"time",isVisible:!0},{id:"constellations_discovered",name:"Constellations Discovered",description:"Number of unique constellations found",category:pt.SYSTEMS,value:0,type:ot.COUNTER,format:"number",isVisible:!0},{id:"nebula_patterns_found",name:"Nebula Patterns Found",description:"Number of unique Nebula patterns discovered",category:pt.SYSTEMS,value:0,type:ot.COUNTER,format:"number",isVisible:!0},{id:"stardust_per_click",name:"Stardust per Click",description:"Average Stardust gained per interaction",category:pt.EFFICIENCY,value:0,type:ot.AVERAGE,format:"currency",precision:2,isVisible:!0},{id:"achievement_completion_rate",name:"Achievement Rate",description:"Percentage of achievements completed",category:pt.GENERAL,value:0,type:ot.PERCENTAGE,format:"percentage",precision:1,isVisible:!0}];t.value.clear(),M.forEach(G=>{t.value.set(G.id,G)})}function T(){const M=[{category:"stardust_earned",current:0,milestones:[1e3,1e6,1e9,1e12,1e15,1e18,1e21,1e24,1e27,1e30],completedMilestones:[]},{category:"starbursts_performed",current:0,milestones:[1,5,10,25,50,100,250,500,1e3],completedMilestones:[]},{category:"filaments_purchased",current:0,milestones:[10,50,100,500,1e3,5e3,1e4,5e4],completedMilestones:[]},{category:"time_played",current:0,milestones:[300,1800,3600,10800,21600,86400,604800],completedMilestones:[]}];i.value.clear(),M.forEach(G=>{i.value.set(G.category,G)})}const V=Z(()=>e.value.size),F=Z(()=>Array.from(e.value.values()).filter(M=>M.completed)),N=Z(()=>Array.from(e.value.values()).filter(M=>M.unlocked&&!M.completed&&!M.hidden)),y=Z(()=>Array.from(e.value.values()).filter(M=>M.hidden&&!M.unlocked)),O=Z(()=>{const M={};return Object.values(Xe).forEach(G=>{M[G]=Array.from(e.value.values()).filter(K=>K.category===G&&(!K.hidden||K.unlocked))}),M}),$=Z(()=>{const M=V.value,G=F.value.length;return M>0?Math.round(G/M*100):0}),U=Z(()=>o.value.filter(M=>!M.dismissed).slice(-5));function I(){for(const M of e.value.values())if(!M.completed){if(!M.condition||typeof M.condition!="function"){console.warn(`Achievement ${M.id} has no condition function`);continue}!M.unlocked&&M.condition()&&g(M.id),M.unlocked&&!M.completed&&(M.type===at.PROGRESS?b(M.id):M.condition()&&S(M.id))}}function g(M){const G=e.value.get(M);!G||G.unlocked||(G.unlocked=!0,G.condition()&&S(M))}function S(M){const G=e.value.get(M);!G||G.completed||(G.completed=!0,G.completedAt=Date.now(),G.reward&&L(G.reward),l.value&&z(G),x("achievement_completion_rate",$.value))}function b(M){const G=e.value.get(M),K=n.value.get(M);!G||!K||(K.lastUpdate=Date.now(),K.percentage=K.current/K.target*100,K.current>=K.target&&S(M))}function L(M){console.log("Applied achievement reward:",M)}function z(M){const G={achievement:M,timestamp:Date.now(),dismissed:!1};o.value.push(G),setTimeout(()=>{q(G)},v.value)}function q(M){M.dismissed=!0,setTimeout(()=>{const G=o.value.findIndex(K=>K.timestamp===M.timestamp);G!==-1&&o.value.splice(G,1)},500)}function P(){o.value.forEach(M=>M.dismissed=!0),setTimeout(()=>{o.value=[]},500)}function x(M,G){const K=t.value.get(M);if(K)switch(K.type){case ot.COUNTER:K.value=K.value+G;break;case ot.MAXIMUM:K.value=Math.max(K.value,G);break;case ot.MINIMUM:K.value=Math.min(K.value,G);break;case ot.AVERAGE:const pe=K.value,de=G;K.value=(pe+de)/2;break;default:K.value=G}}function E(M,G=1){x(M,G)}function C(M,G){const K=i.value.get(M);if(K){K.current=G;for(const pe of K.milestones)if(G>=pe&&!K.completedMilestones.includes(pe)){K.completedMilestones.push(pe);const de={id:`milestone_${M}_${pe}`,name:`${M} Milestone`,description:`Reach ${pe} ${M}`,category:Xe.PROGRESSION,type:at.MILESTONE,condition:()=>G>=pe,unlocked:!0,completed:!0,completedAt:Date.now(),rarity:Ue.COMMON};e.value.set(de.id,de),l.value&&z(de)}K.nextMilestone=K.milestones.find(pe=>pe>G)}}function A(M,G,K){E("total_filament_purchases",K),x("most_expensive_purchase",G),E("total_clicks",1),C("filaments_purchased",Array.from(t.value.values()).find(pe=>pe.id==="total_filament_purchases")?.value||0)}function D(M){x("total_stardust_earned",M),C("stardust_earned",Array.from(t.value.values()).find(G=>G.id==="total_stardust_earned")?.value||0)}function J(){E("total_starbursts",1);const M=(Date.now()-a.value)/1e3;x("fastest_starburst",M),C("starbursts_performed",Array.from(t.value.values()).find(G=>G.id==="total_starbursts")?.value||0)}function te(M){x("highest_stardust_production",M),x("average_production_rate",M)}function se(){const M={timestamp:Date.now(),statistics:{},achievements:{total:V.value,completed:F.value.length,byCategory:{},byRarity:{}}};for(const[G,K]of t.value)M.statistics[G]=K.value;return Object.values(Xe).forEach(G=>{M.achievements.byCategory[G]=O.value[G]?.length||0}),Object.values(Ue).forEach(G=>{M.achievements.byRarity[G]=F.value.filter(K=>K.rarity===G).length}),M}function oe(){const M=se();r.value=M,u.value.push(M),u.value.length>100&&(u.value=u.value.slice(-50))}function Ce(){I();const M=Date.now(),G=(M-a.value)/1e3;x("total_time_played",G),C("time_played",G),(!r.value||M-r.value.timestamp>6e4)&&oe()}function xe(){return{achievements:Array.from(e.value.entries()),statistics:Array.from(t.value.entries()),achievementProgress:Array.from(n.value.entries()),notifications:o.value.slice(-20),milestoneTrackers:Array.from(i.value.entries()),sessionStart:a.value,lastSnapshot:r.value,snapshotHistory:u.value.slice(-10),showNotifications:l.value,notificationDuration:v.value,trackDetailedStats:d.value}}function ae(M){M&&(c(),M.achievements&&new Map(M.achievements).forEach((K,pe)=>{const de=e.value.get(pe);de&&K&&(de.unlocked=K.unlocked||!1,de.completed=K.completed||!1)}),M.statistics&&(t.value=new Map(M.statistics)),M.achievementProgress&&(n.value=new Map(M.achievementProgress)),M.notifications&&(o.value=M.notifications),M.milestoneTrackers&&(i.value=new Map(M.milestoneTrackers)),a.value=M.sessionStart||Date.now(),r.value=M.lastSnapshot||null,u.value=M.snapshotHistory||[],l.value=M.showNotifications!==void 0?M.showNotifications:!0,v.value=M.notificationDuration||5e3,d.value=M.trackDetailedStats!==void 0?M.trackDetailedStats:!0)}function ie(){e.value.clear(),t.value.clear(),n.value.clear(),o.value=[],i.value.clear(),a.value=Date.now(),r.value=null,u.value=[],c(),_(),T()}return c(),_(),T(),{achievements:e,statistics:t,achievementProgress:n,notifications:o,milestoneTrackers:i,sessionStart:a,lastSnapshot:r,snapshotHistory:u,showNotifications:l,notificationDuration:v,trackDetailedStats:d,totalAchievements:V,completedAchievements:F,availableAchievements:N,hiddenAchievements:y,achievementsByCategory:O,completionPercentage:$,recentNotifications:U,checkAchievements:I,unlockAchievement:g,completeAchievement:S,updateProgressAchievement:b,showAchievementNotification:z,dismissNotification:q,dismissAllNotifications:P,updateStatistic:x,incrementStatistic:E,recordMilestone:C,trackFilamentPurchase:A,trackStardustEarned:D,trackStarburst:J,trackProductionRate:te,createSnapshot:se,saveSnapshot:oe,tick:Ce,save:xe,load:ae,reset:ie}}),ge=_t("game",()=>{const e=W({amount:Be,production:Ee,multiplier:Ee}),t=W({amount:Be,production:Be,multiplier:Ee}),n=W(0),o=W(0),i=W(0),a=W(0),r=W(0),u=W(0),l=[{name:"Orion Filament",baseCost:R(10),costFactor:1.8,productionMultiplier:1.5},{name:"Eagle Filament",baseCost:R(100),costFactor:1.85,productionMultiplier:1.55},{name:"Crab Filament",baseCost:R("1e4"),costFactor:1.9,productionMultiplier:1.6},{name:"Horsehead Filament",baseCost:R("1e6"),costFactor:1.95,productionMultiplier:1.65},{name:"Trifid Filament",baseCost:R("1e9"),costFactor:2,productionMultiplier:1.7},{name:"Planetary Filament",baseCost:R("1e13"),costFactor:2.1,productionMultiplier:1.75},{name:"Butterfly Filament",baseCost:R("1e18"),costFactor:2.2,productionMultiplier:1.8},{name:"Reflection Filament",baseCost:R("1e24"),costFactor:2.25,productionMultiplier:1.85},{name:"Dark Filament",baseCost:R("1e31"),costFactor:2.3,productionMultiplier:1.9},{name:"Remnant Filament",baseCost:R("1e40"),costFactor:2.4,productionMultiplier:2}],v=W(l.map((ae,ie)=>({id:ie+1,name:ae.name,baseCost:ae.baseCost,costFactor:ae.costFactor,baseProduction:R(ae.productionMultiplier),productionMultiplier:ae.productionMultiplier,purchased:Be,owned:Be,milestone:0,evolution:0}))),d=W(Date.now()),c=W(0),_=W(0);function T(){try{return Xs()}catch{return null}}function V(){try{return Os()}catch{return null}}function F(){try{return Ls()}catch{return null}}function N(){try{return Yo()}catch{return null}}function y(){try{return br()}catch{return null}}function O(){try{return Wo()}catch{return null}}function $(){try{return _r()}catch{return null}}function U(){try{return Sr()}catch{return null}}function I(){try{return Ko()}catch{return null}}function g(){try{return Xo()}catch{return null}}function S(){try{return Qo()}catch{return null}}function b(){try{return ps()}catch{return null}}const L=Z(()=>{let ae=e.value.production;const ie=v.value[0];if(ie.purchased.gt(0)){const B=$()?.getFilamentEvolutionEffects(0)||{productionExponent:Ee,uniqueAbility:null};let j=ie.baseProduction.mul(ie.owned);j=j.pow(B.productionExponent);const X=R(2).pow(Math.floor(ie.purchased.toNumber()/10));let Y=Ee;B.uniqueAbility?.includes("Orion's Light")&&(Y=R(5)),j=j.mul(ie.purchased),ae=ae.add(j.mul(X).mul(Y))}const M=$();if(M&&v.value[9]?.evolution>=3&&M.getFilamentEvolutionEffects(9).uniqueAbility?.includes("Remnant Supremacy")&&(ae=ae.pow(1.2)),ae=ae.mul(e.value.multiplier),r.value>0){let h=Ee;if(r.value<=4)h=R(2).pow(r.value);else if(r.value<=8){const X=R(2).pow(4),Y=R(3).pow(r.value-4);h=X.mul(Y)}else{const X=R(2).pow(4),Y=R(3).pow(4),H=R(3).pow(r.value-8);h=X.mul(Y).mul(H)}const B=R(1.1).pow(t.value.amount);h=h.mul(B);const j=y();if(j&&(j.hasUpgrade("time_resonance")&&(h=h.mul(5)),j.hasUpgrade("constellation_resonance"))){const X=V();if(X&&X.activeConstellations.length>0){const Y=R(2).pow(r.value);h=h.mul(Y)}}ae=ae.mul(h)}const G=T();G&&(ae=ae.mul(G.currentBonus.stardustMultiplier));const K=V();K&&(ae=ae.mul(K.totalProductionBonus));const pe=y();if(pe){const h=pe.getUpgradeBonus("production");ae=ae.mul(h.multiplier),ae=ae.pow(h.exponent)}const de=O();de&&de.unlocked&&(ae=ae.mul(de.starEchoBonus.totalBonus));const Pe=I();Pe&&Pe.unlocked&&(ae=ae.mul(Pe.getEventEffectMultiplier("production")),ae=ae.mul(Pe.globalEventMultiplier));const p=F();return p&&(ae=ae.mul(p.totalBonus.production),ae=ae.mul(p.totalBonus.multiplier)),ae}),z=Z(()=>{if(r.value===0){const ae=v.value[3].purchased.gt(0),ie=e.value.amount.gte("1e20");return ae||ie}if(r.value>=1&&r.value<=3){const ae=P();if(ae>=0)return v.value[ae].purchased.gte(25)}if(r.value>=4&&r.value<=7){const ae=P();if(ae>=0){const ie=50+(r.value-4)*25;return v.value[ae].purchased.gte(ie)}}if(r.value>=8){const ae=50+5*(r.value-8);return v.value[9].purchased.gte(ae)}return!1}),q=Z(()=>Math.min(9,3+r.value));function P(){for(let ae=q.value;ae>=0;ae--)if(v.value[ae].purchased.gt(0))return ae;return 0}const x=Z(()=>e.value.amount.gte("1e100"));function E(ae){for(let ie=9;ie>=1;ie--){const M=v.value[ie],G=v.value[ie-1];if(M.purchased.gt(0)){const pe=$()?.getFilamentEvolutionEffects(ie)||{productionExponent:Ee,hierarchySynergyMultiplier:Ee,uniqueAbility:null};let de=M.baseProduction.mul(M.owned);de=de.pow(pe.productionExponent);const Pe=R(2).pow(Math.floor(M.purchased.toNumber()/10));if(de=de.mul(Pe),de=de.mul(M.purchased),ie>0&&v.value[ie-1].owned.gt(0)){const H=v.value[ie-1].owned.pow(.5).mul(M.owned.pow(.3)).mul(pe.hierarchySynergyMultiplier);de=de.mul(H)}if(pe.uniqueAbility&&ie===1&&pe.uniqueAbility.includes("Eagle's Swiftness")&&(de=de.mul(2)),de=de.mul(e.value.multiplier),r.value>0){let H=Ee;if(r.value<=4)H=R(2).pow(r.value);else if(r.value<=8){const re=R(2).pow(4),le=R(3).pow(r.value-4);H=re.mul(le)}else{const re=R(2).pow(4),le=R(3).pow(4),be=R(3).pow(r.value-8);H=re.mul(le).mul(be)}const Q=R(1.1).pow(t.value.amount);H=H.mul(Q),de=de.mul(H)}const p=T();p&&(de=de.mul(p.currentBonus.stardustMultiplier));const h=V();h&&(de=de.mul(h.totalProductionBonus));const B=y();if(B){const H=B.getUpgradeBonus("production");de=de.mul(H.multiplier),de=de.pow(H.exponent)}const j=O();j&&j.unlocked&&(de=de.mul(j.starEchoBonus.totalBonus));const X=I();X&&X.unlocked&&(de=de.mul(X.getEventEffectMultiplier("production")),de=de.mul(X.globalEventMultiplier));const Y=de.mul(ae);G.owned=G.owned.add(Y)}}}function C(ae){E(ae);const ie=L.value.mul(ae);e.value.amount=e.value.amount.add(ie),c.value+=ae,_.value+=ae;const M=b();M&&(M.trackStardustEarned(ie.toNumber()),M.trackProductionRate(L.value.toNumber()));const G=N();G&&G.tick();const K=V();K&&K.tick();const pe=y();pe&&pe.tick();const de=O();de&&de.tick();const Pe=$();Pe&&Pe.tick();const p=U();p&&p.tick();const h=F();h&&h.checkExpansion()}function A(ae){const ie=v.value[ae],G=$()?.getFilamentEvolutionEffects(ae)||{costFactorReduction:R(0),uniqueAbility:null};let K=R(ie.costFactor).sub(G.costFactorReduction);G.uniqueAbility?.includes("Crab's Tenacity")&&(K=K.pow(.8));const pe=V();pe&&pe.activeConstellations.includes(ee.ARIES)&&(K=K.sub(.2));const de=R(Math.floor(ie.purchased.toNumber()));let Pe=ie.baseCost.mul(K.pow(de));const p=F();p&&(Pe=Pe.pow(p.totalBonus.costExponent)),pe&&(Pe=Pe.mul(pe.getCostMultiplier("filament")));const h=I();return h&&h.unlocked&&(Pe=Pe.mul(h.getEventCostMultiplier("filament"))),Pe}function D(ae){return e.value.amount.gte(A(ae))}function J(ae,ie=1){const M=v.value[ae];let G=0,K=Be;for(let pe=0;pe<ie;pe++){const de=A(ae);if(e.value.amount.gte(de))e.value.amount=e.value.amount.sub(de),K=K.add(de),M.purchased=M.purchased.add(1),M.owned=M.owned.add(1),G++,M.milestone=Math.floor(M.purchased.toNumber()/10);else break}if(K.gt(0)){const pe=K.mul(1e-4);o.value+=pe.toNumber()}if(G>0){const pe=b();pe&&pe.trackFilamentPurchase(ae,K.toNumber(),G)}return G}function te(){if(!x.value)return;const ae=N();ae&&ae.unlocked&&ae.applyPreservation();let ie=Ee;const M=F();M&&(ie=ie.mul(M.totalBonus.starlightGain)),t.value.amount=t.value.amount.add(ie),u.value++,e.value.amount=Be,r.value=0,v.value.forEach(G=>{G.purchased=Be,G.owned=Be,G.milestone=0,G.evolution=0})}function se(){if(!z.value)return;if(r.value++,x.value){const pe=Math.max(1,Math.floor(Math.pow(.1,.5)));n.value+=pe;const de=V();de&&(de.starRails+=pe)}(y()?.hasUpgrade("dimensional_anchor")||!1)&&r.value%3===0||(e.value.amount=Be,v.value.forEach(K=>{K.purchased=Be,K.owned=Be}));const G=b();G&&G.trackStarburst()}function oe(){const ae={version:1,stardust:{amount:e.value.amount.toString(),multiplier:e.value.multiplier.toString()},starlight:{amount:t.value.amount.toString(),multiplier:t.value.multiplier.toString()},starRail:n.value,nebularEssence:o.value,stellarEnergy:i.value,cosmicFragment:a.value,starburstCount:r.value,starlightResetCount:u.value,filaments:v.value.map(Y=>({purchased:Y.purchased.toString(),owned:Y.owned.toString(),milestone:Y.milestone,evolution:Y.evolution})),totalTimePlayed:c.value,lastSave:Date.now()},ie=N();ie&&(ae.memory=ie.save());const M=y();M&&(ae.upgrades=M.save());const G=O();G&&(ae.starecho=G.save());const K=$();K&&(ae.evolution=K.save());const pe=U();pe&&(ae.automation=pe.save());const de=V();de&&(ae.railroad=de.save());const Pe=F();Pe&&(ae.nebula=Pe.save());const p=T();p&&(ae.pulsation=p.save());const h=g();h&&(ae.condensation=h.save());const B=S();B&&(ae.tooltips=B.save());const j=b();j&&(ae.achievements=j.save());const X=btoa(JSON.stringify(ae));return localStorage.setItem("aetherSave",X),X}function Ce(ae){const ie=ae||localStorage.getItem("aetherSave");if(!ie)return!1;try{const M=JSON.parse(atob(ie));e.value.amount=R(M.stardust.amount),e.value.multiplier=R(M.stardust.multiplier||1),t.value.amount=R(M.starlight.amount),t.value.multiplier=R(M.starlight.multiplier||1),n.value=M.starRail||0,o.value=M.nebularEssence||0,i.value=M.stellarEnergy||0,a.value=M.cosmicFragment||0,r.value=M.starburstCount||0,u.value=M.starlightResetCount||0,M.filaments?.forEach((H,Q)=>{v.value[Q]&&(v.value[Q].purchased=R(H.purchased||H.owned||0),v.value[Q].owned=R(H.owned||0),v.value[Q].milestone=H.milestone||0,v.value[Q].evolution=H.evolution||0)}),c.value=M.totalTimePlayed||0,d.value=M.lastSave||Date.now();const G=N();G&&M.memory&&G.load(M.memory);const K=y();K&&M.upgrades&&K.load(M.upgrades);const pe=O();pe&&M.starecho&&pe.load(M.starecho);const de=$();de&&M.evolution&&de.load(M.evolution);const Pe=U();Pe&&M.automation&&Pe.load(M.automation);const p=V();p&&M.railroad&&p.load(M.railroad);const h=F();h&&M.nebula&&h.load(M.nebula);const B=T();B&&M.pulsation&&B.load(M.pulsation);const j=g();j&&M.condensation&&j.load(M.condensation);const X=S();X&&M.tooltips&&X.load(M.tooltips);const Y=b();return Y&&M.achievements&&Y.load(M.achievements),e.value.amount.lt(0)||t.value.amount.lt(0)?(console.error("Invalid resource amounts detected after load"),!1):(v.value.forEach(H=>{(!H.owned||typeof H.owned.toNumber!="function")&&(H.owned=Be)}),!0)}catch(M){return console.error("Failed to load save:",M),!1}}function xe(){e.value={amount:Be,production:Ee,multiplier:Ee},t.value={amount:Be,production:Be,multiplier:Ee},n.value=0,o.value=0,i.value=0,a.value=0,r.value=0,u.value=0,v.value.forEach(ae=>{ae.purchased=Be,ae.owned=Be,ae.milestone=0,ae.evolution=0}),c.value=0,_.value=0,d.value=Date.now(),localStorage.removeItem("aetherSave")}return{stardust:e,starlight:t,starRail:n,nebularEssence:o,stellarEnergy:i,cosmicFragment:a,starburstCount:r,starlightResetCount:u,filaments:v,totalTimePlayed:c,currentSessionTime:_,totalStardustProduction:L,canStarburst:z,canGetStarlight:x,maxUnlockedTier:q,tick:C,getFilamentCost:A,canBuyFilament:D,buyFilament:J,performStarburst:se,performStarlightReset:te,save:oe,load:Ce,reset:xe}});class Cc{deviceInfo;performanceMetrics;mobileSettings;observers=new Map;performanceMonitorId=null;constructor(){try{this.deviceInfo=this.detectDevice(),this.performanceMetrics={fps:60,memoryUsage:0,isLowPerformance:!1,shouldReduceEffects:!1,lastMeasurement:Date.now()},this.mobileSettings=this.getOptimalSettings(),typeof window<"u"&&setTimeout(()=>{this.initPerformanceMonitoring()},100)}catch(t){console.error("MobileOptimizer initialization error:",t),this.deviceInfo={isMobile:!1,isTablet:!1,isDesktop:!0,isLowEndDevice:!1,supportsTouchEvents:!1,pixelRatio:1,screenSize:"large",platform:"desktop",connectionType:"unknown"},this.performanceMetrics={fps:60,memoryUsage:0,isLowPerformance:!1,shouldReduceEffects:!1,lastMeasurement:Date.now()},this.mobileSettings={particlesEnabled:!0,backgroundEffectsEnabled:!0,animationsEnabled:!0,complexShadowsEnabled:!0,autoSaveFrequency:3e4,maxVisibleElements:200,reducedMotion:!1}}}detectDevice(){try{const t=navigator.userAgent.toLowerCase(),n=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t),o=/ipad|tablet|kindle/i.test(t)||n&&window.innerWidth>768,i=!n&&!o,a=this.detectLowEndDevice(),r="ontouchstart"in window||(navigator.maxTouchPoints||0)>0,u=window.devicePixelRatio||1,l=this.getScreenSize(),v=this.detectPlatform(t),d=this.detectConnectionType();return{isMobile:n,isTablet:o,isDesktop:i,isLowEndDevice:a,supportsTouchEvents:r,pixelRatio:u,screenSize:l,platform:v,connectionType:d}}catch(t){return console.error("Device detection error:",t),{isMobile:!1,isTablet:!1,isDesktop:!0,isLowEndDevice:!1,supportsTouchEvents:!1,pixelRatio:1,screenSize:"large",platform:"desktop",connectionType:"unknown"}}}detectLowEndDevice(){if((navigator.hardwareConcurrency||1)<=2)return!0;const n=navigator.deviceMemory;if(n&&n<=2)return!0;const o=navigator.userAgent.toLowerCase();return["android.*[24]\\.","android.*sm-j","android.*sm-a[01]","android.*lgl","mobile.*safari.*version/[89]"].some(a=>new RegExp(a).test(o))}getScreenSize(){const t=window.innerWidth;return t<768?"small":t<1200?"medium":"large"}detectPlatform(t){return/iphone|ipad|ipod/i.test(t)?"ios":/android/i.test(t)?"android":this.deviceInfo?.isMobile?"unknown":"desktop"}detectConnectionType(){const t=navigator.connection;if(!t)return"unknown";const n=["slow-2g","2g","3g"],o=t.effectiveType;return n.includes(o)?"slow":o==="4g"||t.downlink>1.5?"fast":"unknown"}getOptimalSettings(){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=this.deviceInfo.isLowEndDevice,o=this.deviceInfo.isMobile,i=this.deviceInfo.connectionType==="slow";return{particlesEnabled:!n&&!o&&!t,backgroundEffectsEnabled:!n&&!t,animationsEnabled:!t,complexShadowsEnabled:!n&&!o,autoSaveFrequency:i?6e4:3e4,maxVisibleElements:n?50:o?100:200,reducedMotion:t||n}}initPerformanceMonitoring(){this.deviceInfo.isDesktop&&!this.deviceInfo.isLowEndDevice?this.startAdvancedMonitoring():this.startLightweightMonitoring();const t=window.matchMedia("(prefers-reduced-motion: reduce)");t.addEventListener("change",()=>{this.mobileSettings.reducedMotion=t.matches,this.notifyObservers()})}startAdvancedMonitoring(){let t=0,n=performance.now();const o=i=>{if(t++,i-n>=1e3){const a=Math.round(t*1e3/(i-n));t=0,n=i,this.updatePerformanceMetrics(a)}this.performanceMonitorId=requestAnimationFrame(o)};this.performanceMonitorId=requestAnimationFrame(o)}startLightweightMonitoring(){setInterval(()=>{const t=performance.memory,n=t?t.usedJSHeapSize/t.jsHeapSizeLimit:0;this.performanceMetrics.memoryUsage=n,this.performanceMetrics.isLowPerformance=n>.8,this.performanceMetrics.lastMeasurement=Date.now(),this.notifyObservers()},5e3)}updatePerformanceMetrics(t){const n=performance.memory,o=n?n.usedJSHeapSize/n.jsHeapSizeLimit:0;this.performanceMetrics={fps:t,memoryUsage:o,isLowPerformance:t<45||o>.8,shouldReduceEffects:t<30||o>.9,lastMeasurement:Date.now()},this.performanceMetrics.shouldReduceEffects&&this.applyPerformanceReductions(),this.notifyObservers()}applyPerformanceReductions(){this.performanceMetrics.fps<20?(this.mobileSettings.particlesEnabled=!1,this.mobileSettings.backgroundEffectsEnabled=!1,this.mobileSettings.complexShadowsEnabled=!1):this.performanceMetrics.fps<30&&(this.mobileSettings.particlesEnabled=!1,this.mobileSettings.backgroundEffectsEnabled=!1)}notifyObservers(){this.observers.forEach(t=>{try{t(this.performanceMetrics)}catch(n){console.warn("Error in performance observer callback:",n)}})}getDeviceInfo(){return{...this.deviceInfo}}getPerformanceMetrics(){return{...this.performanceMetrics}}getMobileSettings(){return{...this.mobileSettings}}updateSettings(t){this.mobileSettings={...this.mobileSettings,...t}}observePerformance(t,n){this.observers.set(t,n)}unobservePerformance(t){this.observers.delete(t)}shouldUseReducedEffects(){return this.mobileSettings.reducedMotion||this.deviceInfo.isLowEndDevice||this.performanceMetrics.shouldReduceEffects}shouldDisableParticles(){return!this.mobileSettings.particlesEnabled||this.deviceInfo.isMobile||this.performanceMetrics.isLowPerformance}shouldReduceAnimations(){return this.mobileSettings.reducedMotion||this.performanceMetrics.fps<45}getOptimalUpdateFrequency(){return this.deviceInfo.isLowEndDevice?500:this.deviceInfo.isMobile?200:this.performanceMetrics.fps<30?100:16}cleanup(){this.performanceMonitorId&&(cancelAnimationFrame(this.performanceMonitorId),this.performanceMonitorId=null),this.observers.clear()}}const Je=new Cc,Cr=_t("gameLoop",()=>{const e=ge(),t=Xs(),n=Yo(),o=Ko(),i=Xo(),a=Qo(),r=ps(),u=W(!1),l=W(Date.now()),v=W(0),d=W(0),c=W(Date.now()),_=W(16),T=W(!0);let V=null,F=null,N=null,y=Date.now();const O=Je.getDeviceInfo(),$=O.isMobile||O.isTablet,U=O.isLowEndDevice;function I(){const C=Date.now(),A=Math.min((C-l.value)/1e3,.1);l.value=C,e.tick(A),(!U||d.value%2===0)&&t.tick(A),(!$||d.value%3===0)&&n.tick(),o.tick(A),d.value%2===0&&i.tick(),(!$||d.value%5===0)&&a.tick(),r.tick(),d.value++,C-c.value>=1e3&&(v.value=d.value,d.value=0,c.value=C,T.value&&C-y>5e3&&(S(),y=C)),u.value&&g()}function g(){$&&_.value>16?N=window.setTimeout(I,_.value):V=requestAnimationFrame(I)}function S(){const C=Je.getPerformanceMetrics(),A=Je.getOptimalUpdateFrequency();C.fps<30&&_.value<200?_.value=Math.min(_.value+16,200):C.fps>45&&_.value>16&&(_.value=Math.max(_.value-8,A)),(C.fps<15||C.memoryUsage>.9)&&b()}function b(){_.value=500,Je.updateSettings({particlesEnabled:!1,backgroundEffectsEnabled:!1,complexShadowsEnabled:!1,animationsEnabled:!1}),console.warn("Emergency performance mode activated")}function L(){if(u.value)return;u.value=!0,l.value=Date.now(),_.value=Je.getOptimalUpdateFrequency(),I();const C=Je.getMobileSettings();F=window.setInterval(()=>{e.save()},C.autoSaveFrequency),Je.observePerformance("gameLoop",A=>{T.value&&A.isLowPerformance&&S()})}function z(){u.value=!1,V!==null&&(cancelAnimationFrame(V),V=null),N!==null&&(clearTimeout(N),N=null),F!==null&&(clearInterval(F),F=null),Je.unobservePerformance("gameLoop")}function q(){z(),v.value=0,d.value=0,l.value=Date.now(),c.value=Date.now(),_.value=Je.getOptimalUpdateFrequency(),T.value=!0}function P(C){_.value=Math.max(16,Math.min(1e3,C)),T.value=!1}function x(){T.value=!0,_.value=Je.getOptimalUpdateFrequency()}function E(){return{fps:v.value,updateFrequency:_.value,adaptiveMode:T.value,isMobile:$,isLowEnd:U,performanceMetrics:Je.getPerformanceMetrics()}}return kt(async()=>{try{e.load()||console.warn("Failed to load save data, starting fresh"),await Cn()}catch(C){console.error("Error loading save data:",C),console.warn("Starting with fresh game state")}L()}),It(()=>{z()}),{isRunning:u,fps:v,currentUpdateFrequency:_,adaptiveMode:T,start:L,stop:z,reset:q,setUpdateFrequency:P,enableAdaptiveMode:x,getPerformanceInfo:E}});function Jo(){const e=W(new Map),t=W(),n=W(!1);kt(()=>{const N=window.matchMedia("(prefers-reduced-motion: reduce)");n.value=N.matches,N.addEventListener("change",y=>{n.value=y.matches})}),It(()=>{t.value&&cancelAnimationFrame(t.value),e.value.clear()});const o={fadeIn:{duration:300,easing:"ease-out"},fadeOut:{duration:300,easing:"ease-in"},slideIn:{duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"},slideOut:{duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"},scaleIn:{duration:300,easing:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},scaleOut:{duration:200,easing:"ease-in"},bounce:{duration:600,easing:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},shake:{duration:500,easing:"ease-in-out"},glow:{duration:1e3,easing:"ease-in-out",loop:!0,direction:"alternate"},pulse:{duration:2e3,easing:"ease-in-out",loop:!0,direction:"alternate"},spin:{duration:1e3,easing:"linear",loop:!0},flip:{duration:600,easing:"ease-in-out"},zoom:{duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"},highlight:{duration:800,easing:"ease-out"},success:{duration:500,easing:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},error:{duration:400,easing:"ease-out"},purchase:{duration:300,easing:"ease-out"},starburst:{duration:1e3,easing:"ease-out"}};function i(N,y,O={}){return new Promise($=>{if(n.value){$();return}const U=typeof N=="string"?document.querySelector(N):N;if(!U){$();return}const g={...o[y],...O},S=`effect-${Date.now()}-${Math.random()}`,b={id:S,type:y,element:U,duration:g.duration||300,delay:g.delay||0,easing:g.easing||"ease",onComplete:()=>{e.value.delete(S),$()}};e.value.set(S,b),a(U,y,g,b.onComplete)})}function a(N,y,O,$){const U=r(y),I={duration:O.duration,delay:O.delay||0,easing:O.easing||"ease",fill:O.fillMode||"both",iterations:O.loop?1/0:1,direction:O.direction||"normal"},g=N.animate(U,I);return g.addEventListener("finish",()=>{O.loop||$()}),g}function r(N){switch(N){case"fadeIn":return[{opacity:0},{opacity:1}];case"fadeOut":return[{opacity:1},{opacity:0}];case"slideIn":return[{transform:"translateX(-100%)",opacity:0},{transform:"translateX(0)",opacity:1}];case"slideOut":return[{transform:"translateX(0)",opacity:1},{transform:"translateX(100%)",opacity:0}];case"scaleIn":return[{transform:"scale(0)",opacity:0},{transform:"scale(1)",opacity:1}];case"scaleOut":return[{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}];case"bounce":return[{transform:"translateY(0)"},{transform:"translateY(-20px)"},{transform:"translateY(0)"},{transform:"translateY(-10px)"},{transform:"translateY(0)"}];case"shake":return[{transform:"translateX(0)"},{transform:"translateX(-10px)"},{transform:"translateX(10px)"},{transform:"translateX(-10px)"},{transform:"translateX(10px)"},{transform:"translateX(0)"}];case"glow":return[{boxShadow:"0 0 5px currentColor"},{boxShadow:"0 0 20px currentColor, 0 0 30px currentColor"}];case"pulse":return[{transform:"scale(1)"},{transform:"scale(1.05)"}];case"spin":return[{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}];case"flip":return[{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}];case"zoom":return[{transform:"scale(1)"},{transform:"scale(1.1)"},{transform:"scale(1)"}];case"highlight":return[{backgroundColor:"transparent"},{backgroundColor:"rgba(255, 215, 0, 0.3)"},{backgroundColor:"transparent"}];case"success":return[{transform:"scale(1)",backgroundColor:"transparent"},{transform:"scale(1.05)",backgroundColor:"rgba(0, 255, 0, 0.2)"},{transform:"scale(1)",backgroundColor:"transparent"}];case"error":return[{transform:"translateX(0)"},{transform:"translateX(-10px)",backgroundColor:"rgba(255, 0, 0, 0.2)"},{transform:"translateX(10px)"},{transform:"translateX(-5px)"},{transform:"translateX(5px)"},{transform:"translateX(0)",backgroundColor:"transparent"}];case"purchase":return[{transform:"scale(1)",backgroundColor:"transparent"},{transform:"scale(1.1)",backgroundColor:"rgba(0, 255, 0, 0.3)"},{transform:"scale(1)",backgroundColor:"transparent"}];case"starburst":return[{transform:"scale(0) rotate(0deg)",opacity:1,boxShadow:"0 0 0 rgba(255, 140, 0, 0.8)"},{transform:"scale(1.5) rotate(180deg)",opacity:.8,boxShadow:"0 0 40px rgba(255, 140, 0, 0.8)"},{transform:"scale(3) rotate(360deg)",opacity:0,boxShadow:"0 0 80px rgba(255, 140, 0, 0.4)"}];default:return[{opacity:1}]}}function u(N,y){return new Promise(O=>{if(n.value){const z=y.to;"value"in N?N.value=z:N.textContent=l(z,y),y.onComplete?.(),O();return}const $=y.duration||1e3,U=y.easing||(z=>z*(2-z)),I=performance.now(),g=y.from,b=y.to-g;function L(z){const q=z-I,P=Math.min(q/$,1),x=U(P),E=g+b*x,C=l(E,y);"value"in N?N.value=E:N.textContent=C,y.onUpdate?.(E,C),P<1?requestAnimationFrame(L):(y.onComplete?.(),O())}requestAnimationFrame(L)})}function l(N,y){const O=y.decimals||0,$=y.separator||",",U=y.prefix||"",I=y.suffix||"";let g=N.toFixed(O);{const S=g.split(".");S[0]=S[0].replace(/\B(?=(\d{3})+(?!\d))/g,$),g=S.join(".")}return U+g+I}async function v(N,y="fadeIn"){return await Cn(),i(N,y)}async function d(N,y="fadeOut"){return i(N,y)}async function c(N,y,O=100,$={}){const U=N.map((I,g)=>{const S={...$,delay:($.delay||0)+g*O};return i(I,y,S)});return Promise.all(U)}const _={success:N=>i(N,"success"),error:N=>i(N,"error"),purchase:N=>i(N,"purchase"),highlight:N=>i(N,"highlight"),bounce:N=>i(N,"bounce"),shake:N=>i(N,"shake"),glow:(N,y=!0)=>i(N,"glow",{loop:y}),pulse:(N,y=!0)=>i(N,"pulse",{loop:y}),spin:(N,y=!0)=>i(N,"spin",{loop:y})};function T(N,y,O){if(n.value)return;const $=document.createElement("div");$.style.position="fixed",$.style.left=`${N}px`,$.style.top=`${y}px`,$.style.pointerEvents="none",$.style.zIndex="9999",document.body.appendChild($);const U=O.count||10,I=O.colors||["#ffd700","#ff6b6b","#4ecdc4"];for(let g=0;g<U;g++){const S=document.createElement("div"),b=Math.random()*(O.size?.max||6)+(O.size?.min||2),L=Math.PI*2*g/U,z=Math.random()*(O.speed?.max||100)+(O.speed?.min||50),q=I[Math.floor(Math.random()*I.length)];S.style.position="absolute",S.style.width=`${b}px`,S.style.height=`${b}px`,S.style.backgroundColor=q,S.style.borderRadius="50%",S.style.pointerEvents="none",$.appendChild(S),S.animate([{transform:"translate(0, 0) scale(0)",opacity:1},{transform:`translate(${Math.cos(L)*z}px, ${Math.sin(L)*z}px) scale(1)`,opacity:.8},{transform:`translate(${Math.cos(L)*z*1.5}px, ${Math.sin(L)*z*1.5+50}px) scale(0)`,opacity:0}],{duration:O.lifetime||1e3,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).addEventListener("finish",()=>{S.remove()})}setTimeout(()=>{$.remove()},(O.lifetime||1e3)+100)}function V(N=10,y=500){if(n.value)return;const O=document.documentElement;i(O,"shake",{duration:y,easing:"ease-in-out"})}function F(N="rgba(255, 255, 255, 0.5)",y=200){if(n.value)return;const O=document.createElement("div");O.style.position="fixed",O.style.top="0",O.style.left="0",O.style.width="100%",O.style.height="100%",O.style.backgroundColor=N,O.style.pointerEvents="none",O.style.zIndex="99999",O.style.opacity="0",document.body.appendChild(O),O.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:y,easing:"ease-out"}).addEventListener("finish",()=>{O.remove()})}return{animate:i,animateNumber:u,enterElement:v,exitElement:d,staggerAnimations:c,..._,createParticleBurst:T,shakeScreen:V,flashScreen:F,activeEffects:e,reducedMotion:n,animationPresets:o}}function ye(e,t=2){const n=new Et(e);return n.lt(1e3)?n.toFixed(t):n.lt(1e6)?n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):n.toExponential(t)}function Qn(e){return e<60?`${Math.floor(e)}s`:e<3600?`${Math.floor(e/60)}m ${Math.floor(e%60)}s`:e<86400?`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`:`${Math.floor(e/86400)}d ${Math.floor(e%86400/3600)}h`}const Ec={class:"header"},kc={class:"header-content"},wc={class:"game-title"},$c={class:"layer-indicator"},Tc={class:"resources-grid"},Mc={class:"resource-label"},Ac={class:"resource-value"},Rc={key:0,class:"resource-rate"},xc={class:"header-actions"},Ic=Ve({__name:"GameHeader",emits:["openSettings"],setup(e){const t=ge(),{stardust:n,starlight:o,starRail:i,nebularEssence:a,stellarEnergy:r,cosmicFragment:u,totalStardustProduction:l}=Ke(t),v=Z(()=>"Glare Layer"),d=Z(()=>[{id:"stardust",label:"Stardust",value:ye(n.value.amount),rate:l.value.gt(0)?ye(l.value):null},{id:"starlight",label:"Starlight",value:ye(o.value.amount),rate:null},{id:"starRail",label:"Star Rail",value:i.value.toString(),rate:null},{id:"nebularEssence",label:"Nebular Essence",value:ye(a.value),rate:null},{id:"stellarEnergy",label:"Stellar Energy",value:ye(r.value),rate:null},{id:"cosmicFragment",label:"Cosmic Fragment",value:ye(u.value),rate:null}].filter(T=>T.id==="stardust"?!0:T.id==="starlight"?o.value.amount.gt(0)||t.canGetStarlight:T.id==="starRail"?i.value>0||o.value.amount.gt(0):T.id==="nebularEssence"?a.value>0||o.value.amount.gte(1):T.id==="stellarEnergy"?r.value>0||o.value.amount.gte(2):T.id==="cosmicFragment"?u.value>0||o.value.amount.gte(5):!1));function c(){t.performStarburst()}function _(){t.performStarlightReset()}return(T,V)=>(f(),m("header",Ec,[s("div",kc,[s("div",wc,[V[1]||(V[1]=Me(" Aether Project ")),s("span",$c,w(v.value),1)]),s("div",Tc,[(f(!0),m(ue,null,ve(d.value,F=>(f(),m("div",{class:"resource-display",key:F.id},[s("div",Mc,w(F.label),1),s("div",Ac,w(F.value),1),F.rate?(f(),m("div",Rc,w(F.rate)+"/s",1)):ne("",!0)]))),128))]),s("div",xc,[k(t).canStarburst?(f(),m("button",{key:0,class:"action-button starburst",onClick:c}," Starburst ")):ne("",!0),k(t).canGetStarlight?(f(),m("button",{key:1,class:"action-button starlight",onClick:_}," Get Starlight ")):ne("",!0),s("button",{class:"action-button settings",onClick:V[0]||(V[0]=F=>T.$emit("openSettings"))}," ⚙️ ")])])]))}}),Ge=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Pc=Ge(Ic,[["__scopeId","data-v-9782d9d3"]]),Nc={class:"layer-system"},Oc={key:0,class:"layer-selector"},Lc={class:"layer-buttons"},Uc=["onClick","disabled"],Fc={class:"layer-name"},Bc={class:"layer-description"},Dc={key:0,class:"layer-lock"},qc={class:"layer-content"},Vc=Ve({__name:"LayerSystem",emits:["layerChanged"],setup(e,{expose:t,emit:n}){const o=ge(),{starlight:i}=Ke(o),a=W("glare"),r=Z(()=>[{id:"glare",name:"Glare Layer",description:"The foundation of cosmic energy",unlocked:!0},{id:"nova",name:"Nova Layer",description:"Explosive stellar evolution",unlocked:i.value.amount.gte(50),unlockCondition:()=>i.value.amount.gte(50)},{id:"supernova",name:"Supernova Layer",description:"Cataclysmic stellar death",unlocked:!1,unlockCondition:()=>!1},{id:"pulsar",name:"Pulsar Layer",description:"Rapidly rotating neutron stars",unlocked:!1,unlockCondition:()=>!1},{id:"magnetar",name:"Magnetar Layer",description:"Highly magnetized neutron stars",unlocked:!1,unlockCondition:()=>!1},{id:"quasar",name:"Quasar Layer",description:"Active galactic nuclei",unlocked:!1,unlockCondition:()=>!1},{id:"blackhole",name:"Black Hole Layer",description:"Gravitational singularities",unlocked:!1,unlockCondition:()=>!1},{id:"wormhole",name:"Wormhole Layer",description:"Spacetime tunnels",unlocked:!1,unlockCondition:()=>!1},{id:"multiverse",name:"Multiverse Layer",description:"Multiple universes",unlocked:!1,unlockCondition:()=>!1},{id:"omnipotence",name:"Omnipotence Layer",description:"Ultimate cosmic power",unlocked:!1,unlockCondition:()=>!1}]),u=Z(()=>r.value.filter(d=>d.unlocked||d.unlockCondition?.())),l=n;function v(d){const c=r.value.find(_=>_.id===d);c&&c.unlocked&&(a.value=d,l("layerChanged",d))}return t({currentLayer:Z(()=>a.value),switchLayer:v,availableLayers:u}),(d,c)=>(f(),m("div",Nc,[u.value.length>1?(f(),m("div",Oc,[c[0]||(c[0]=s("h3",{class:"layer-title"},"Active Layer",-1)),s("div",Lc,[(f(!0),m(ue,null,ve(u.value,_=>(f(),m("button",{key:_.id,class:fe(["layer-button",{active:a.value===_.id}]),onClick:T=>v(_.id),disabled:!_.unlocked},[s("div",Fc,w(_.name),1),s("div",Bc,w(_.description),1),_.unlocked?ne("",!0):(f(),m("div",Dc,"🔒"))],10,Uc))),128))])])):ne("",!0),s("div",qc,[cs(d.$slots,"default",{currentLayer:a.value},void 0)])]))}}),Gc=Ge(Vc,[["__scopeId","data-v-709175d6"]]),Hc={class:"tab-container"},jc={class:"tab-header"},zc=["onClick"],Yc={class:"tab-content"},Wc=Ve({__name:"TabContainer",props:{tabs:{},defaultTab:{default:""}},emits:["tabChanged"],setup(e,{expose:t,emit:n}){const o=e,i=n,a=W(o.defaultTab||o.tabs.find(l=>!l.visible||l.visible())?.id||""),r=Z(()=>o.tabs.filter(l=>!l.visible||l.visible()));Yt(r,l=>{l.find(v=>v.id===a.value)||(a.value=l[0]?.id||"")},{immediate:!0});function u(l){a.value=l,i("tabChanged",l)}return t({activeTab:Z(()=>a.value),setActiveTab:u}),(l,v)=>(f(),m("div",Hc,[s("div",jc,[(f(!0),m(ue,null,ve(r.value,d=>(f(),m("button",{key:d.id,class:fe(["tab-button",{active:a.value===d.id}]),onClick:c=>u(d.id)},w(d.name),11,zc))),128))]),s("div",Yc,[cs(l.$slots,"default",{activeTab:a.value},void 0)])]))}}),Kc=Ge(Wc,[["__scopeId","data-v-99e9726b"]]),Xc=["data-tab"],Qc=Ve({__name:"TabPanel",props:{tabId:{},activeTab:{}},setup(e){const t=e,n=Z(()=>t.activeTab===t.tabId);return(o,i)=>n.value?(f(),m("div",{key:0,class:fe(["tab-panel",{active:n.value}]),"data-tab":o.tabId},[cs(o.$slots,"default",{},void 0)],10,Xc)):ne("",!0)}}),dt=Ge(Qc,[["__scopeId","data-v-696fbe2e"]]),Jc={key:0,class:"star-echo-container"},Zc={class:"echo-stats"},ed={class:"stat-item"},td={class:"stat-item"},nd={class:"bonus-value"},sd={class:"stat-item"},od={class:"bonus-value"},id={class:"stat-item"},ad={class:"total-bonus"},rd={class:"echo-visualization"},ld={class:"echo-container-visual"},ud={class:"echo-svg",viewBox:"-200 -200 400 400"},cd={class:"central-star"},dd={class:"echo-slots"},fd=["transform","onClick"],pd={key:0,"text-anchor":"middle",class:"slot-tier",dy:"5"},vd={key:1,"text-anchor":"middle",class:"slot-empty",dy:"5"},md={class:"connections"},hd=["x2","y2"],gd={key:0,class:"filament-selection"},yd={class:"filament-grid"},bd=["onClick"],_d={class:"filament-tier"},Sd={class:"filament-name"},Cd={class:"filament-owned"},Ed={class:"selection-actions"},kd={key:1,class:"placed-filaments"},wd={class:"placed-list"},$d={class:"placed-info"},Td={class:"placed-tier"},Md={class:"placed-name"},Ad=["onClick"],Rd={key:1,class:"echo-locked"},xd={class:"locked-content"},Id={class:"unlock-progress"},Pd={class:"progress-bar"},Nd=Ve({__name:"StarEcho",setup(e){const t=Wo(),n=ge(),{unlocked:o,maxSlots:i,centralStarActive:a,slots:r,starEchoBonus:u,occupiedSlots:l}=Ke(t),{starburstCount:v,filaments:d,maxUnlockedTier:c}=Ke(n),_=W(!1),T=W(null),V=Z(()=>d.value.slice(0,c.value+1));function F(g){g.occupied?t.removeFilament(g.id):(T.value=g.id,_.value=!0)}function N(g){T.value&&t.placeFilament(T.value,g)&&y()}function y(){T.value=null,_.value=!1}const O=t.canPlaceFilament,$=t.removeFilament,U=t.clearAllFilaments,I=t.getFilamentName;return(g,S)=>k(o)?(f(),m("div",Jc,[S[9]||(S[9]=s("h2",{class:"section-title"},"Star Echo System",-1)),S[10]||(S[10]=s("div",{class:"echo-description"},[s("p",null,"Place filaments around the central star to create resonance effects. Larger tier differences provide additional bonuses.")],-1)),s("div",Zc,[s("div",ed,[S[1]||(S[1]=s("span",null,"Placed Filaments:",-1)),s("span",null,w(k(l).length)+"/"+w(k(i)),1)]),s("div",td,[S[2]||(S[2]=s("span",null,"Production Bonus:",-1)),s("span",nd,"×"+w(k(ye)(k(u).productionMultiplier)),1)]),s("div",sd,[S[3]||(S[3]=s("span",null,"Tier Difference Bonus:",-1)),s("span",od,"×"+w(k(ye)(k(u).tierDifferenceBonus)),1)]),s("div",id,[S[4]||(S[4]=s("span",null,"Total Bonus:",-1)),s("span",ad,"×"+w(k(ye)(k(u).totalBonus)),1)])]),s("div",rd,[s("div",ld,[(f(),m("svg",ud,[s("g",cd,[s("circle",{cx:"0",cy:"0",r:"30",class:fe(["star-core",{active:k(a)}])},null,2),S[5]||(S[5]=s("text",{x:"0",y:"5","text-anchor":"middle",class:"star-label"}," Central Star ",-1))]),s("g",dd,[(f(!0),m(ue,null,ve(k(r),b=>(f(),m("g",{key:b.id,transform:`translate(${b.position.x}, ${b.position.y})`,class:fe(["echo-slot",{occupied:b.occupied,available:!b.occupied&&b.unlocked}]),onClick:L=>F(b)},[S[6]||(S[6]=s("circle",{r:"25",class:"slot-circle"},null,-1)),b.occupied&&b.filamentTier!==null?(f(),m("text",pd," T"+w(b.filamentTier+1),1)):(f(),m("text",vd," + "))],10,fd))),128))]),s("g",md,[(f(!0),m(ue,null,ve(k(l),b=>(f(),m("line",{key:`connection-${b.id}`,x1:"0",y1:"0",x2:b.position.x,y2:b.position.y,class:"echo-connection"},null,8,hd))),128))])]))])]),_.value?(f(),m("div",gd,[S[7]||(S[7]=s("h3",{class:"subsection-title"},"Select Filament to Place",-1)),s("div",yd,[(f(!0),m(ue,null,ve(V.value,(b,L)=>(f(),m("div",{key:L,class:fe(["filament-option",{disabled:!k(O)(T.value||"",L)}]),onClick:z=>N(L)},[s("div",_d,"Tier "+w(L+1),1),s("div",Sd,w(b.name),1),s("div",Cd,"Owned: "+w(Math.floor(b.owned.toNumber())),1)],10,bd))),128))]),s("div",Ed,[s("button",{class:"btn btn-secondary",onClick:y}," Cancel "),s("button",{class:"btn btn-warning",onClick:S[0]||(S[0]=(...b)=>k(U)&&k(U)(...b))}," Clear All ")])])):ne("",!0),k(l).length>0?(f(),m("div",kd,[S[8]||(S[8]=s("h3",{class:"subsection-title"},"Placed Filaments",-1)),s("div",wd,[(f(!0),m(ue,null,ve(k(l),b=>(f(),m("div",{key:b.id,class:"placed-item"},[s("div",$d,[s("span",Td,"Tier "+w((b.filamentTier||0)+1),1),s("span",Md,w(k(I)(b.filamentTier||0)),1)]),s("button",{class:"btn btn-small btn-remove",onClick:L=>k($)(b.id)}," Remove ",8,Ad)]))),128))])])):ne("",!0),S[11]||(S[11]=ds('<div class="echo-info" data-v-1c16537b><h3 class="subsection-title" data-v-1c16537b>System Information</h3><div class="info-content" data-v-1c16537b><div class="info-section" data-v-1c16537b><h4 data-v-1c16537b>Base Effects</h4><p data-v-1c16537b>• Each placed filament: Production ×2</p><p data-v-1c16537b>• Effects are multiplicative</p></div><div class="info-section" data-v-1c16537b><h4 data-v-1c16537b>Tier Difference Bonuses</h4><p data-v-1c16537b>• 1-2 tier difference: +10% bonus</p><p data-v-1c16537b>• 3-4 tier difference: +25% bonus</p><p data-v-1c16537b>• 5+ tier difference: +50% bonus</p></div><div class="info-section" data-v-1c16537b><h4 data-v-1c16537b>Requirements</h4><p data-v-1c16537b>• Unlocks at 5th Starburst</p><p data-v-1c16537b>• Must own filaments to place them</p><p data-v-1c16537b>• Maximum 3 filaments can be placed</p></div></div></div>',1))])):(f(),m("div",Rd,[s("div",xd,[S[12]||(S[12]=s("h2",null,"Star Echo System",-1)),S[13]||(S[13]=s("p",null,"Unlocks at 5th Starburst",-1)),s("div",Id,[s("span",null,"Current Starbursts: "+w(k(v)),1),s("div",Pd,[s("div",{class:"progress-fill",style:Ye({width:`${Math.min(100,k(v)/5*100)}%`})},null,4)])])])]))}}),Od=Ge(Nd,[["__scopeId","data-v-1c16537b"]]);function Zo(){const e=W(Je.getDeviceInfo()),t=W(Je.getPerformanceMetrics()),n=W(Je.getMobileSettings()),o=Z(()=>e.value.isMobile),i=Z(()=>e.value.isTablet),a=Z(()=>e.value.isDesktop),r=Z(()=>e.value.isLowEndDevice),u=Z(()=>Je.shouldUseReducedEffects()),l=Z(()=>Je.shouldDisableParticles()),v=Z(()=>Je.shouldReduceAnimations()),d=Z(()=>t.value.isLowPerformance),c=Z(()=>t.value.fps),_=Z(()=>t.value.memoryUsage),T=Z(()=>n.value.particlesEnabled),V=Z(()=>n.value.backgroundEffectsEnabled),F=Z(()=>n.value.animationsEnabled),N=Z(()=>n.value.complexShadowsEnabled),y=Z(()=>n.value.reducedMotion),O=Z(()=>{const te=e.value.screenSize;return{"screen-small":te==="small","screen-medium":te==="medium","screen-large":te==="large","mobile-device":o.value,"tablet-device":i.value,"desktop-device":a.value,"low-end-device":r.value,"low-performance":d.value,"reduced-effects":u.value,"no-particles":l.value,"reduced-animations":v.value}}),$=Z(()=>{const te=c.value,se=_.value;return te<20||se>.9?"performance-critical":te<30||se>.8?"performance-low":te<45||se>.6?"performance-medium":"performance-high"}),U=Z(()=>o.value?1:i.value||r.value?2:3),I=Z(()=>l.value?0:o.value?5:r.value?10:d.value?15:25),g=Z(()=>y.value?0:v.value?100:o.value?200:300),S=()=>Je.getOptimalUpdateFrequency(),b=te=>{Je.updateSettings(te),n.value=Je.getMobileSettings()},L=()=>{b({particlesEnabled:!1,backgroundEffectsEnabled:!1,complexShadowsEnabled:!1,animationsEnabled:!v.value,autoSaveFrequency:6e4})},z=()=>{!r.value&&!u.value&&b({particlesEnabled:!o.value,backgroundEffectsEnabled:!0,complexShadowsEnabled:!o.value,animationsEnabled:!0,autoSaveFrequency:3e4})},q=()=>{l.value||b({particlesEnabled:!n.value.particlesEnabled})},P=Z(()=>e.value.screenSize==="small"),x=Z(()=>e.value.screenSize==="medium"),E=Z(()=>e.value.screenSize==="large"),C=Z(()=>e.value.supportsTouchEvents),A=te=>C.value?{start:"touchstart",move:"touchmove",end:"touchend"}[te]:{start:"mousedown",move:"mousemove",end:"mouseup"}[te],D=Z(()=>_.value>.7||r.value),J=Z(()=>{const te=_.value;return te>.9?"critical":te>.8?"high":te>.6?"medium":"low"});return kt(()=>{const te=`mobile-optimization-${Date.now()}`;Je.observePerformance(te,se=>{t.value=se}),It(()=>{Je.unobservePerformance(te)})}),Yt(O,()=>{}),Yt($,()=>{}),{deviceInfo:Hn(e),isMobile:o,isTablet:i,isDesktop:a,isLowEndDevice:r,isSmallScreen:P,isMediumScreen:x,isLargeScreen:E,supportsTouchEvents:C,performanceMetrics:Hn(t),currentFPS:c,memoryUsage:_,isLowPerformance:d,mobileSettings:Hn(n),shouldReduceEffects:u,shouldDisableParticles:l,shouldReduceAnimations:v,particlesEnabled:T,backgroundEffectsEnabled:V,animationsEnabled:F,complexShadowsEnabled:N,reducedMotion:y,screenSizeClass:O,performanceClass:$,getOptimalGridColumns:U,getOptimalParticleCount:I,getOptimalAnimationDuration:g,shouldCleanupResources:D,getMemoryPressureLevel:J,updateSettings:b,enablePerformanceMode:L,enableQualityMode:z,toggleParticles:q,getOptimalUpdateFrequency:S,getTouchEventName:A}}const Ld=["onAnimationend"],Ud={key:0,class:"particle-inner starburst-inner"},Fd={key:1,class:"particle-inner achievement-inner"},Bd={key:0,class:"background-effects"},Dd={class:"cosmic-dust"},qd={class:"energy-lines"},Vd={class:"constellation-bg"},Gd={class:"constellation-svg",viewBox:"0 0 800 600"},Hd={class:"background-stars"},jd=["cx","cy","r","opacity"],zd=Ve({__name:"ParticleSystem",props:{enabled:{type:Boolean,default:!0},showBackgroundEffects:{type:Boolean,default:!0},intensity:{default:1},maxParticles:{default:100}},emits:["particleCreated","particleDestroyed"],setup(e,{expose:t,emit:n}){const o=e,i=Zo(),a=Z(()=>o.enabled&&!i.shouldDisableParticles.value&&i.particlesEnabled.value),r=Z(()=>o.showBackgroundEffects&&i.backgroundEffectsEnabled.value&&!i.shouldReduceEffects.value),u=Z(()=>{let q=o.intensity;return i.isLowEndDevice.value?q*=.3:i.isMobile.value?q*=.5:i.isLowPerformance.value&&(q*=.7),Math.max(.1,q)}),l=Z(()=>{const q=i.getOptimalParticleCount.value;return Math.min(o.maxParticles,q)}),v=n,d=W(),c=W([]),_=W(0),T=W(),V=Z(()=>r.value?Math.floor(20*u.value):0),F=Z(()=>r.value?Math.floor(5*u.value):0),N=W([]),y={stardust:{baseSize:3,color:"#ffd700",duration:2e3,gravity:.1,sparkle:!0},starlight:{baseSize:4,color:"#e0e7ff",duration:3e3,gravity:.05,glow:!0},energy:{baseSize:2,color:"#00d4ff",duration:1500,gravity:0,electric:!0},cosmic:{baseSize:5,color:"#9333ea",duration:4e3,gravity:.02,trail:!0},nebula:{baseSize:6,color:"#06b6d4",duration:3500,gravity:.03,swirl:!0},starburst:{baseSize:20,color:"#ff8c00",duration:1e3,gravity:0,explosion:!0},achievement:{baseSize:30,color:"#ffd700",duration:2e3,gravity:-.1,special:!0},purchase:{baseSize:8,color:"#00ff00",duration:800,gravity:.15,success:!0},milestone:{baseSize:15,color:"#ff6b6b",duration:1500,gravity:.05,celebration:!0}};function O(){N.value=[];for(let q=0;q<50;q++)N.value.push({id:q,x:Math.random()*800,y:Math.random()*600,size:Math.random()*2+.5,opacity:Math.random()*.6+.2,delay:Math.random()*10})}function $(q,P,x,E={}){if(!a.value||c.value.length>=l.value)return"";const C=y[q],A=`particle-${_.value++}`,D={id:A,type:q,x:P,y:x,vx:(Math.random()-.5)*2,vy:Math.random()*-2-1,size:C.baseSize+Math.random()*3,color:C.color,duration:C.duration+Math.random()*1e3,rotation:Math.random()*360,scale:1,...E};return c.value.push(D),v("particleCreated",D),setTimeout(()=>{U(A)},D.duration),A}function U(q){const P=c.value.findIndex(x=>x.id===q);P!==-1&&(c.value.splice(P,1),v("particleDestroyed",q))}function I(q){const P=y[q.type];return{position:"absolute",left:`${q.x}px`,top:`${q.y}px`,width:`${q.size}px`,height:`${q.size}px`,background:q.color,borderRadius:q.type==="starburst"?"0":"50%",transform:`rotate(${q.rotation||0}deg) scale(${q.scale||1})`,animationDuration:`${q.duration}ms`,boxShadow:P?.glow?`0 0 ${q.size*2}px ${q.color}`:"none",pointerEvents:"none",zIndex:q.type==="achievement"?1e3:100}}function g(q){const P=q*100%3e3,x=3e3+Math.random()*2e3,E=Math.random()*2+1;return{left:`${Math.random()*100}%`,animationDelay:`${P}ms`,animationDuration:`${x}ms`,width:`${E}px`,height:`${E}px`}}function S(q){const P=q*400%2e3,x=2e3+Math.random()*1e3;return{left:`${Math.random()*100}%`,animationDelay:`${P}ms`,animationDuration:`${x}ms`,background:`linear-gradient(to bottom, transparent, ${["#00d4ff","#9333ea","#06b6d4"][q%3]}, transparent)`}}function b(q,P,x="stardust",E=10){if(!a.value)return;const C=i.isMobile.value?Math.min(E,5):i.isLowEndDevice.value?Math.min(E,3):E;for(let A=0;A<C;A++){const D=Math.PI*2*A/E,J=Math.random()*3+2;$(x,q,P,{vx:Math.cos(D)*J,vy:Math.sin(D)*J,delay:A*50})}}function L(q,P,x,E,C="energy",A=2e3){if(!a.value)return;const D=Math.floor(A/100),J=i.isMobile.value?Math.min(D,10):i.isLowEndDevice.value?Math.min(D,5):D;for(let te=0;te<J;te++){const se=te/J,oe=q+(x-q)*se,Ce=P+(E-P)*se;setTimeout(()=>{$(C,oe,Ce,{vx:(x-q)/A*100,vy:(E-P)/A*100})},te*100)}}function z(q,P){if(!a.value)return;const x=i.isMobile.value?8:15,E=i.isMobile.value?4:8,C=i.isMobile.value?10:20;b(q,P,"starlight",x),i.isLowEndDevice.value||(setTimeout(()=>{b(q-20,P-20,"energy",E),b(q+20,P-20,"cosmic",E)},200),setTimeout(()=>{for(let A=0;A<C;A++){const D=(Math.random()-.5)*100,J=(Math.random()-.5)*100;setTimeout(()=>{$("stardust",q+D,P+J,{size:Math.random()*3+1})},A*50)}},500))}return t({createParticle:$,removeParticle:U,createBurstEffect:b,createParticleStream:L,createCelebrationEffect:z,clearAllParticles:()=>{c.value=[]}}),kt(()=>{O()}),It(()=>{T.value&&cancelAnimationFrame(T.value)}),(q,P)=>(f(),m("div",{ref_key:"containerRef",ref:d,class:fe(["particle-container",{"particles-enabled":q.enabled}])},[(f(!0),m(ue,null,ve(c.value,x=>(f(),m("div",{key:x.id,class:fe(["particle",`particle-${x.type}`]),style:Ye(I(x)),onAnimationend:E=>U(x.id)},[x.type==="starburst"?(f(),m("div",Ud)):ne("",!0),x.type==="achievement"?(f(),m("div",Fd,w(x.icon||"🏆"),1)):ne("",!0)],46,Ld))),128)),r.value?(f(),m("div",Bd,[s("div",Dd,[(f(!0),m(ue,null,ve(V.value,x=>(f(),m("div",{key:`dust-${x}`,class:"dust-particle",style:Ye(g(x))},null,4))),128))]),s("div",qd,[(f(!0),m(ue,null,ve(F.value,x=>(f(),m("div",{key:`energy-${x}`,class:"energy-line",style:Ye(S(x))},null,4))),128))]),s("div",Vd,[(f(),m("svg",Gd,[P[0]||(P[0]=s("defs",null,[s("radialGradient",{id:"starGradient",cx:"50%",cy:"50%",r:"50%"},[s("stop",{offset:"0%",style:{"stop-color":"#ffffff","stop-opacity":"1"}}),s("stop",{offset:"100%",style:{"stop-color":"#ffffff","stop-opacity":"0"}})])],-1)),s("g",Hd,[(f(!0),m(ue,null,ve(N.value,x=>(f(),m("circle",{key:x.id,cx:x.x,cy:x.y,r:x.size,fill:"url(#starGradient)",opacity:x.opacity,class:"bg-star",style:Ye({animationDelay:`${x.delay}s`})},null,12,jd))),128))])]))])])):ne("",!0)],2))}}),Er=Ge(zd,[["__scopeId","data-v-5039eebc"]]),Yd={class:"star-map-container"},Wd={key:0,class:"star-echo-section"},Kd={key:1,class:"traditional-star-map"},Xd=["onClick","onMouseenter","onMouseleave"],Qd={class:"filament-count"},Jd={key:0,class:"filament-glow"},Zd={class:"star-info"},ef={class:"info-grid"},tf={class:"info-card"},nf={class:"info-value"},sf={key:0,class:"info-card"},of={class:"info-value"},af={key:1,class:"info-card"},rf={key:2,class:"info-card"},lf={class:"info-value capitalize"},uf=Ve({__name:"StarMap",setup(e){const t=ge(),n=Wo(),o=Xs(),{filaments:i,starburstCount:a,starlight:r}=Ke(t),{unlocked:u}=Ke(n),l=Z(()=>o?.currentState||"stable"),{animate:v,createParticleBurst:d,shakeScreen:c}=Jo(),_=W(),T=W(),V=W(-1),F=W(),N=Z(()=>i.value.filter((b,L)=>L===0?!0:i.value[L-1].owned.gt(0))),y=Z(()=>a.value===0?R(1):R(2).mul(R(1.1).pow(r.value.amount)).pow(a.value));function O(b){const L=150+b*40;return{width:`${L*2}px`,height:`${L*2}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)",animationDuration:`${60+b*10}s`}}function $(b){const L=["var(--accent-blue)","var(--accent-green)","var(--accent-purple)","var(--accent-orange)","var(--accent-red)","var(--accent-yellow)","#ff00ff","#00ffff","#ff00aa","#00ff00"];return{background:`radial-gradient(circle, ${L[b.id-1]} 0%, transparent 70%)`,boxShadow:b.owned.gt(0)?`0 0 20px ${L[b.id-1]}`:"none"}}async function U(b){console.log("Selected filament:",b);const z=document.querySelectorAll(".filament")[b.id-1];if(z){await v(z,"bounce");const q=z.getBoundingClientRect(),P=T.value?.getBoundingClientRect();if(P){const x=q.left+q.width/2-P.left,E=q.top+q.height/2-P.top;_.value?.createParticle("starlight",x,E)}}}async function I(){const b=T.value?.getBoundingClientRect();if(b){const L=b.width/2,z=b.height/2;_.value?.createCelebrationEffect(L,z),d(b.left+L,b.top+z,{type:"celebration",count:25,colors:["#ffd700","#ff8c00","#ff6b35"]}),c(15,800)}}function g(b,L){if(L&&N.value[b]?.owned.gt(0)){V.value=b;const q=document.querySelectorAll(".filament")[b];if(q&&_.value){const P=q.getBoundingClientRect(),x=T.value?.getBoundingClientRect();if(x){const E=P.left+P.width/2-x.left,C=P.top+P.height/2-x.top;_.value.createParticle("energy",E,C)}}}else V.value=-1}function S(){F.value=setInterval(()=>{const b=N.value.filter(L=>L.owned.gt(0));if(b.length>0){const L=Math.floor(Math.random()*b.length);V.value=L,setTimeout(()=>{V.value=-1},2e3)}},5e3)}return kt(()=>{S()}),It(()=>{F.value&&clearInterval(F.value)}),(b,L)=>(f(),m("div",Yd,[he(Er,{ref_key:"particleSystem",ref:_,enabled:!0,showBackgroundEffects:!0},null,512),L[5]||(L[5]=s("h2",{class:"section-title star-map-title"},"Star Map",-1)),k(u)?(f(),m("div",Wd,[he(Od)])):(f(),m("div",Kd,[s("div",{class:"star-map",ref_key:"starMapRef",ref:T},[s("div",{class:fe(["central-star",{"star-expansion":l.value==="expansion","star-contraction":l.value==="contraction","star-stabilization":l.value==="stabilization"}]),onClick:I},L[0]||(L[0]=[s("div",{class:"star-core"},null,-1),s("div",{class:"star-flare"},null,-1)]),2),(f(!0),m(ue,null,ve(N.value,(z,q)=>(f(),m("div",{key:z.id,class:"filament-orbit hover-lift",style:Ye(O(q))},[s("div",{class:fe(["filament",{"filament-active":z.owned.gt(0),"filament-pulsing":z.owned.gt(0)&&q===V.value}]),style:Ye($(z)),onClick:P=>U(z),onMouseenter:P=>g(q,!0),onMouseleave:P=>g(q,!1)},[s("span",Qd,w(Math.floor(z.owned.toNumber())),1),z.owned.gt(0)?(f(),m("div",Jd)):ne("",!0)],46,Xd)],4))),128))],512),s("div",Zd,[s("div",ef,[s("div",tf,[L[1]||(L[1]=s("h4",null,"Starburst Count",-1)),s("p",nf,w(k(a)),1)]),k(a)>0?(f(),m("div",sf,[L[2]||(L[2]=s("h4",null,"Starburst Multiplier",-1)),s("p",of,w(k(ye)(y.value))+"x",1)])):ne("",!0),k(a)>=4?(f(),m("div",af,L[3]||(L[3]=[s("h4",null,"Next Unlock",-1),s("p",{class:"info-value"},"Star Echo at 5th Starburst",-1)]))):ne("",!0),l.value?(f(),m("div",rf,[L[4]||(L[4]=s("h4",null,"Star State",-1)),s("p",lf,w(l.value),1)])):ne("",!0)])])]))]))}}),cf=Ge(uf,[["__scopeId","data-v-6f48a2f5"]]),df={key:0,class:"tooltip-arrow"},ff={class:"tooltip-content"},pf={key:0,class:"tooltip-title"},vf=["innerHTML"],mf=Ve({__name:"Tooltip",props:{title:{},content:{},position:{default:et.AUTO},trigger:{default:an.HOVER},delay:{default:500},maxWidth:{default:300},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1},dismissible:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,o=W(!1),i=W(),a=W(),r=W(),u=W(),l=W(!1),v=Z(()=>({maxWidth:`${n.maxWidth}px`,zIndex:1e3}));function d(){n.disabled||n.trigger!==an.HOVER||(clearTimeout(u.value),r.value=window.setTimeout(()=>{F()},n.delay))}function c(){n.disabled||n.trigger!==an.HOVER||(clearTimeout(r.value),!n.persistent&&!l.value&&(u.value=window.setTimeout(()=>{N()},100)))}function _(){n.disabled||n.trigger!==an.CLICK||(o.value?N():F())}function T(){n.persistent&&(l.value=!0,clearTimeout(u.value))}function V(){n.persistent&&(l.value=!1,n.trigger===an.HOVER&&(u.value=window.setTimeout(()=>{N()},100)))}async function F(){o.value=!0,await Cn(),i.value&&a.value&&y()}function N(){o.value=!1,l.value=!1,clearTimeout(r.value),clearTimeout(u.value)}function y(){if(!i.value||!a.value)return;const $=i.value,I=a.value.getBoundingClientRect(),g=$.getBoundingClientRect(),S=window.innerWidth,b=window.innerHeight;let L=n.position,z=0,q=0;if(L===et.AUTO){const P=I.top,x=b-I.bottom,E=S-I.right;x>=g.height?L=et.BOTTOM:P>=g.height?L=et.TOP:E>=g.width?L=et.RIGHT:L=et.LEFT}switch(L){case et.TOP:z=I.left+I.width/2-g.width/2,q=I.top-g.height-8;break;case et.BOTTOM:z=I.left+I.width/2-g.width/2,q=I.bottom+8;break;case et.LEFT:z=I.left-g.width-8,q=I.top+I.height/2-g.height/2;break;case et.RIGHT:z=I.right+8,q=I.top+I.height/2-g.height/2;break}z=Math.max(8,Math.min(z,S-g.width-8)),q=Math.max(8,Math.min(q,b-g.height-8)),$.style.left=`${z}px`,$.style.top=`${q}px`,$.className=$.className.replace(/tooltip-(top|bottom|left|right)/g,""),$.classList.add(`tooltip-${L}`)}function O($){n.trigger===an.CLICK&&o.value&&i.value&&a.value&&!i.value.contains($.target)&&!a.value.contains($.target)&&N()}return kt(()=>{a.value=document.querySelector(`[data-tooltip="${Math.random()}"]`),document.addEventListener("click",O)}),It(()=>{document.removeEventListener("click",O),clearTimeout(r.value),clearTimeout(u.value)}),t({show:F,hide:N}),($,U)=>(f(),m("div",{class:"tooltip-wrapper",onMouseenter:d,onMouseleave:c,onClick:_},[cs($.$slots,"default",{},void 0),(f(),$t($a,{to:"body"},[o.value?(f(),m("div",{key:0,ref_key:"tooltipElement",ref:i,class:fe(["tooltip",`tooltip-${$.position}`,{"tooltip-persistent":$.persistent}]),style:Ye(v.value),onMouseenter:T,onMouseleave:V},[$.showArrow?(f(),m("div",df)):ne("",!0),s("div",ff,[$.title?(f(),m("div",pf,w($.title),1)):ne("",!0),s("div",{class:"tooltip-body",innerHTML:$.content},null,8,vf),$.dismissible&&$.persistent?(f(),m("button",{key:1,class:"tooltip-close",onClick:N}," × ")):ne("",!0)])],38)):ne("",!0)]))],32))}}),hf=Ge(mf,[["__scopeId","data-v-3ffdceb2"]]),gf=["disabled"],yf={class:"btn-background"},bf={key:0,class:"btn-shine"},_f={class:"btn-content"},Sf={key:0,class:"btn-loading-spinner"},Cf={key:1,class:"btn-success-icon"},Ef={key:0,class:"btn-icon"},kf={key:1},wf={class:"btn-text"},$f={key:1,class:"btn-badge"},Tf=["onAnimationend"],Mf=Ve({__name:"EnhancedButton",props:{variant:{default:"primary"},size:{default:"medium"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{},icon:{},badge:{},glow:{type:Boolean,default:!1},animated:{type:Boolean,default:!0},pulsing:{type:Boolean,default:!1},shine:{type:Boolean,default:!0},ripple:{type:Boolean,default:!0},particles:{type:Boolean,default:!0},clickEffect:{type:Boolean,default:!0},successDuration:{default:2e3}},emits:["click","success","hover"],setup(e,{expose:t,emit:n}){const o=e,i=Zo(),a=Z(()=>o.particles&&!i.shouldDisableParticles.value&&i.particlesEnabled.value),r=Z(()=>o.ripple&&!i.shouldReduceEffects.value),u=Z(()=>o.shine&&!i.shouldReduceEffects.value&&i.complexShadowsEnabled.value),l=n,v=W(),d=W(),c=W(),_=W([]),T=W(!1),V=W(!1),F=W(0),N=W(0);let y=null;const O={primary:{base:"#0066cc",hover:"#0052a3",gradient:"linear-gradient(135deg, #0066cc, #004c99)",glow:"#0066cc"},secondary:{base:"#6b7280",hover:"#4b5563",gradient:"linear-gradient(135deg, #6b7280, #4b5563)",glow:"#6b7280"},success:{base:"#10b981",hover:"#059669",gradient:"linear-gradient(135deg, #10b981, #047857)",glow:"#10b981"},danger:{base:"#ef4444",hover:"#dc2626",gradient:"linear-gradient(135deg, #ef4444, #b91c1c)",glow:"#ef4444"},warning:{base:"#f59e0b",hover:"#d97706",gradient:"linear-gradient(135deg, #f59e0b, #b45309)",glow:"#f59e0b"},info:{base:"#06b6d4",hover:"#0891b2",gradient:"linear-gradient(135deg, #06b6d4, #0e7490)",glow:"#06b6d4"},ghost:{base:"transparent",hover:"rgba(255, 255, 255, 0.1)",gradient:"none",glow:"#ffffff"}};async function $(E){o.disabled||o.loading||(F.value++,r.value&&v.value&&d.value&&g(E),a.value&&o.clickEffect&&S(E),l("click",E),F.value%5===0&&x())}function U(){V.value=!0,l("hover",!0),a.value&&!i.isMobile.value&&b()}function I(){V.value=!1,l("hover",!1)}function g(E){const C=v.value,A=d.value,D=C.getBoundingClientRect(),J=E.clientX-D.left,te=E.clientY-D.top;A.style.left=`${J}px`,A.style.top=`${te}px`,A.style.transform="scale(0)",A.style.opacity="1",requestAnimationFrame(()=>{A.style.transform="scale(4)",A.style.opacity="0"})}function S(E){if(!v.value)return;const C=v.value.getBoundingClientRect(),A=E.clientX-C.left,D=E.clientY-C.top;for(let J=0;J<8;J++){const te=Math.PI*2*J/8,se=Math.random()*3+2;z({type:"click",x:A,y:D,vx:Math.cos(te)*se,vy:Math.sin(te)*se,size:Math.random()*4+2,color:O[o.variant].base,life:1e3})}}function b(){if(!v.value)return;const E=v.value.getBoundingClientRect(),C=Math.random()*E.width,A=Math.random()*E.height;z({type:"hover",x:C,y:A,vx:(Math.random()-.5)*2,vy:Math.random()*-2-1,size:Math.random()*3+1,color:O[o.variant].glow,life:2e3})}function L(){if(!v.value)return;const E=v.value.getBoundingClientRect(),C=E.width/2,A=E.height/2;for(let D=0;D<15;D++){const J=Math.PI*2*D/15,te=Math.random()*4+3;setTimeout(()=>{z({type:"success",x:C,y:A,vx:Math.cos(J)*te,vy:Math.sin(J)*te,size:Math.random()*5+3,color:"#10b981",life:1500})},D*30)}}function z(E){const C={...E,id:`particle-${N.value++}`};_.value.push(C),setTimeout(()=>{q(C.id)},C.life)}function q(E){const C=_.value.findIndex(A=>A.id===E);C!==-1&&_.value.splice(C,1)}function P(E){return{left:`${E.x}px`,top:`${E.y}px`,width:`${E.size}px`,height:`${E.size}px`,backgroundColor:E.color,"--particle-vx":`${E.vx*20}px`,"--particle-vy":`${E.vy*20}px`,"--particle-life":`${E.life}ms`}}function x(){T.value=!0,L(),l("success"),y&&clearTimeout(y),y=setTimeout(()=>{T.value=!1},o.successDuration)}return t({showSuccess:x,createParticles:S}),It(()=>{y&&clearTimeout(y)}),(E,C)=>(f(),m("button",sr({ref_key:"buttonRef",ref:v,class:["enhanced-btn",`btn-${E.variant}`,`btn-${E.size}`,{"btn-disabled":E.disabled,"btn-loading":E.loading,"btn-success":T.value,"btn-glow":E.glow,"btn-animated":E.animated,"btn-pulsing":E.pulsing}],disabled:E.disabled||E.loading,onClick:$,onMouseenter:U,onMouseleave:I},E.$attrs),[s("div",yf,[C[0]||(C[0]=s("div",{class:"btn-gradient"},null,-1)),u.value?(f(),m("div",bf)):ne("",!0),r.value?(f(),m("div",{key:1,class:"btn-ripple",ref_key:"rippleRef",ref:d},null,512)):ne("",!0)]),s("div",_f,[E.loading?(f(),m("div",Sf,C[1]||(C[1]=[s("div",{class:"spinner"},null,-1)]))):T.value?(f(),m("div",Cf,C[2]||(C[2]=[s("svg",{viewBox:"0 0 24 24",class:"success-check"},[s("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})],-1)]))):(f(),m(ue,{key:2},[E.icon?(f(),m("div",Ef,[typeof E.icon=="object"?(f(),$t(Il(E.icon),{key:0})):(f(),m("span",kf,w(E.icon),1))])):ne("",!0),s("span",wf,[cs(E.$slots,"default",{},()=>[Me(w(E.text),1)])]),E.badge?(f(),m("div",$f,w(E.badge),1)):ne("",!0)],64))]),s("div",{class:"btn-particles",ref_key:"particleContainer",ref:c},[(f(!0),m(ue,null,ve(_.value,A=>(f(),m("div",{key:A.id,class:fe(["btn-particle",`particle-${A.type}`]),style:Ye(P(A)),onAnimationend:D=>q(A.id)},null,46,Tf))),128))],512)],16,gf))}}),bt=Ge(Mf,[["__scopeId","data-v-c03e8518"]]),Af={class:"filament-manager"},Rf={class:"filament-grid"},xf={class:"filament-header"},If={class:"filament-name"},Pf={class:"filament-tier"},Nf={class:"filament-stats"},Of={class:"stat-row"},Lf={class:"stat-value purchased-highlight"},Uf={class:"stat-row"},Ff={class:"stat-value"},Bf={class:"stat-row"},Df={class:"stat-value"},qf={class:"stat-row"},Vf={class:"stat-value"},Gf={key:0,class:"stat-row"},Hf={class:"stat-value milestone-highlight"},jf={key:1,class:"stat-row"},zf={class:"stat-value evolution-highlight"},Yf={key:2,class:"stat-row"},Wf={class:"stat-value next-milestone"},Kf={class:"filament-actions"},Xf={key:0,class:"progress-bar"},Qf={class:"progress-label"},Jf={key:1,class:"evolution-progress"},Zf={class:"evolution-label"},ep={class:"evolution-bar"},tp=Ve({__name:"FilamentManager",setup(e){const t=ge(),n=ps(),{filaments:o}=Ke(t),{animate:i,createParticleBurst:a}=Jo(),r=W(),u=W(new Map);function l(S,b){S&&u.value.set(b,S)}function v(S){return S<=t.maxUnlockedTier}function d(S){const b=o.value[S];if(b.purchased.eq(0))return R(0);let L=b.baseProduction.mul(b.owned);const z=R(2).pow(Math.floor(b.purchased.toNumber()/10));if(L=L.mul(z),L=L.mul(b.purchased),S>0&&o.value[S-1].owned.gt(0)){const q=R(o.value[S-1].owned).pow(.5).mul(R(b.owned).pow(.3));L=L.mul(q)}return L}async function c(S,b){if(!t.canBuyFilament(S))return;const L=t.getFilamentCost(S);t.buyFilament(S,b);const z=b;n.trackFilamentPurchase(S,L.toNumber(),z),await T(S,z)}async function _(S){if(!t.canBuyFilament(S))return;let b=0,L=0;for(;t.canBuyFilament(S)&&b<100;){const z=t.getFilamentCost(S);L+=z.toNumber(),t.buyFilament(S,1),b++}b>0&&(n.trackFilamentPurchase(S,L,b),await T(S,b,!0))}async function T(S,b,L=!1){const z=u.value.get(S);if(!z)return;await i(z,"purchase");const q=z.getBoundingClientRect(),P=q.left+q.width/2,x=q.top+q.height/2;L?(r.value?.createBurstEffect(P-q.left,x-q.top,"purchase",Math.min(b,15)),b>=10&&a(P,x,{type:"purchase",count:20,colors:["#00ff00","#90EE90","#32CD32"]})):r.value?.createParticle("purchase",P-q.left,x-q.top);const E=o.value[S];if(E.owned.gt(0)&&Math.floor(E.owned.toNumber())%10===0){await Cn(),r.value?.createCelebrationEffect(P-q.left,x-q.top);const C=z.querySelector(".stat-value");C&&await i(C,"bounce")}}function V(S){return["","Enhanced","Augmented","Transcendent"][S]||"Unknown"}function F(S){return S.purchased.gt(0)&&S.purchased.toNumber()%10!==0}function N(S){const b=Math.floor(S.purchased.toNumber()/10)+1;return`${b*10-S.purchased.toNumber()} more purchases (×${Math.pow(2,b)})`}function y(S){return S.purchased.toNumber()%10*10}function O(S){return`${S.purchased.toNumber()%10}/10 purchases to next milestone`}function $(S){return S.purchased.toNumber()>=20&&S.evolution<3}function U(S){const b=S.purchased.toNumber();return S.evolution===0?Math.min(100,b/25*100):S.evolution===1?Math.min(100,b/100*100):S.evolution===2?Math.min(100,b/250*100):100}function I(S){const b=S.purchased.toNumber();return S.evolution===0?`Enhanced at 25 purchases (${b}/25)`:S.evolution===1?`Augmented at 100 purchases (${b}/100)`:S.evolution===2?`Transcendent at 250 purchases (${b}/250)`:"Fully Evolved"}function g(S){const b=o.value[S],L=Math.floor(b.owned.toNumber()/10)+1,z=L*10,q=b.evolution>0?`
    <strong>Evolution Stage:</strong> ${V(b.evolution)}<br>
    <strong>Evolution Bonus:</strong> +${b.evolution*50}% base production<br>
  `:`
    <strong>Evolution:</strong> Enhanced at 25 owned<br>
  `;return`
    <div>
      <strong>Base Cost:</strong> ${ye(b.baseCost)}<br>
      <strong>Cost Factor:</strong> ×${b.costFactor}<br>
      <strong>Production Multiplier:</strong> ×${b.productionMultiplier}<br>
      ${q}
      <br>
      <strong>Current Milestone:</strong> ${b.milestone} (×${Math.pow(2,b.milestone)} production)<br>
      <strong>Next Milestone:</strong> At ${z} owned (×${Math.pow(2,L)} production)<br>
      <br>
      <div class="tip">
        <strong>Milestones:</strong> Every 10 purchases doubles production<br>
        <strong>Evolution:</strong> 25/50/75 purchases unlock evolution stages
      </div>
    </div>
  `}return(S,b)=>(f(),m("div",Af,[he(Er,{ref_key:"particleSystem",ref:r,enabled:!0},null,512),b[9]||(b[9]=s("h2",{class:"section-title"},"Cosmic Filaments",-1)),s("div",Rf,[(f(!0),m(ue,null,ve(k(o),(L,z)=>(f(),m("div",{key:L.id,class:fe(["filament-card",{disabled:!v(z)}]),ref_for:!0,ref:q=>l(q,z)},[s("div",xf,[he(hf,{title:L.name,content:g(z),category:k(as).MECHANICS},{default:Ae(()=>[s("h3",If,w(L.name),1)]),_:2},1032,["title","content","category"]),s("span",Pf,"Tier "+w(L.id),1)]),s("div",Nf,[s("div",Of,[b[0]||(b[0]=s("span",{class:"stat-label"},"Purchased:",-1)),s("span",Lf,w(Math.floor(L.purchased.toNumber())),1)]),s("div",Uf,[b[1]||(b[1]=s("span",{class:"stat-label"},"Total:",-1)),s("span",Ff,w(Math.floor(L.owned.toNumber())),1)]),s("div",Bf,[b[2]||(b[2]=s("span",{class:"stat-label"},"Production:",-1)),s("span",Df,w(k(ye)(d(z)))+"/s",1)]),s("div",qf,[b[3]||(b[3]=s("span",{class:"stat-label"},"Cost:",-1)),s("span",Vf,w(k(ye)(k(t).getFilamentCost(z))),1)]),L.milestone>0?(f(),m("div",Gf,[b[4]||(b[4]=s("span",{class:"stat-label"},"Milestone:",-1)),s("span",Hf,w(L.milestone)+" (×"+w(Math.pow(2,L.milestone))+")",1)])):ne("",!0),L.evolution>0?(f(),m("div",jf,[b[5]||(b[5]=s("span",{class:"stat-label"},"Evolution:",-1)),s("span",zf,w(V(L.evolution)),1)])):ne("",!0),F(L)?(f(),m("div",Yf,[b[6]||(b[6]=s("span",{class:"stat-label"},"Next Milestone:",-1)),s("span",Wf,w(N(L)),1)])):ne("",!0)]),s("div",Kf,[he(bt,{size:"small",variant:"primary",disabled:!k(t).canBuyFilament(z),onClick:q=>c(z,1),particles:!0,clickEffect:!0},{default:Ae(()=>b[7]||(b[7]=[Me(" Buy 1 ")])),_:2,__:[7]},1032,["disabled","onClick"]),he(bt,{size:"small",variant:"secondary",disabled:!k(t).canBuyFilament(z),onClick:q=>_(z),particles:!0,clickEffect:!0},{default:Ae(()=>b[8]||(b[8]=[Me(" Buy Max ")])),_:2,__:[8]},1032,["disabled","onClick"])]),L.owned.gt(0)?(f(),m("div",Xf,[s("div",{class:"progress-fill progress-fill-animated",style:Ye({width:`${y(L)}%`})},null,4),s("div",Qf,w(O(L)),1)])):ne("",!0),$(L)?(f(),m("div",Jf,[s("div",Zf,w(I(L)),1),s("div",ep,[s("div",{class:"evolution-fill",style:Ye({width:`${U(L)}%`})},null,4)])])):ne("",!0)],2))),128))])]))}}),np=Ge(tp,[["__scopeId","data-v-4b4b3531"]]),sp={class:"evolution-container"},op={class:"stage-progress"},ip={class:"stages-grid"},ap={class:"stage-header"},rp={class:"stage-number"},lp={key:0,class:"stage-status unlocked"},up={key:1,class:"stage-status locked"},cp={class:"stage-name"},dp={class:"stage-description"},fp={class:"stage-unlock"},pp={key:0},vp={key:1,class:"unlocked-text"},mp={class:"filament-evolution-grid"},hp={class:"filaments-grid"},gp={class:"filament-header"},yp={class:"filament-info"},bp={class:"filament-tier"},_p={class:"filament-name"},Sp={class:"evolution-stage"},Cp={class:"current-stage"},Ep={class:"evolution-progress-bar"},kp={class:"evolution-requirements"},wp={class:"requirement-item"},$p={key:0,class:"requirement-item"},Tp={key:0,class:"evolution-effects"},Mp={class:"effects-list"},Ap={class:"effect-item"},Rp={key:0,class:"effect-item"},xp={key:1,class:"effect-item"},Ip={key:2,class:"effect-item"},Pp={key:3,class:"effect-item unique"},Np={class:"evolution-actions"},Op=["disabled","onClick"],Lp={key:0},Up={key:1},Fp={key:2},Bp={key:3},Dp={key:1,class:"max-evolution-text"},qp=Ve({__name:"FilamentEvolution",setup(e){const t=_r(),n=ge(),{unlockedStages:o,availableEvolutions:i}=Ke(t),{filaments:a,nebularEssence:r}=Ke(n);function u(N){const y=a.value[N];return!y||y.evolution>=3?!1:t.canEvolveFilament(N,y.evolution+1)}function l(N,y){const O=t.getEvolutionCost(N,y);return r.value>=O.toNumber()}function v(N){return{1:5,2:8,3:18}[N]||0}const d=t.canEvolveFilament,c=t.evolveFilament,_=t.getFilamentEvolutionEffects,T=t.getEvolutionCost,V=t.getStageName,F=t.getStageDescription;return(N,y)=>(f(),m("div",sp,[y[5]||(y[5]=s("h2",{class:"section-title"},"Filament Evolution",-1)),y[6]||(y[6]=s("div",{class:"evolution-description"},[s("p",null,"Evolve your filaments through 3 stages to unlock enhanced production, synergies, and unique abilities.")],-1)),s("div",op,[y[0]||(y[0]=s("h3",{class:"subsection-title"},"Evolution Stages",-1)),s("div",ip,[(f(),m(ue,null,ve([1,2,3],O=>s("div",{key:O,class:fe(["stage-card",{unlocked:k(o).has(O),available:k(i).some($=>$.stage===O)}])},[s("div",ap,[s("span",rp,"Stage "+w(O),1),k(o).has(O)?(f(),m("span",lp,"✓")):(f(),m("span",up,"🔒"))]),s("div",cp,w(k(V)(O)),1),s("div",dp,w(k(F)(O)),1),s("div",fp,[k(o).has(O)?(f(),m("span",vp,"Stage Unlocked")):(f(),m("span",pp," Unlocks at "+w(v(O))+" Starlight ",1))])],2)),64))])]),s("div",mp,[y[4]||(y[4]=s("h3",{class:"subsection-title"},"Filament Evolution Status",-1)),s("div",hp,[(f(!0),m(ue,null,ve(k(a),(O,$)=>(f(),m("div",{key:O.id,class:fe(["filament-evolution-card",{"can-evolve":u($),"max-evolution":O.evolution>=3}])},[s("div",gp,[s("div",yp,[s("span",bp,"T"+w(O.id),1),s("span",_p,w(O.name),1)]),s("div",Sp,[s("span",Cp,"Stage "+w(O.evolution),1),s("div",Ep,[s("div",{class:"evolution-fill",style:Ye({width:`${O.evolution/3*100}%`})},null,4)])])]),s("div",kp,[s("div",wp,[y[1]||(y[1]=s("span",null,"Owned:",-1)),s("span",{class:fe({met:O.owned.gte(100)})},w(Math.floor(O.owned.toNumber()))+"/100 ",3)]),O.evolution<3?(f(),m("div",$p,[y[2]||(y[2]=s("span",null,"Cost:",-1)),s("span",{class:fe({met:l($,O.evolution+1)})},w(k(ye)(k(T)($,O.evolution+1)))+" Essence ",3)])):ne("",!0)]),O.evolution>0?(f(),m("div",Tp,[y[3]||(y[3]=s("h4",null,"Current Effects:",-1)),s("div",Mp,[s("div",Ap,"Production ^"+w(k(ye)(k(_)($).productionExponent)),1),k(_)($).costFactorReduction.gt(0)?(f(),m("div",Rp," Cost factor -"+w(k(ye)(k(_)($).costFactorReduction)),1)):ne("",!0),k(_)($).hierarchySynergyMultiplier.gt(1)?(f(),m("div",xp," Hierarchy synergy ×"+w(k(ye)(k(_)($).hierarchySynergyMultiplier)),1)):ne("",!0),k(_)($).gridAdjacencyBonus.gt(1)?(f(),m("div",Ip," Grid adjacency ×"+w(k(ye)(k(_)($).gridAdjacencyBonus)),1)):ne("",!0),k(_)($).uniqueAbility?(f(),m("div",Pp,w(k(_)($).uniqueAbility),1)):ne("",!0)])])):ne("",!0),s("div",Np,[O.evolution<3?(f(),m("button",{key:0,class:"btn btn-primary",disabled:!k(d)($,O.evolution+1),onClick:U=>k(c)($,O.evolution+1)},[k(d)($,O.evolution+1)?(f(),m("span",Lp," Evolve to Stage "+w(O.evolution+1),1)):k(o).has(O.evolution+1)?O.owned.lt(100)?(f(),m("span",Fp," Need 100 Purchases ")):(f(),m("span",Bp," Insufficient Essence ")):(f(),m("span",Up," Stage "+w(O.evolution+1)+" Locked ",1))],8,Op)):(f(),m("span",Dp,"Maximum Evolution"))])],2))),128))])]),y[7]||(y[7]=ds('<div class="evolution-info" data-v-2fbfece7><h3 class="subsection-title" data-v-2fbfece7>Evolution System Information</h3><div class="info-grid" data-v-2fbfece7><div class="info-section" data-v-2fbfece7><h4 data-v-2fbfece7>Stage Effects</h4><p data-v-2fbfece7><strong data-v-2fbfece7>Stage 1:</strong> Production ^1.5, cost factor -0.05</p><p data-v-2fbfece7><strong data-v-2fbfece7>Stage 2:</strong> + Hierarchy synergy ×3, grid adjacency ×1.5</p><p data-v-2fbfece7><strong data-v-2fbfece7>Stage 3:</strong> + Unique tier-specific abilities</p></div><div class="info-section" data-v-2fbfece7><h4 data-v-2fbfece7>Requirements</h4><p data-v-2fbfece7>• 100+ purchases of the filament</p><p data-v-2fbfece7>• Nebular Essence (tier-based cost)</p><p data-v-2fbfece7>• Stage unlocked by Starlight</p></div><div class="info-section" data-v-2fbfece7><h4 data-v-2fbfece7>Stage Unlocks</h4><p data-v-2fbfece7>• Stage 1: 5 Starlight</p><p data-v-2fbfece7>• Stage 2: 8 Starlight</p><p data-v-2fbfece7>• Stage 3: 18 Starlight</p></div><div class="info-section" data-v-2fbfece7><h4 data-v-2fbfece7>Unique Abilities (Stage 3)</h4><p data-v-2fbfece7>Each filament tier gains a unique ability at Stage 3</p><p data-v-2fbfece7>From production bonuses to special mechanics</p></div></div></div>',1))]))}}),Vp=Ge(qp,[["__scopeId","data-v-2fbfece7"]]),Gp={class:"nebula-grid-container"},Hp={class:"nebula-stats"},jp={class:"stat-item"},zp={class:"stat-item"},Yp={class:"stat-item"},Wp={class:"nebula-controls"},Kp={class:"cell-type-selector"},Xp=["onClick"],Qp={key:0,class:"tier-selector"},Jp={class:"tier-buttons"},Zp=["onClick"],ev={class:"grid-actions"},tv=["disabled"],nv=["onClick","onContextmenu"],sv={key:0,class:"cell-content"},ov={class:"cell-type"},iv={key:0,class:"cell-level"},av={key:1,class:"cell-tier"},rv={key:1,class:"cell-placeholder"},lv={key:0,class:"placement-indicator"},uv={class:"pattern-display"},cv={class:"pattern-list"},dv={class:"pattern-name"},fv={class:"pattern-description"},pv={class:"pattern-bonus"},vv={key:0,class:"no-patterns"},mv=Ve({__name:"NebulaGrid",setup(e){const t=Ls(),n=ge(),{grid:o,gridSize:i,nebularEssence:a,placementCost:r,activePatterns:u,discoveredPatterns:l}=Ke(t),v=W(we.STARDUST),d=W(1),c=[{id:we.STARDUST,name:"Stardust",color:"#00b4d8"},{id:we.FILAMENT,name:"Filament",color:"#06ffa5"},{id:we.MULTIPLIER,name:"Multiplier",color:"#7209b7"},{id:we.SYNERGY,name:"Synergy",color:"#ff6b35"},{id:we.CATALYST,name:"Catalyst",color:"#ffd700"}],_=Z(()=>{const S=Math.min(10,n.maxUnlockedTier+1);return Array.from({length:S},(b,L)=>L+1)}),T=Z(()=>R(1e3).mul(R(2).pow(i.value-5))),V=Z(()=>a.value>=T.value.toNumber());function F(S){if(!S)return{};const b=c.find(L=>L.id===S);return{background:`radial-gradient(circle, ${b?.color||"#666"} 0%, transparent 70%)`,border:`2px solid ${b?.color||"#666"}`}}function N(S){switch(S){case we.STARDUST:return"✦";case we.FILAMENT:return"〰";case we.MULTIPLIER:return"✕";case we.SYNERGY:return"◊";case we.CATALYST:return"⚡";default:return"?"}}function y(S,b){return t.canPlaceCell(S,b,v.value)}function O(S,b){if(o.value[b][S].type===null){const z=v.value===we.FILAMENT?d.value:void 0;t.placeCell(S,b,v.value,z)}else t.upgradeCell(S,b)}function $(S,b){t.removeCell(S,b)}function U(){if(confirm("Clear the entire grid? You will get 50% refund for placed cells."))for(let S=0;S<i.value;S++)for(let b=0;b<i.value;b++)t.removeCell(b,S)}function I(){t.expandGrid()}function g(S){switch(S.type){case"production":return`+${((S.value.toNumber()-1)*100).toFixed(0)}% ${S.target} production`;case"multiplier":return`×${S.value.toFixed(1)} ${S.target} multiplier`;case"cost_reduction":return`-${((1-S.value.toNumber())*100).toFixed(0)}% ${S.target} costs`;case"special":return`${S.value.toFixed(1)}× special bonus to ${S.target}`;default:return"Unknown bonus"}}return n.$subscribe((S,b)=>{S.events&&"nebularEssence"in S.events&&(a.value=b.nebularEssence)}),(S,b)=>(f(),m("div",Gp,[b[5]||(b[5]=s("h2",{class:"section-title"},"Nebula Grid System",-1)),s("div",Hp,[s("div",jp,[b[0]||(b[0]=s("span",null,"Nebular Essence:",-1)),s("span",null,w(k(a)),1)]),s("div",zp,[b[1]||(b[1]=s("span",null,"Placement Cost:",-1)),s("span",null,w(k(ye)(k(r))),1)]),s("div",Yp,[b[2]||(b[2]=s("span",null,"Active Patterns:",-1)),s("span",null,w(k(u).length),1)])]),s("div",Wp,[s("div",Kp,[(f(),m(ue,null,ve(c,L=>s("button",{key:L.id,class:fe(["cell-type-btn",{active:v.value===L.id}]),onClick:z=>v.value=L.id},[s("div",{class:"cell-preview",style:Ye(F(L.id))},null,4),s("span",null,w(L.name),1)],10,Xp)),64))]),v.value==="filament"?(f(),m("div",Qp,[b[3]||(b[3]=s("h4",{class:"tier-selector-title"},"Select Filament Tier:",-1)),s("div",Jp,[(f(!0),m(ue,null,ve(_.value,L=>(f(),m("button",{key:L,class:fe(["tier-btn",{active:d.value===L}]),onClick:z=>d.value=L}," Tier "+w(L),11,Zp))),128))])])):ne("",!0),s("div",ev,[s("button",{class:"btn btn-secondary",onClick:U}," Clear Grid "),s("button",{class:"btn btn-secondary",disabled:!V.value,onClick:I}," Expand Grid ("+w(k(ye)(T.value))+") ",9,tv)])]),s("div",{class:"nebula-grid",style:Ye({gridTemplateColumns:`repeat(${k(i)}, 1fr)`})},[(f(!0),m(ue,null,ve(k(o),(L,z)=>(f(),m(ue,{key:`row-${z}`},[(f(!0),m(ue,null,ve(L,(q,P)=>(f(),m("div",{key:`cell-${P}-${z}`,class:fe(["nebula-cell",{active:q.active,empty:q.type===null,"can-place":y(P,z)}]),style:Ye(F(q.type)),onClick:x=>O(P,z),onContextmenu:zo(x=>$(P,z),["prevent"])},[q.type?(f(),m("div",sv,[s("div",ov,w(N(q.type)),1),q.level>1?(f(),m("div",iv,w(q.level),1)):ne("",!0),q.type==="filament"&&q.tier?(f(),m("div",av,"T"+w(q.tier),1)):ne("",!0)])):(f(),m("div",rv,[y(P,z)?(f(),m("div",lv,"+")):ne("",!0)]))],46,nv))),128))],64))),128))],4),s("div",uv,[b[4]||(b[4]=s("h3",{class:"subsection-title"},"Discovered Patterns",-1)),s("div",cv,[(f(!0),m(ue,null,ve(k(l),L=>(f(),m("div",{key:L.id,class:fe(["pattern-item",{active:k(u).includes(L.id)}])},[s("div",dv,w(L.name),1),s("div",fv,w(L.description),1),s("div",pv," Bonus: "+w(g(L.bonus)),1)],2))),128))]),k(l).length===0?(f(),m("div",vv," Place cells in patterns to discover bonuses! ")):ne("",!0)])]))}}),hv=Ge(mv,[["__scopeId","data-v-fd9bfed1"]]),gv={class:"star-pulsation-container"},yv={class:"pulsation-stats"},bv={class:"stat-item"},_v={class:"stat-item"},Sv={class:"stat-item"},Cv={class:"pulsation-controls"},Ev=["disabled"],kv={key:0,class:"pulsation-display"},wv={class:"state-info"},$v={class:"state-description"},Tv={class:"state-progress"},Mv={class:"progress-bar"},Av={class:"progress-text"},Rv={class:"bonus-display"},xv={class:"bonus-grid"},Iv={class:"bonus-item"},Pv={class:"bonus-value"},Nv={class:"bonus-item"},Ov={class:"bonus-value"},Lv={class:"bonus-item"},Uv={class:"bonus-value"},Fv={class:"state-cycle-preview"},Bv={class:"cycle-states"},Dv={class:"state-name"},qv={class:"state-duration"},Vv={class:"state-bonus"},Gv={class:"upgrades-section"},Hv={class:"upgrade-grid"},jv={class:"upgrade-header"},zv={class:"upgrade-name"},Yv={key:0,class:"upgrade-cost"},Wv={class:"upgrade-description"},Kv=["disabled","onClick"],Xv={key:1,class:"purchased-indicator"},Qv=Ve({__name:"StarPulsation",setup(e){const t=Xs(),{cycle:n,isActive:o,stellarEnergy:i,upgrades:a,currentBonus:r,nextStateInfo:u,timeToNextState:l}=Ke(t),v=Object.values(ke),d=Z(()=>a.value.filter(I=>I.unlocked));function c(){return o.value?"Active":"Inactive"}function _(){if(!o.value)return"inactive";switch(n.value.state){case ke.EXPANSION:return"expansion";case ke.CONTRACTION:return"contraction";case ke.STABILITY:return"stability";case ke.CATACLYSM:return"cataclysm";case ke.FUSION:return"fusion";default:return"inactive"}}function T(I){return I.charAt(0).toUpperCase()+I.slice(1)}function V(){switch(n.value.state){case ke.EXPANSION:return"linear-gradient(90deg, var(--accent-green), var(--accent-blue))";case ke.CONTRACTION:return"linear-gradient(90deg, var(--accent-purple), var(--accent-orange))";case ke.STABILITY:return"linear-gradient(90deg, var(--accent-blue), var(--accent-green))";case ke.CATACLYSM:return"linear-gradient(90deg, var(--accent-red), var(--accent-yellow))";case ke.FUSION:return"linear-gradient(90deg, var(--accent-yellow), var(--accent-orange))";default:return"linear-gradient(90deg, var(--accent-blue), var(--accent-purple))"}}function F(I){return{[ke.EXPANSION]:15,[ke.CONTRACTION]:15,[ke.STABILITY]:10,[ke.CATACLYSM]:12,[ke.FUSION]:8}[I].toString()}function N(I){switch(I){case ke.EXPANSION:return"5.0";case ke.CONTRACTION:return"0.75";case ke.STABILITY:return"1.5";case ke.CATACLYSM:return"1.5*";case ke.FUSION:return"1.5";default:return"1.0"}}function y(){t.startPulsation()}function O(){t.stopPulsation()}function $(I){return t.canPurchaseUpgrade(I)}function U(I){t.purchaseUpgrade(I)}return(I,g)=>(f(),m("div",gv,[g[9]||(g[9]=s("h2",{class:"section-title"},"Star Pulsation System",-1)),s("div",yv,[s("div",bv,[g[0]||(g[0]=s("span",null,"Stellar Energy:",-1)),s("span",null,w(k(ye)(k(i),1)),1)]),s("div",_v,[g[1]||(g[1]=s("span",null,"Cycles Completed:",-1)),s("span",null,w(k(n).cyclesCompleted),1)]),s("div",Sv,[g[2]||(g[2]=s("span",null,"Status:",-1)),s("span",{class:fe(_())},w(c()),3)])]),s("div",Cv,[k(o)?(f(),m("button",{key:1,class:"btn btn-secondary",onClick:O}," Stop Pulsation ")):(f(),m("button",{key:0,class:"btn btn-primary",disabled:k(i)<10,onClick:y}," Start Pulsation (10 Stellar Energy) ",8,Ev))]),k(o)?(f(),m("div",kv,[s("div",wv,[s("h3",{class:fe(["current-state",_()])},w(T(k(n).state)),3),s("div",$v,w(k(r).specialEffect),1)]),s("div",Tv,[s("div",Mv,[s("div",{class:"progress-fill",style:Ye({width:`${k(n).progress}%`,background:V()})},null,4)]),s("div",Av,w(Math.floor(k(n).progress))+"% - "+w(k(Qn)(k(l)))+" to "+w(T(k(u))),1)]),s("div",Rv,[g[6]||(g[6]=s("h4",{class:"subsection-title"},"Current Bonuses",-1)),s("div",xv,[s("div",Iv,[g[3]||(g[3]=s("span",null,"Stardust Multiplier:",-1)),s("span",Pv,"×"+w(k(ye)(k(r).stardustMultiplier)),1)]),s("div",Nv,[g[4]||(g[4]=s("span",null,"Filament Efficiency:",-1)),s("span",Ov,"×"+w(k(ye)(k(r).filamentEfficiency)),1)]),s("div",Lv,[g[5]||(g[5]=s("span",null,"Nebular Essence Rate:",-1)),s("span",Uv,"×"+w(k(ye)(k(r).nebularEssenceRate)),1)])])])])):ne("",!0),s("div",Fv,[g[7]||(g[7]=s("h4",{class:"subsection-title"},"Pulsation Cycle",-1)),s("div",Bv,[(f(!0),m(ue,null,ve(k(v),S=>(f(),m("div",{key:S,class:fe(["state-preview",{current:k(o)&&k(n).state===S,active:k(o)}])},[s("div",Dv,w(T(S)),1),s("div",qv,w(F(S))+"s",1),s("div",Vv,"×"+w(N(S)),1)],2))),128))])]),s("div",Gv,[g[8]||(g[8]=s("h4",{class:"subsection-title"},"Pulsation Upgrades",-1)),s("div",Hv,[(f(!0),m(ue,null,ve(d.value,S=>(f(),m("div",{key:S.id,class:fe(["upgrade-item",{purchased:S.purchased,"can-afford":$(S.id)}])},[s("div",jv,[s("span",zv,w(S.name),1),S.purchased?ne("",!0):(f(),m("span",Yv,w(k(ye)(S.cost))+" "+w(S.costType),1))]),s("div",Wv,w(S.description),1),S.purchased?(f(),m("div",Xv,"✓ Purchased")):(f(),m("button",{key:0,class:"btn btn-small",disabled:!$(S.id),onClick:b=>U(S.id)}," Purchase ",8,Kv))],2))),128))])])]))}}),Jv=Ge(Qv,[["__scopeId","data-v-43cace7e"]]),Zv={class:"railroad-container"},em={class:"discovery-mode-toggle"},tm={class:"toggle-label"},nm=["checked"],sm={class:"discovery-description"},om={class:"railroad-stats"},im={class:"stat-item"},am={class:"stat-item"},rm={class:"stat-item"},lm={key:0,class:"stat-item"},um={class:"stat-item"},cm={class:"constellation-tabs"},dm=["onClick","disabled"],fm={class:"constellation-name"},pm={key:0,class:"discovery-progress"},vm={class:"progress-bar-mini"},mm={class:"progress-text"},hm={class:"constellation-status"},gm={key:0,class:"status-active"},ym={key:1,class:"status-available"},bm={key:2,class:"status-discoverable"},_m={key:3,class:"status-locked"},Sm={key:0,class:"constellation-detail"},Cm={key:0,class:"discovery-panel"},Em={class:"discovery-requirements"},km={class:"requirement-list"},wm={class:"requirement-item"},$m={class:"requirement-item"},Tm={key:0,class:"requirement-item"},Mm={class:"discovery-progress-detail"},Am={class:"progress-bar-large"},Rm=["disabled"],xm={key:1,class:"constellation-header"},Im={class:"constellation-title"},Pm={class:"constellation-actions"},Nm=["disabled"],Om={key:2,class:"constellation-effects"},Lm={class:"effect-item advantage"},Um={class:"effect-description"},Fm={class:"effect-item penalty"},Bm={class:"effect-description"},Dm={class:"effect-item special"},qm={class:"effect-description"},Vm={key:3,class:"station-map"},Gm={class:"map-container"},Hm={class:"station-svg",viewBox:"-200 -200 400 400"},jm={class:"connections"},zm=["d"],Ym=["d"],Wm={class:"stations"},Km=["cx","cy","onClick"],Xm=["cx","cy"],Qm={class:"station-labels"},Jm=["x","y"],Zm={key:4,class:"station-list"},eh={class:"station-grid"},th={class:"station-header"},nh={class:"station-name"},sh={key:0,class:"station-visits"},oh={class:"station-effect"},ih={key:0,class:"station-enhancement"},ah={class:"station-actions"},rh=["disabled","onClick"],lh=["disabled","onClick"],uh={key:2,class:"current-station"},ch={class:"group-synergies"},dh={class:"synergy-grid"},fh={class:"synergy-name"},ph={class:"synergy-constellations"},vh={class:"synergy-effect"},mh={key:0,class:"synergy-status"},hh={key:1,class:"intersection-system"},gh={class:"intersection-tabs"},yh=["onClick","disabled"],bh={class:"intersection-name"},_h={class:"intersection-connection"},Sh={class:"intersection-status"},Ch={key:0,class:"status-active"},Eh={key:1,class:"status-available"},kh={key:2,class:"status-locked"},wh={key:0,class:"intersection-detail"},$h={class:"intersection-header"},Th={class:"intersection-title"},Mh={class:"intersection-actions"},Ah=["disabled"],Rh=["disabled"],xh=["disabled"],Ih={class:"intersection-info"},Ph={class:"intersection-effect"},Nh={class:"effect-scaling"},Oh={class:"intersection-requirements"},Lh={class:"requirement-item"},Uh={class:"requirement-item"},Fh={class:"total-bonuses"},Bh={class:"bonus-grid"},Dh={class:"bonus-item"},qh={class:"bonus-value"},Vh={class:"bonus-item"},Gh={class:"bonus-value"},Hh={key:0,class:"bonus-item"},jh={class:"bonus-value"},zh=Ve({__name:"RailRoadNetwork",setup(e){const t=Os(),{cosmicFragments:n,starRails:o,maxActiveConstellations:i,intersectionsUnlocked:a,train:r,activeConstellations:u,constellations:l,intersections:v,activeIntersections:d,maxActiveIntersections:c,groupSynergies:_,totalProductionBonus:T,totalCostMultiplier:V,intersectionSynergyBonus:F,discoveryMode:N,discoveryProgress:y,discoveryRequirements:O}=Ke(t),$=W(null),U=W(null),I=Z(()=>Array.from(l.value.values()).sort((Y,H)=>Y.name.localeCompare(H.name))),g=Z(()=>$.value?l.value.get($.value):null),S=Z(()=>Array.from(v.value.values()).sort((Y,H)=>Y.name.localeCompare(H.name))),b=Z(()=>U.value?v.value.get(U.value):null);function L(Y){$.value=Y}function z(Y){U.value=Y}function q(){return r.value.moving?"Moving":r.value.movementCooldown>0?"Cooling Down":r.value.currentStation?"At Station":"Idle"}function P(){return r.value.moving?"status-moving":r.value.movementCooldown>0?"status-cooldown":r.value.currentStation?"status-station":"status-idle"}function x(Y,H){const Q=Y.position.x/2,re=Y.position.y/2,le=H.position.x/2,be=H.position.y/2;return`M ${Q} ${re} L ${le} ${be}`}function E(Y){$.value&&(Y.unlocked?r.value.currentStation!==Y.id&&!r.value.moving&&t.moveTrain($.value,Y.id):t.canUnlockStation($.value,Y.id)&&t.unlockStation($.value,Y.id))}function C(Y){return Y.split("_").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" ")}function A(Y){return l.value.get(Y)?.name||Y}function D(Y){return u.value.includes(Y)}const J=t.canActivateConstellation,te=t.activateConstellation,se=t.deactivateConstellation,oe=t.canUnlockStation,Ce=t.unlockStation,xe=t.moveTrain,ae=t.canUnlockIntersection,ie=t.unlockIntersection,M=t.canActivateIntersection,G=t.activateIntersection,K=t.deactivateIntersection,pe=t.moveTrainToIntersection,de=Z(()=>Y=>t.canDiscoverConstellation(Y)),Pe=Z(()=>Y=>{const H=y.value.get(Y)||0;return Math.min(100,Math.floor(H*100))}),p=Z(()=>Y=>O.value.get(Y)||{fragments:0,starRails:0}),h=Z(()=>{if(!$.value)return!1;const Y=p.value($.value);return n.value>=Y.fragments}),B=Z(()=>{if(!$.value)return!1;const Y=p.value($.value);return o.value>=Y.starRails}),j=Z(()=>{if(!$.value)return!1;const Y=p.value($.value);return Y.prerequisite?l.value.get(Y.prerequisite)?.unlocked||!1:!0});function X(Y){t.discoverConstellation(Y)}return I.value.length>0&&!$.value&&($.value=I.value[0].id),(Y,H)=>(f(),m("div",Zv,[H[36]||(H[36]=s("h2",{class:"section-title"},"Rail Road Constellation Network",-1)),s("div",em,[s("label",tm,[s("input",{type:"checkbox",checked:k(N),onChange:H[0]||(H[0]=Q=>k(t).toggleDiscoveryMode())},null,40,nm),H[8]||(H[8]=s("span",null,"Discovery Mode",-1))]),s("span",sm,w(k(N)?"Explore and discover new constellations":"All constellations available"),1)]),s("div",om,[s("div",im,[H[9]||(H[9]=s("span",null,"Star Rails:",-1)),s("span",null,w(k(o)),1)]),s("div",am,[H[10]||(H[10]=s("span",null,"Cosmic Fragments:",-1)),s("span",null,w(k(n)),1)]),s("div",rm,[H[11]||(H[11]=s("span",null,"Active Constellations:",-1)),s("span",null,w(k(u).length)+"/"+w(k(i)),1)]),k(a)?(f(),m("div",lm,[H[12]||(H[12]=s("span",null,"Active Intersections:",-1)),s("span",null,w(k(d).length)+"/"+w(k(c)),1)])):ne("",!0),s("div",um,[H[13]||(H[13]=s("span",null,"Train Status:",-1)),s("span",{class:fe(P())},w(q()),3)])]),s("div",cm,[(f(!0),m(ue,null,ve(I.value,Q=>(f(),m("button",{key:Q.id,class:fe(["constellation-tab",{active:$.value===Q.id,activated:Q.activated,unlocked:Q.unlocked,discoverable:k(N)&&!Q.unlocked&&de.value(Q.id)}]),onClick:re=>L(Q.id),disabled:!Q.unlocked&&!(k(N)&&de.value(Q.id))},[s("div",fm,w(Q.name),1),k(N)&&!Q.unlocked?(f(),m("div",pm,[s("div",vm,[s("div",{class:"progress-fill-mini",style:Ye({width:`${Pe.value(Q.id)}%`})},null,4)]),s("span",mm,w(Pe.value(Q.id))+"%",1)])):ne("",!0),s("div",hm,[Q.activated?(f(),m("span",gm,"●")):Q.unlocked?(f(),m("span",ym,"○")):k(N)&&de.value(Q.id)?(f(),m("span",bm,"◆")):(f(),m("span",_m,"✕"))])],10,dm))),128))]),g.value||k(N)&&$.value?(f(),m("div",Sm,[k(N)&&$.value&&!g.value?.unlocked?(f(),m("div",Cm,[H[20]||(H[20]=s("h3",{class:"discovery-title"},"Undiscovered Constellation",-1)),s("div",Em,[H[19]||(H[19]=s("h4",null,"Discovery Requirements:",-1)),s("div",km,[s("div",wm,[H[14]||(H[14]=s("span",null,"Cosmic Fragments:",-1)),s("span",{class:fe({met:h.value})},w(k(n))+"/"+w(p.value($.value).fragments),3)]),s("div",$m,[H[15]||(H[15]=s("span",null,"Star Rails:",-1)),s("span",{class:fe({met:B.value})},w(k(o))+"/"+w(p.value($.value).starRails),3)]),$.value&&p.value($.value).prerequisite?(f(),m("div",Tm,[H[16]||(H[16]=s("span",null,"Prerequisite:",-1)),s("span",{class:fe({met:j.value})},w($.value?A(p.value($.value).prerequisite):"None"),3)])):ne("",!0)]),s("div",Mm,[H[17]||(H[17]=s("h4",null,"Exploration Progress:",-1)),s("div",Am,[s("div",{class:"progress-fill-large",style:Ye({width:`${Pe.value($.value)}%`})},null,4)]),H[18]||(H[18]=s("p",{class:"progress-hint"},"Visit nearby constellation stations to increase progress",-1))]),s("button",{class:"btn btn-primary btn-discover",disabled:!de.value($.value),onClick:H[1]||(H[1]=Q=>X($.value))}," Discover Constellation ",8,Rm)])])):g.value?(f(),m("div",xm,[s("h3",Im,w(g.value.name),1),s("div",Pm,[!g.value.activated&&$.value?(f(),m("button",{key:0,class:"btn btn-primary",disabled:!k(J)($.value),onClick:H[2]||(H[2]=Q=>k(te)($.value))}," Activate ("+w(g.value.activationCost)+" Star Rails) ",9,Nm)):$.value?(f(),m("button",{key:1,class:"btn btn-secondary",onClick:H[3]||(H[3]=Q=>k(se)($.value))}," Deactivate ")):ne("",!0)])])):ne("",!0),g.value?(f(),m("div",Om,[s("div",Lm,[H[21]||(H[21]=s("span",{class:"effect-label"},"Advantage:",-1)),s("span",Um,w(g.value.advantage.description),1)]),s("div",Fm,[H[22]||(H[22]=s("span",{class:"effect-label"},"Penalty:",-1)),s("span",Bm,w(g.value.penalty.description),1)]),s("div",Dm,[H[23]||(H[23]=s("span",{class:"effect-label"},"Special:",-1)),s("span",qm,w(g.value.specialMechanism),1)])])):ne("",!0),g.value?(f(),m("div",Vm,[H[24]||(H[24]=s("h4",{class:"subsection-title"},"Station Network",-1)),s("div",Gm,[(f(),m("svg",Hm,[s("g",jm,[(f(!0),m(ue,null,ve(g.value.stations,(Q,re)=>(f(),m(ue,{key:`connection-${re}`},[re<g.value.stations.length-1?(f(),m("path",{key:0,d:x(Q,g.value.stations[re+1]),class:fe(["station-connection",{active:Q.unlocked&&g.value.stations[re+1].unlocked}])},null,10,zm)):ne("",!0)],64))),128)),g.value.stations.length>2?(f(),m("path",{key:0,d:x(g.value.stations[g.value.stations.length-1],g.value.stations[0]),class:fe(["station-connection",{active:g.value.stations[0].unlocked&&g.value.stations[g.value.stations.length-1].unlocked}])},null,10,Ym)):ne("",!0)]),s("g",Wm,[(f(!0),m(ue,null,ve(g.value.stations,Q=>(f(),m("circle",{key:Q.id,cx:Q.position.x/2,cy:Q.position.y/2,r:12,class:fe(["station-node",{unlocked:Q.unlocked,current:k(r).currentStation===Q.id,enhanced:Q.visitCount>0}]),onClick:re=>E(Q)},null,10,Km))),128)),k(r).currentConstellation===$.value?(f(),m("circle",{key:0,cx:k(r).position.x/2,cy:k(r).position.y/2,r:"8",class:fe(["train-marker",{moving:k(r).moving}])},null,10,Xm)):ne("",!0)]),s("g",Qm,[(f(!0),m(ue,null,ve(g.value.stations,Q=>(f(),m("text",{key:`label-${Q.id}`,x:Q.position.x/2,y:Q.position.y/2+25,class:"station-label","text-anchor":"middle"},w(Q.name),9,Jm))),128))])]))])])):ne("",!0),g.value?(f(),m("div",Zm,[H[25]||(H[25]=s("h4",{class:"subsection-title"},"Station Details",-1)),s("div",eh,[(f(!0),m(ue,null,ve(g.value.stations,Q=>(f(),m("div",{key:Q.id,class:fe(["station-card",{unlocked:Q.unlocked,current:k(r).currentStation===Q.id,enhanced:Q.visitCount>0}])},[s("div",th,[s("span",nh,w(Q.name),1),Q.visitCount>0?(f(),m("span",sh,w(Q.visitCount)+" visits ",1)):ne("",!0)]),s("div",oh,w(Q.effect.description),1),Q.visitCount>0?(f(),m("div",ih," Enhancement: +"+w(Math.min(Q.visitCount*.05,5).toFixed(2))+"% ("+w(Q.visitCount)+"/100 visits) ",1)):ne("",!0),s("div",ah,[!Q.unlocked&&$.value?(f(),m("button",{key:0,class:"btn btn-small",disabled:!k(oe)($.value,Q.id),onClick:re=>k(Ce)($.value,Q.id)}," Unlock ("+w(Q.unlockCost)+" Star Rails) ",9,rh)):k(r).currentStation!==Q.id&&$.value?(f(),m("button",{key:1,class:"btn btn-small btn-secondary",disabled:k(r).moving||k(r).movementCooldown>0,onClick:re=>k(xe)($.value,Q.id)}," Visit Station ",8,lh)):(f(),m("span",uh,"Current Location"))])],2))),128))])])):ne("",!0)])):ne("",!0),s("div",ch,[H[26]||(H[26]=s("h4",{class:"subsection-title"},"Constellation Group Synergies",-1)),s("div",dh,[(f(!0),m(ue,null,ve(k(_),Q=>(f(),m("div",{key:Q.group,class:fe(["synergy-item",{active:Q.active}])},[s("div",fh,w(C(Q.group)),1),s("div",ph,w(Q.constellations.map(re=>A(re)).join(", ")),1),s("div",vh,w(Q.specialEffect),1),Q.active?(f(),m("div",mh,"✓ Active")):ne("",!0)],2))),128))])]),k(a)?(f(),m("div",hh,[H[30]||(H[30]=s("h4",{class:"subsection-title"},"Rail Road Intersections",-1)),H[31]||(H[31]=s("div",{class:"intersection-status"},[s("p",{class:"unlock-message"}," Intersections unlocked! Connect different constellations for powerful bonuses. ")],-1)),s("div",gh,[(f(!0),m(ue,null,ve(S.value,Q=>(f(),m("button",{key:Q.id,class:fe(["intersection-tab",{active:U.value===Q.id,activated:Q.activated,unlocked:Q.unlocked}]),onClick:re=>z(Q.id),disabled:!Q.unlocked},[s("div",bh,w(Q.name),1),s("div",_h,w(A(Q.connectedConstellations[0]))+" ↔ "+w(A(Q.connectedConstellations[1])),1),s("div",Sh,[Q.activated?(f(),m("span",Ch,"●")):Q.unlocked?(f(),m("span",Eh,"○")):(f(),m("span",kh,"✕"))])],10,yh))),128))]),b.value?(f(),m("div",wh,[s("div",$h,[s("h5",Th,w(b.value.name),1),s("div",Mh,[b.value.unlocked?b.value.activated?(f(),m("button",{key:2,class:"btn btn-secondary",onClick:H[6]||(H[6]=Q=>U.value&&k(K)(U.value))}," Deactivate ")):(f(),m("button",{key:1,class:"btn btn-primary",disabled:!U.value||!k(M)(U.value),onClick:H[5]||(H[5]=Q=>U.value&&k(G)(U.value))}," Activate ",8,Rh)):(f(),m("button",{key:0,class:"btn btn-primary",disabled:!U.value||!k(ae)(U.value),onClick:H[4]||(H[4]=Q=>U.value&&k(ie)(U.value))}," Unlock ("+w(b.value.activationCost)+" Star Rails) ",9,Ah)),b.value.unlocked?(f(),m("button",{key:3,class:"btn btn-action",disabled:k(r).moving||k(r).movementCooldown>0,onClick:H[7]||(H[7]=Q=>U.value&&k(pe)(U.value))}," Move Train Here ",8,xh)):ne("",!0)])]),s("div",Ih,[s("div",Ph,[H[27]||(H[27]=s("h6",null,"Intersection Effect",-1)),s("p",null,w(b.value.effect.description),1),s("div",Nh,[s("span",null,"Base: "+w(k(ye)(b.value.effect.baseValue)),1),s("span",null,"Max: "+w(k(ye)(b.value.effect.maxValue)),1),s("span",null,"Visits: "+w(b.value.visitCount),1)])]),s("div",Oh,[H[28]||(H[28]=s("h6",null,"Requirements",-1)),H[29]||(H[29]=s("div",{class:"requirement-item"},[s("span",null,"Both constellations must be unlocked and active")],-1)),s("div",Lh,[s("span",null,[Me(w(A(b.value.connectedConstellations[0]))+": ",1),s("span",{class:fe({met:D(b.value.connectedConstellations[0])})},w(D(b.value.connectedConstellations[0])?"Active":"Inactive"),3)])]),s("div",Uh,[s("span",null,[Me(w(A(b.value.connectedConstellations[1]))+": ",1),s("span",{class:fe({met:D(b.value.connectedConstellations[1])})},w(D(b.value.connectedConstellations[1])?"Active":"Inactive"),3)])])])])])):ne("",!0)])):ne("",!0),s("div",Fh,[H[35]||(H[35]=s("h4",{class:"subsection-title"},"Total Constellation Effects",-1)),s("div",Bh,[s("div",Dh,[H[32]||(H[32]=s("span",null,"Production Bonus:",-1)),s("span",qh,"×"+w(k(ye)(k(T))),1)]),s("div",Vh,[H[33]||(H[33]=s("span",null,"Cost Multiplier:",-1)),s("span",Gh,"×"+w(k(ye)(k(V))),1)]),k(a)?(f(),m("div",Hh,[H[34]||(H[34]=s("span",null,"Intersection Synergy:",-1)),s("span",jh,"×"+w(k(ye)(k(F))),1)])):ne("",!0)])])]))}}),Yh=Ge(zh,[["__scopeId","data-v-2f3938fa"]]),Wh={key:0,class:"memory-container"},Kh={class:"memory-stats"},Xh={class:"stat-item"},Qh={class:"stat-item"},Jh={class:"stat-item"},Zh={class:"memory-slots"},eg={class:"slots-grid"},tg={class:"slot-header"},ng={class:"slot-id"},sg={key:0,class:"priority-badge"},og={key:0,class:"slot-content"},ig={class:"target-name"},ag={class:"target-type"},rg={class:"preservation-rate"},lg={class:"slot-actions"},ug=["disabled","onClick"],cg=["onClick"],dg={key:1,class:"slot-empty"},fg=["disabled","onClick"],pg={key:0,class:"available-targets"},vg={class:"targets-grid"},mg=["onClick"],hg={class:"target-header"},gg={class:"target-name"},yg={class:"target-type"},bg={class:"target-details"},_g={class:"preservation-info"},Sg={class:"target-description"},Cg=Ve({__name:"StarMemory",setup(e){const t=Yo(),n=ge(),{unlocked:o,maxSlots:i,slots:a,preservationBonus:r,availableSlots:u,occupiedSlots:l}=Ke(t),v=W(!1),d=W(null),c=Z(()=>t.getAvailableTargets()),_=Z(()=>n.starlight.amount.gte(25));function T(U){d.value=U,v.value=!0}function V(){d.value=null,v.value=!1}function F(U){d.value&&t.assignTarget(d.value,U)&&V()}function N(U){return{filament:"Filament Evolution",nebula:"Nebula Pattern",railroad:"Railroad Progress",upgrades:"Upgrade Branch"}[U]||U}function y(U){switch(U.type){case"filament":return"Preserves filament evolution stage";case"nebula":return"Preserves complete nebula pattern";case"railroad":return"Preserves constellation stations and enhancements";case"upgrades":return"Preserves upgrade branch progress";default:return"Unknown target type"}}const O=t.removeTarget,$=t.setPriorityPreservation;return(U,I)=>k(o)?(f(),m("div",Wh,[I[6]||(I[6]=s("h2",{class:"section-title"},"Star Memory System",-1)),s("div",Kh,[s("div",Xh,[I[0]||(I[0]=s("span",null,"Available Slots:",-1)),s("span",null,w(k(u))+"/"+w(k(i)),1)]),s("div",Qh,[I[1]||(I[1]=s("span",null,"Preservation Bonus:",-1)),s("span",null,"×"+w(k(ye)(k(r))),1)]),s("div",Jh,[I[2]||(I[2]=s("span",null,"Total Targets:",-1)),s("span",null,w(k(l).length),1)])]),s("div",Zh,[I[4]||(I[4]=s("h3",{class:"subsection-title"},"Memory Slots",-1)),s("div",eg,[(f(!0),m(ue,null,ve(k(a),g=>(f(),m("div",{key:g.id,class:fe(["memory-slot",{occupied:g.occupied,priority:g.priority>0,available:!g.occupied}])},[s("div",tg,[s("span",ng,"Slot "+w(g.id.split("_")[1]),1),g.priority>0?(f(),m("span",sg,"Priority")):ne("",!0)]),g.occupied&&g.target?(f(),m("div",og,[s("div",ig,w(g.target.name),1),s("div",ag,w(N(g.target.type)),1),s("div",rg," Preservation: "+w((g.preservationRate.toNumber()*100).toFixed(1))+"% ",1),s("div",lg,[_.value?(f(),m("button",{key:0,class:"btn btn-small btn-priority",disabled:g.priority>0,onClick:S=>k($)(g.id)}," Set Priority ",8,ug)):ne("",!0),s("button",{class:"btn btn-small btn-remove",onClick:S=>k(O)(g.id)}," Remove ",8,cg)])])):(f(),m("div",dg,[I[3]||(I[3]=s("div",{class:"empty-message"},"Empty Slot",-1)),s("button",{class:"btn btn-small",disabled:c.value.length===0,onClick:S=>T(g.id)}," Assign Target ",8,fg)]))],2))),128))])]),v.value?(f(),m("div",pg,[I[5]||(I[5]=s("h3",{class:"subsection-title"},"Available Preservation Targets",-1)),s("div",vg,[(f(!0),m(ue,null,ve(c.value,g=>(f(),m("div",{key:g.id,class:fe(["target-card",`target-${g.type}`]),onClick:S=>F(g)},[s("div",hg,[s("span",gg,w(g.name),1),s("span",yg,w(N(g.type)),1)]),s("div",bg,[s("div",_g," Base Preservation: "+w((g.preservationRate.toNumber()*100).toFixed(1))+"% ",1),s("div",Sg,w(y(g)),1)])],10,mg))),128))]),s("div",{class:"selection-actions"},[s("button",{class:"btn btn-secondary",onClick:V}," Cancel ")])])):ne("",!0),I[7]||(I[7]=ds('<div class="memory-info" data-v-496ba07b><h3 class="subsection-title" data-v-496ba07b>System Information</h3><div class="info-grid" data-v-496ba07b><div class="info-item" data-v-496ba07b><h4 data-v-496ba07b>Slot Expansion</h4><p data-v-496ba07b>• 8 Starlight: +1 slot (2 total)</p><p data-v-496ba07b>• 15 Starlight: +2 slots (3 total)</p><p data-v-496ba07b>• 25 Starlight: +2 slots (5 total max)</p></div><div class="info-item" data-v-496ba07b><h4 data-v-496ba07b>Preservation Types</h4><p data-v-496ba07b>• Filament Evolution: 50% of stage</p><p data-v-496ba07b>• Nebula Patterns: 100% preservation</p><p data-v-496ba07b>• Railroad Progress: 30% of path</p><p data-v-496ba07b>• Upgrades: 25% of branch</p></div><div class="info-item" data-v-496ba07b><h4 data-v-496ba07b>Priority Preservation</h4><p data-v-496ba07b>Available at 25 Starlight</p><p data-v-496ba07b>Provides 100% preservation</p><p data-v-496ba07b>Uses 1 slot per target</p></div></div></div>',1))])):ne("",!0)}}),Eg=Ge(Cg,[["__scopeId","data-v-496ba07b"]]),kg={key:0,class:"upgrade-container"},wg={class:"upgrade-stats"},$g={class:"stat-item"},Tg={class:"stat-item"},Mg={class:"stat-item"},Ag={class:"stat-item"},Rg={class:"branch-tabs"},xg=["onClick"],Ig={class:"upgrade-tree-container"},Pg={class:"tree-visualization"},Ng={class:"tree-svg",viewBox:"-600 -600 1200 1200"},Og={class:"connections"},Lg=["x1","y1","x2","y2"],Ug={class:"upgrade-nodes"},Fg=["transform","onClick"],Bg={class:"upgrade-tier-text","text-anchor":"middle",dy:"5"},Dg={class:"upgrade-labels"},qg=["x","y"],Vg={key:0,class:"upgrade-details"},Gg={class:"upgrade-detail-card"},Hg={class:"upgrade-header"},jg={class:"upgrade-title"},zg={class:"upgrade-cost"},Yg={class:"upgrade-description"},Wg={class:"upgrade-effects"},Kg={class:"effects-list"},Xg={key:0,class:"upgrade-requirements"},Qg={class:"prerequisites-list"},Jg={class:"upgrade-actions"},Zg=["disabled"],ey={key:0},ty={key:1},ny={key:2},sy={key:1,class:"purchased-indicator"},oy={class:"branch-info"},iy={class:"branch-descriptions"},ay={key:0,class:"branch-desc"},ry={key:1,class:"branch-desc"},ly={key:2,class:"branch-desc"},uy={key:3,class:"branch-desc"},cy={key:1,class:"path-warning"},dy={key:1,class:"upgrade-locked"},fy={class:"locked-content"},py={class:"unlock-progress"},vy=Ve({__name:"UpgradeTree",setup(e){const t=br(),n=ge(),{unlocked:o,totalStarlightSpent:i,pathLocked:a,purchasedUpgradesList:r,availableUpgrades:u,unlockedBranches:l,upgradeData:v}=Ke(t),{starlight:d}=Ke(n),c=W(Ne.PRODUCTION),_=W(null),T=Z(()=>{const U=Array.from(v.value.values());return c.value===Ne.PRODUCTION?U.filter(I=>I.branch===Ne.PRODUCTION||I.id==="star_core"):U.filter(I=>I.branch===c.value||I.id==="star_core")});function V(U){return{[Ne.PRODUCTION]:"Heart of the Star",[Ne.SYSTEM]:"Shoulders of the Universe",[Ne.EVOLUTION]:"River of Time",[Ne.EXPANSION]:"Will of the Stars"}[U]||U}function F(U){return v.value.get(U)}function N(U){return v.value.get(U)?.purchased||!1}function y(U){_.value=U}const O=t.canPurchaseUpgrade,$=t.purchaseUpgrade;return v.value.has("star_core")&&(_.value=v.value.get("star_core")),(U,I)=>k(o)?(f(),m("div",kg,[I[13]||(I[13]=s("h2",{class:"section-title"},"Upgrade Tree - Star Core",-1)),s("div",wg,[s("div",$g,[I[1]||(I[1]=s("span",null,"Total Starlight Spent:",-1)),s("span",null,w(k(ye)(k(i))),1)]),s("div",Tg,[I[2]||(I[2]=s("span",null,"Purchased Upgrades:",-1)),s("span",null,w(k(r).length),1)]),s("div",Mg,[I[3]||(I[3]=s("span",null,"Available Upgrades:",-1)),s("span",null,w(k(u).length),1)]),s("div",Ag,[I[4]||(I[4]=s("span",null,"Path Status:",-1)),s("span",{class:fe(k(a)?"path-locked":"path-flexible")},w(k(a)?"Locked":"Flexible"),3)])]),s("div",Rg,[(f(!0),m(ue,null,ve(k(l),g=>(f(),m("button",{key:g,class:fe(["branch-tab",{active:c.value===g}]),onClick:S=>c.value=g},w(V(g)),11,xg))),128))]),s("div",Ig,[s("div",Pg,[(f(),m("svg",Ng,[s("g",Og,[(f(!0),m(ue,null,ve(T.value,g=>(f(),m(ue,{key:`connection-${g.id}`},[(f(!0),m(ue,null,ve(g.unlockCondition.prerequisites,S=>(f(),m(ue,{key:`line-${S}-${g.id}`},[F(S)?(f(),m("line",{key:0,x1:F(S)?.position.x||0,y1:F(S)?.position.y||0,x2:g.position.x,y2:g.position.y,class:fe(["connection-line",{active:N(S)&&N(g.id),available:N(S)&&g.unlocked}])},null,10,Lg)):ne("",!0)],64))),128))],64))),128))]),s("g",Ug,[(f(!0),m(ue,null,ve(T.value,g=>(f(),m("g",{key:g.id,transform:`translate(${g.position.x}, ${g.position.y})`,class:fe(["upgrade-node",{purchased:g.purchased,available:g.unlocked&&!g.purchased,locked:!g.unlocked,"star-core":g.id==="star_core"}]),onClick:S=>y(g)},[s("circle",{r:"25",class:fe(["upgrade-circle",`tier-${g.tier}`])},null,2),s("text",Bg," T"+w(g.tier),1)],10,Fg))),128))]),s("g",Dg,[(f(!0),m(ue,null,ve(T.value,g=>(f(),m("text",{key:`label-${g.id}`,x:g.position.x,y:g.position.y+45,class:"upgrade-name","text-anchor":"middle"},w(g.name),9,qg))),128))])]))])]),_.value?(f(),m("div",Vg,[s("div",Gg,[s("div",Hg,[s("h3",jg,w(_.value.name),1),s("div",zg," Cost: "+w(_.value.cost)+" Starlight ",1)]),s("div",Yg,w(_.value.description),1),s("div",Wg,[I[5]||(I[5]=s("h4",null,"Effects:",-1)),s("div",Kg,[(f(!0),m(ue,null,ve(_.value.effects,g=>(f(),m("div",{key:g.description,class:"effect-item"},w(g.description),1))),128))])]),_.value.unlockCondition.prerequisites.length>0?(f(),m("div",Xg,[I[6]||(I[6]=s("h4",null,"Prerequisites:",-1)),s("div",Qg,[(f(!0),m(ue,null,ve(_.value.unlockCondition.prerequisites,g=>(f(),m("div",{key:g,class:fe(["prerequisite",{met:N(g)}])},w(F(g)?.name||g),3))),128))])])):ne("",!0),s("div",Jg,[_.value.purchased?(f(),m("span",sy,"✓ Purchased")):(f(),m("button",{key:0,class:"btn btn-primary",disabled:!k(O)(_.value.id),onClick:I[0]||(I[0]=g=>k($)(_.value.id))},[k(O)(_.value.id)?(f(),m("span",ey,"Purchase Upgrade")):_.value.unlocked?(f(),m("span",ny,"Insufficient Starlight")):(f(),m("span",ty,"Not Unlocked"))],8,Zg))])])])):ne("",!0),s("div",oy,[I[11]||(I[11]=s("h3",{class:"subsection-title"},"Branch Information",-1)),s("div",iy,[c.value==="production"?(f(),m("div",ay,I[7]||(I[7]=[s("h4",null,'"Heart of the Star" - Production Branch',-1),s("p",null,"Focuses on enhancing stellar production, milestone effects, and energy acceleration. Culminates in harnessing supernova energy for massive production gains.",-1)]))):ne("",!0),c.value==="system"?(f(),m("div",ry,I[8]||(I[8]=[s("h4",null,'"Shoulders of the Universe" - System Branch',-1),s("p",null,"Enhances synergistic interactions between cosmic systems. Advanced upgrades introduce paradoxical effects and auto-optimization capabilities.",-1)]))):ne("",!0),c.value==="evolution"?(f(),m("div",ly,I[9]||(I[9]=[s("h4",null,'"River of Time" - Evolution Branch',-1),s("p",null,"Manipulates temporal flows to enhance Starburst effects and preserve progress through resets. Master time itself with eternal preservation loops.",-1)]))):ne("",!0),c.value==="expansion"?(f(),m("div",uy,I[10]||(I[10]=[s("h4",null,'"Will of the Stars" - Expansion Branch',-1),s("p",null,"Expands dimensional boundaries and cosmic influence. Access parallel realities and bend the very fabric of space-time to your will.",-1)]))):ne("",!0)])]),k(a)?(f(),m("div",cy,I[12]||(I[12]=[s("div",{class:"warning-content"},[s("h4",null,"⚠️ Upgrade Paths Locked"),s("p",null,"You have committed to specific upgrade paths. Changing paths requires a Starlight reset."),s("p",null,"This is a strategic choice that defines your progression approach.")],-1)]))):ne("",!0)])):(f(),m("div",dy,[s("div",fy,[I[14]||(I[14]=s("h2",null,"Upgrade Tree System",-1)),I[15]||(I[15]=s("p",null,"Unlocks at 1 Starlight",-1)),s("div",py,[s("span",null,"Current Starlight: "+w(k(ye)(k(d).amount)),1)])])]))}}),my=Ge(vy,[["__scopeId","data-v-25ae5172"]]),hy={class:"automation-system"},gy={key:0,class:"automation-section"},yy={class:"automation-grid"},by={class:"automation-header"},_y={class:"automation-name"},Sy={class:"automation-status"},Cy={key:0,class:"status-enabled"},Ey={key:1,class:"status-disabled"},ky={class:"automation-description"},wy={class:"automation-details"},$y={class:"detail-row"},Ty={class:"detail-row"},My={class:"automation-actions"},Ay={key:1,class:"automation-locked"},Ry={class:"locked-content"},xy={class:"progress-indicator"},Iy=Ve({__name:"AutomationSystem",setup(e){const t=Sr(),n=ge();function o(r){return n.starlight.amount.gte(r.cost)}function i(r){t.purchaseAutomation()}function a(r){t.toggleAutomation()}return(r,u)=>(f(),m("div",hy,[u[5]||(u[5]=s("h2",{class:"section-title"},"Automation System",-1)),u[6]||(u[6]=s("div",{class:"automation-description"},[s("p",null,"Automate your Aether operations to maximize efficiency and reduce manual clicking.")],-1)),k(t).unlocked?(f(),m("div",gy,[u[3]||(u[3]=s("h3",{class:"subsection-title"},"Available Automations",-1)),s("div",yy,[(f(!0),m(ue,null,ve(k(t).availableAutomations,l=>(f(),m("div",{key:l.id,class:fe(["automation-card",{enabled:l.enabled,affordable:o(l)}])},[s("div",by,[s("h4",_y,w(l.name),1),s("div",Sy,[l.enabled?(f(),m("span",Cy,"ENABLED")):(f(),m("span",Ey,"DISABLED"))])]),s("div",ky,w(l.description),1),s("div",wy,[s("div",$y,[u[0]||(u[0]=s("span",null,"Interval:",-1)),s("span",null,w(l.interval/1e3)+"s",1)]),s("div",Ty,[u[1]||(u[1]=s("span",null,"Cost:",-1)),s("span",null,w(k(ye)(l.cost))+" Starlight",1)])]),s("div",My,[l.enabled?(f(),$t(bt,{key:1,onClick:v=>a(l.id),variant:l.active?"warning":"secondary",size:"small",clickEffect:!0},{default:Ae(()=>[Me(w(l.active?"Pause":"Resume"),1)]),_:2},1032,["onClick","variant"])):(f(),$t(bt,{key:0,disabled:!o(l),onClick:v=>i(l.id),variant:"primary",size:"small",particles:!0},{default:Ae(()=>u[2]||(u[2]=[Me(" Purchase ")])),_:2,__:[2]},1032,["disabled","onClick"]))])],2))),128))])])):(f(),m("div",Ay,[s("div",Ry,[u[4]||(u[4]=s("h3",null,"🤖 Automation System Locked",-1)),s("p",null,"Unlock automation at "+w(k(t).unlockRequirement)+" Starlight",1),s("div",xy,[s("span",null,"Current: "+w(k(ye)(k(n).starlight.amount))+" Starlight",1)])])]))]))}}),Py=Ge(Iy,[["__scopeId","data-v-b7995f94"]]),Ny={key:0,class:"events-container"},Oy={class:"events-stats"},Ly={class:"stat-item"},Uy={class:"stat-item"},Fy={class:"stat-item"},By={key:0,class:"active-events"},Dy={class:"events-grid"},qy={class:"event-header"},Vy={class:"event-name"},Gy={class:"event-description"},Hy={class:"event-timer"},jy={class:"timer-bar"},zy={class:"timer-text"},Yy={class:"event-effects"},Wy={class:"effects-list"},Ky={key:1,class:"pending-choices"},Xy={class:"choices-grid"},Qy={class:"choice-header"},Jy={class:"choice-title"},Zy={key:0,class:"choice-timer"},e1={class:"choice-description"},t1={class:"choice-options"},n1=["onClick"],s1={class:"option-text"},o1={class:"option-effects"},i1={key:2,class:"event-history"},a1={class:"history-list"},r1={class:"history-time"},l1={class:"history-event"},u1={key:0,class:"history-choices"},c1={key:1,class:"locked-message"},d1=Ve({__name:"SpecialEvents",setup(e){const t=Ko(),{unlocked:n,maxActiveEvents:o,globalEventMultiplier:i,discoveredEvents:a,eventHistory:r}=Ke(t),{currentActiveEvents:u,currentPendingChoices:l}=Ke(t),v=Z(()=>r.value.slice(-10).reverse());function d(T){return T.charAt(0).toUpperCase()+T.slice(1)}function c(T){const F=Date.now()-T,N=Math.floor(F/6e4);if(N<1)return"Just now";if(N<60)return`${N}m ago`;const y=Math.floor(N/60);return y<24?`${y}h ago`:`${Math.floor(y/24)}d ago`}function _(T,V){t.makeEventChoice(T,V)}return(T,V)=>k(n)?(f(),m("div",Ny,[V[7]||(V[7]=s("h2",{class:"section-title"},"Special Events",-1)),s("div",Oy,[s("div",Ly,[V[0]||(V[0]=s("span",null,"Active Events:",-1)),s("span",null,w(k(u).length)+"/"+w(k(o)),1)]),s("div",Uy,[V[1]||(V[1]=s("span",null,"Discovered Events:",-1)),s("span",null,w(k(a).size),1)]),s("div",Fy,[V[2]||(V[2]=s("span",null,"Global Multiplier:",-1)),s("span",null,"×"+w(k(ye)(k(i))),1)])]),k(u).length>0?(f(),m("div",By,[V[4]||(V[4]=s("h3",{class:"subsection-title"},"Active Events",-1)),s("div",Dy,[(f(!0),m(ue,null,ve(k(u),F=>(f(),m("div",{key:F.id,class:fe(["event-card",`event-${F.rarity}`,"active"])},[s("div",qy,[s("span",Vy,w(F.name),1),s("span",{class:fe(["event-rarity",`rarity-${F.rarity}`])},w(d(F.rarity)),3)]),s("div",Gy,w(F.description),1),s("div",Hy,[s("div",jy,[s("div",{class:"timer-fill",style:Ye({width:`${F.remainingTime/F.duration*100}%`})},null,4)]),s("span",zy,w(k(Qn)(F.remainingTime))+" remaining ",1)]),s("div",Yy,[V[3]||(V[3]=s("h4",null,"Effects:",-1)),s("div",Wy,[(f(!0),m(ue,null,ve(F.effects,N=>(f(),m("div",{key:N.description,class:fe(["effect-item",`effect-${N.type}`])},w(N.description),3))),128))])])],2))),128))])])):ne("",!0),k(l).length>0?(f(),m("div",Ky,[V[5]||(V[5]=s("h3",{class:"subsection-title"},"Event Choices",-1)),s("div",Xy,[(f(!0),m(ue,null,ve(k(l),F=>(f(),m("div",{key:F.id,class:"choice-card"},[s("div",Qy,[s("h4",Jy,w(F.title),1),F.timeLimit?(f(),m("div",Zy,w(Math.ceil(F.timeLimit))+"s to choose ",1)):ne("",!0)]),s("div",e1,w(F.description),1),s("div",t1,[(f(!0),m(ue,null,ve(F.options,N=>(f(),m("button",{key:N.id,class:"choice-option btn",onClick:y=>_(F.id,N.id)},[s("div",s1,w(N.text),1),s("div",o1,[(f(!0),m(ue,null,ve(N.effects,y=>(f(),m("span",{key:y.description,class:"option-effect"},w(y.description),1))),128))])],8,n1))),128))])]))),128))])])):ne("",!0),k(r).length>0?(f(),m("div",i1,[V[6]||(V[6]=s("h3",{class:"subsection-title"},"Recent Events",-1)),s("div",a1,[(f(!0),m(ue,null,ve(v.value,(F,N)=>(f(),m("div",{key:N,class:"history-item"},[s("div",r1,w(c(F.timestamp)),1),s("div",l1," Event: "+w(F.eventId),1),F.choicesMade.length>0?(f(),m("div",u1," Choices: "+w(F.choicesMade.join(", ")),1)):ne("",!0)]))),128))])])):ne("",!0),V[8]||(V[8]=ds('<div class="event-info" data-v-6fba1ec0><h3 class="subsection-title" data-v-6fba1ec0>Event System Information</h3><div class="info-grid" data-v-6fba1ec0><div class="info-item" data-v-6fba1ec0><h4 data-v-6fba1ec0>Event Types</h4><p data-v-6fba1ec0>• Cosmic Storm: Production vs Cost trade-offs</p><p data-v-6fba1ec0>• Stellar Alignment: Synergy and constellation boosts</p><p data-v-6fba1ec0>• Nebula Surge: Pattern creation bonuses</p><p data-v-6fba1ec0>• Temporal Flux: Time-based effects</p><p data-v-6fba1ec0>• Supernova Echo: Massive but rare bonuses</p></div><div class="info-item" data-v-6fba1ec0><h4 data-v-6fba1ec0>Event Rarity</h4><p data-v-6fba1ec0>• Common: Frequent, small effects</p><p data-v-6fba1ec0>• Uncommon: Moderate effects</p><p data-v-6fba1ec0>• Rare: Strong effects, longer cooldowns</p><p data-v-6fba1ec0>• Epic: Very powerful, rare occurrence</p><p data-v-6fba1ec0>• Legendary: Game-changing, unique events</p></div><div class="info-item" data-v-6fba1ec0><h4 data-v-6fba1ec0>Unlock Requirements</h4><p data-v-6fba1ec0>• System unlocks at 10 Starlight</p><p data-v-6fba1ec0>• Max active events increase with progression</p><p data-v-6fba1ec0>• Some events require specific milestones</p><p data-v-6fba1ec0>• Choices may have resource costs</p></div></div></div>',1))])):(f(),m("div",c1,V[9]||(V[9]=[s("h3",null,"Special Events System",-1),s("p",null,"Unlock at 10 Starlight to discover cosmic events!",-1)])))}}),f1=Ge(d1,[["__scopeId","data-v-6fba1ec0"]]),p1={key:0,class:"condensation-container"},v1={class:"condensation-stats"},m1={class:"stat-item"},h1={class:"stat-item"},g1={class:"stat-item"},y1={class:"essence-section"},b1={class:"essence-grid"},_1={class:"essence-header"},S1={class:"essence-name"},C1={class:"essence-amount"},E1={class:"essence-description"},k1={class:"essence-bonuses"},w1={class:"targets-section"},$1={class:"targets-grid"},T1={class:"target-header"},M1={class:"target-name"},A1={class:"target-priority"},R1={class:"target-description"},x1={class:"target-values"},I1={class:"current-value"},P1={class:"condensation-rate"},N1={class:"essence-gain"},O1={class:"target-actions"},L1=["disabled","onClick"],U1={class:"priority-controls"},F1=["onClick","disabled"],B1=["onClick","disabled"],D1={class:"controls-section"},q1={class:"controls-grid"},V1={class:"control-group"},G1=["disabled"],H1={class:"control-group"},j1={class:"auto-controls"},z1={class:"checkbox-label"},Y1={class:"mode-selector"},W1={key:0,class:"threshold-input"},K1={key:0,class:"presets-section"},X1={key:0,class:"existing-presets"},Q1={class:"preset-header"},J1={class:"preset-name"},Z1={class:"preset-actions"},eb=["onClick","disabled"],tb=["onClick"],nb={class:"preset-description"},sb={key:1,class:"create-preset"},ob={class:"preset-form"},ib={class:"nova-preview-section"},ab={class:"nova-preview-card"},rb={class:"preview-header"},lb={class:"preview-requirements"},ub={class:"requirements-list"},cb={class:"req-icon"},db={class:"req-text"},fb={class:"preview-power"},pb={class:"power-value"},vb={class:"preview-features"},mb={class:"features-list"},hb={class:"preserved-progress"},gb={class:"preservation-list"},yb={key:1,class:"history-section"},bb={class:"history-list"},_b={class:"history-time"},Sb={class:"history-targets"},Cb={class:"history-power"},Eb={key:1,class:"locked-message"},kb={class:"unlock-progress"},wb={class:"progress-item"},$b={class:"progress-item"},Tb=Ve({__name:"CondensationSystem",setup(e){const t=Xo(),n=ge(),{unlocked:o,availableTargets:i,essenceTypes:a,totalCondensationPower:r,presets:u,activePreset:l,autoCondensationEnabled:v,condensationThreshold:d,condensationHistory:c,condensationMode:_}=Ke(t),{unlockedTargets:T,totalEssenceAmount:V,novaLayerPreview:F,canCondense:N}=Ke(t),y=W(!1),O=W(""),$=W(""),U=W(d.value.toString()),I=Z(()=>c.value.slice(-5).reverse());function g(te){return te.charAt(0).toUpperCase()+te.slice(1)+" Essence"}function S(te){switch(te.type){case"resource":return te.id.includes("starlight")?"temporal":"stellar";case"progress":return te.id.includes("filament")?"cosmic":"dimensional";case"system":return te.id.includes("pulsation")?"temporal":"dimensional";default:return"stellar"}}function b(te){return{essence_bonuses:"Essence Bonuses",mastery_levels:"Mastery Levels",unlock_speed:"Unlock Speed Bonus"}[te]||te}function L(te){const oe=Date.now()-te,Ce=Math.floor(oe/6e4);return Ce<1?"Just now":Ce<60?`${Ce}m ago`:`${Math.floor(Ce/60)}h ago`}function z(te,se){const oe=i.value.find(Ce=>Ce.id===te);oe&&(oe.priority=Math.max(1,Math.min(10,oe.priority+se)))}function q(){try{d.value=R(U.value)}catch{U.value=d.value.toString()}}function P(){O.value.trim()&&(t.createPreset(O.value,$.value),x())}function x(){y.value=!1,O.value="",$.value=""}function E(te){const se=u.value.findIndex(oe=>oe.id===te);se>=0&&(u.value.splice(se,1),l.value===te&&(l.value=null))}function C(){alert("Nova Layer transition would begin here! This will be implemented when the Nova Layer is designed.")}const A=t.condenseTarget,D=t.condenseAll,J=t.applyPreset;return(te,se)=>k(o)?(f(),m("div",p1,[se[28]||(se[28]=s("h2",{class:"section-title"},"Condensation System",-1)),se[29]||(se[29]=s("p",{class:"system-description"}," Prepare for the Nova Layer by condensing your progress into powerful essences that will carry forward. ",-1)),s("div",v1,[s("div",m1,[se[7]||(se[7]=s("span",null,"Total Condensation Power:",-1)),s("span",null,w(k(ye)(k(r))),1)]),s("div",h1,[se[8]||(se[8]=s("span",null,"Available Targets:",-1)),s("span",null,w(k(T).length),1)]),s("div",g1,[se[9]||(se[9]=s("span",null,"Total Essence:",-1)),s("span",null,w(k(ye)(k(V))),1)])]),s("div",y1,[se[10]||(se[10]=s("h3",{class:"subsection-title"},"Condensed Essences",-1)),s("div",b1,[(f(!0),m(ue,null,ve(k(a),([oe,Ce])=>(f(),m("div",{key:oe,class:fe(["essence-card",`essence-${oe}`])},[s("div",_1,[s("span",S1,w(g(oe)),1),s("span",C1,w(k(ye)(Ce.amount)),1)]),s("div",E1,w(Ce.description),1),s("div",k1,[(f(!0),m(ue,null,ve(Ce.bonuses,xe=>(f(),m("div",{key:xe.description,class:"bonus-item"},w(xe.description),1))),128))])],2))),128))])]),s("div",w1,[se[11]||(se[11]=s("h3",{class:"subsection-title"},"Condensation Targets",-1)),s("div",$1,[(f(!0),m(ue,null,ve(k(T),oe=>(f(),m("div",{key:oe.id,class:fe(["target-card",`target-${oe.type}`,{"can-condense":oe.currentValue.gt(0)}])},[s("div",T1,[s("span",M1,w(oe.name),1),s("span",A1,"Priority "+w(oe.priority),1)]),s("div",R1,w(oe.description),1),s("div",x1,[s("div",I1," Current: "+w(k(ye)(oe.currentValue)),1),s("div",P1," Rate: "+w((oe.condensationRate.toNumber()*100).toFixed(1))+"% ",1),s("div",N1," Gain: "+w(k(ye)(oe.currentValue.mul(oe.condensationRate)))+" "+w(g(S(oe))),1)]),s("div",O1,[s("button",{class:"btn btn-condense",disabled:oe.currentValue.lte(0),onClick:Ce=>k(A)(oe.id)}," Condense ",8,L1),s("div",U1,[s("button",{class:"btn-small btn-priority",onClick:Ce=>z(oe.id,-1),disabled:oe.priority<=1}," - ",8,F1),s("span",null,w(oe.priority),1),s("button",{class:"btn-small btn-priority",onClick:Ce=>z(oe.id,1),disabled:oe.priority>=10}," + ",8,B1)])])],2))),128))])]),s("div",D1,[se[19]||(se[19]=s("h3",{class:"subsection-title"},"Condensation Controls",-1)),s("div",q1,[s("div",V1,[se[12]||(se[12]=s("h4",null,"Manual Operations",-1)),s("button",{class:"btn btn-large btn-condense-all",disabled:!k(N)||k(T).every(oe=>oe.currentValue.lte(0)),onClick:se[0]||(se[0]=oe=>k(D)())}," Condense All Targets ",8,G1),se[13]||(se[13]=s("p",{class:"control-description"}," Condense all available targets based on their priority and current values. ",-1))]),s("div",H1,[se[18]||(se[18]=s("h4",null,"Auto-Condensation",-1)),s("div",j1,[s("label",z1,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":se[1]||(se[1]=oe=>De(v)?v.value=oe:null)},null,512),[[tt,k(v)]]),se[14]||(se[14]=Me(" Enable Auto-Condensation "))]),s("div",Y1,[se[16]||(se[16]=s("label",null,"Mode:",-1)),Fe(s("select",{"onUpdate:modelValue":se[2]||(se[2]=oe=>De(_)?_.value=oe:null),class:"select-input"},se[15]||(se[15]=[s("option",{value:"manual"},"Manual Only",-1),s("option",{value:"threshold"},"Threshold Based",-1),s("option",{value:"optimal"},"Optimal Timing",-1),s("option",{value:"timed"},"Timed Intervals",-1)]),512),[[In,k(_)]])]),k(_)==="threshold"?(f(),m("div",W1,[se[17]||(se[17]=s("label",null,"Threshold:",-1)),Fe(s("input",{type:"text","onUpdate:modelValue":se[3]||(se[3]=oe=>U.value=oe),onBlur:q,class:"text-input",placeholder:"1e50"},null,544),[[ws,U.value]])])):ne("",!0)])])])]),k(u).length>0||y.value?(f(),m("div",K1,[se[20]||(se[20]=s("h3",{class:"subsection-title"},"Condensation Presets",-1)),k(u).length>0?(f(),m("div",X1,[(f(!0),m(ue,null,ve(k(u),oe=>(f(),m("div",{key:oe.id,class:fe(["preset-card",{active:k(l)===oe.id}])},[s("div",Q1,[s("span",J1,w(oe.name),1),s("div",Z1,[s("button",{class:"btn-small",onClick:Ce=>k(J)(oe.id),disabled:k(l)===oe.id}," Apply ",8,eb),s("button",{class:"btn-small btn-remove",onClick:Ce=>E(oe.id)}," × ",8,tb)])]),s("div",nb,w(oe.description),1)],2))),128))])):ne("",!0),y.value?(f(),m("div",sb,[s("div",ob,[Fe(s("input",{"onUpdate:modelValue":se[4]||(se[4]=oe=>O.value=oe),placeholder:"Preset name",class:"text-input"},null,512),[[ws,O.value]]),Fe(s("input",{"onUpdate:modelValue":se[5]||(se[5]=oe=>$.value=oe),placeholder:"Description",class:"text-input"},null,512),[[ws,$.value]]),s("div",{class:"form-actions"},[s("button",{class:"btn",onClick:P},"Create"),s("button",{class:"btn btn-secondary",onClick:x},"Cancel")])])])):(f(),m("button",{key:2,class:"btn btn-create-preset",onClick:se[6]||(se[6]=oe=>y.value=!0)}," Create New Preset "))])):ne("",!0),s("div",ib,[se[26]||(se[26]=s("h3",{class:"subsection-title"},"Nova Layer Preview",-1)),s("div",ab,[s("div",rb,[se[21]||(se[21]=s("span",{class:"preview-title"},"Next Layer: Nova",-1)),s("span",{class:fe(["preview-status",{ready:k(F).unlocked}])},w(k(F).unlocked?"Ready!":"Requirements Not Met"),3)]),s("div",lb,[se[22]||(se[22]=s("h4",null,"Requirements:",-1)),s("div",ub,[(f(!0),m(ue,null,ve(k(F).requirements,oe=>(f(),m("div",{key:oe.description,class:fe(["requirement-item",{met:oe.met}])},[s("span",cb,w(oe.met?"✓":"✗"),1),s("span",db,w(oe.description),1)],2))),128))])]),s("div",fb,[se[23]||(se[23]=s("h4",null,"Estimated Nova Layer Power:",-1)),s("span",pb,w(k(ye)(k(F).estimatedPower)),1)]),s("div",vb,[se[24]||(se[24]=s("h4",null,"New Systems:",-1)),s("ul",mb,[(f(!0),m(ue,null,ve(k(F).newSystems,oe=>(f(),m("li",{key:oe},w(oe),1))),128))])]),s("div",hb,[se[25]||(se[25]=s("h4",null,"Preserved Progress:",-1)),s("div",gb,[(f(!0),m(ue,null,ve(k(F).preservedProgress,([oe,Ce])=>(f(),m("div",{key:oe,class:"preservation-item"},[s("span",null,w(b(oe))+":",1),s("span",null,w(k(ye)(Ce)),1)]))),128))])]),k(F).unlocked?(f(),m("button",{key:0,class:"btn btn-large btn-nova-transition",onClick:C}," Ascend to Nova Layer ")):ne("",!0)])]),k(c).length>0?(f(),m("div",yb,[se[27]||(se[27]=s("h3",{class:"subsection-title"},"Recent Condensations",-1)),s("div",bb,[(f(!0),m(ue,null,ve(I.value,(oe,Ce)=>(f(),m("div",{key:Ce,class:"history-item"},[s("div",_b,w(L(oe.timestamp)),1),s("div",Sb," Condensed: "+w(oe.targetsCondensed.join(", ")),1),s("div",Cb," Power: "+w(k(ye)(oe.totalPowerBefore))+" → "+w(k(ye)(oe.totalPowerAfter)),1)]))),128))])])):ne("",!0)])):(f(),m("div",Eb,[se[32]||(se[32]=s("h3",null,"Condensation System",-1)),se[33]||(se[33]=s("p",null,"Unlock at 75 Starlight and 25 Starbursts to prepare for the Nova Layer!",-1)),s("div",kb,[s("div",wb,[se[30]||(se[30]=s("span",null,"Starlight:",-1)),s("span",null,w(k(ye)(k(n).starlight.amount))+" / 75",1)]),s("div",$b,[se[31]||(se[31]=s("span",null,"Starbursts:",-1)),s("span",null,w(k(n).starburstCount)+" / 25",1)])])]))}}),Mb=Ge(Tb,[["__scopeId","data-v-35fadbed"]]),Ab={class:"reset-system"},Rb={class:"reset-options"},xb={class:"reset-card starburst"},Ib={class:"reset-header"},Pb={class:"reset-status"},Nb={key:0,class:"available"},Ob={key:1,class:"unavailable"},Lb={class:"reset-info"},Ub={class:"info-row"},Fb={class:"info-row"},Bb={class:"info-row"},Db={class:"info-row"},qb={key:0,class:"info-row"},Vb={class:"reset-effects"},Gb={key:0},Hb={key:1},jb={class:"reset-actions"},zb={class:"reset-card starlight"},Yb={class:"reset-header"},Wb={class:"reset-status"},Kb={key:0,class:"available"},Xb={key:1,class:"unavailable"},Qb={class:"reset-info"},Jb={class:"info-row"},Zb={class:"info-row"},e0={class:"info-row"},t0={class:"reset-effects"},n0={class:"reset-actions"},s0={class:"reset-card supernova disabled"},o0={class:"reset-actions"},i0=Ve({__name:"ResetSystem",setup(e){const t=ge(),{starburstCount:n,starlight:o}=Ke(t),i=Z(()=>{if(n.value===0)return R(1);let N=R(1);if(n.value<=4)N=R(2).pow(n.value);else if(n.value<=8){const O=R(2).pow(4),$=R(3).pow(n.value-4);N=O.mul($)}else{const O=R(2).pow(4),$=R(3).pow(4),U=R(3).pow(n.value-8);N=O.mul($).mul(U)}const y=R(1.1).pow(o.value.amount);return N.mul(y)}),a=()=>{const N=n.value+1;let y=R(1);if(N<=4)y=R(2).pow(N);else if(N<=8){const $=R(2).pow(4),U=R(3).pow(N-4);y=$.mul(U)}else{const $=R(2).pow(4),U=R(3).pow(4),I=R(3).pow(N-8);y=$.mul(U).mul(I)}const O=R(1.1).pow(o.value.amount);return y.mul(O)},r=Z(()=>t.canGetStarlight?1:0);function u(){confirm("Perform Starburst reset? This will reset Stardust and Filaments but keep Starlight and unlocks.")&&t.performStarburst()}function l(){const N=n.value;return N===0?"Purchase Tier 4 OR reach 1e20 Stardust":N>=1&&N<=3?"25 of highest tier filament":N>=4&&N<=7?`${50+(N-4)*25} of highest tier filament`:`${50+5*(N-8)} Remnant Filaments`}function v(){const N=n.value;if(N===0){const y=t.filaments[3].owned.gt(0),O=ye(t.stardust.amount);return y?"Tier 4 purchased ✓":O}else{if(N>=8)return ye(t.filaments[9].owned);{const y=d();return ye(t.filaments[y]?.owned||R(0))}}}function d(){const N=Math.min(9,3+n.value);for(let y=N;y>=0;y--)if(t.filaments[y].owned.gt(0))return y;return 0}function c(){const N=n.value;return N===0?"Breakthrough: Unlock Tier 5 filament":N<=3?`Unlock Tier ${Math.min(10,N+5)} filament`:N===4?"Enhanced scaling begins (x3 multiplier)":"Continued exponential growth"}function _(){const N=n.value;return N===4?"Star Echo System at 5th Starburst":N===6?"All filament tiers unlocked":null}function T(){return n.value===0}function V(){return n.value===4}function F(){confirm("Get Starlight? This will reset more progress but provide valuable Starlight currency.")&&t.performStarlightReset()}return(N,y)=>(f(),m("div",Ab,[y[19]||(y[19]=s("h2",{class:"section-title"},"Reset System",-1)),y[20]||(y[20]=s("div",{class:"reset-description"},[s("p",null,"Strategic resets can accelerate your progress through powerful bonuses and unlock new content.")],-1)),s("div",Rb,[s("div",xb,[s("div",Ib,[y[0]||(y[0]=s("h3",null,"🌟 Starburst",-1)),s("div",Pb,[k(t).canStarburst?(f(),m("span",Nb,"AVAILABLE")):(f(),m("span",Ob,"LOCKED"))])]),s("div",Lb,[s("div",Ub,[y[1]||(y[1]=s("span",null,"Requirement:",-1)),s("span",null,w(l()),1)]),s("div",Fb,[y[2]||(y[2]=s("span",null,"Current:",-1)),s("span",null,w(v()),1)]),s("div",Bb,[y[3]||(y[3]=s("span",null,"Count:",-1)),s("span",null,w(k(t).starburstCount),1)]),s("div",Db,[y[4]||(y[4]=s("span",null,"Multiplier:",-1)),s("span",null,w(k(ye)(i.value))+"×",1)]),_()?(f(),m("div",qb,[y[5]||(y[5]=s("span",null,"Next Unlock:",-1)),s("span",null,w(_()),1)])):ne("",!0)]),s("div",Vb,[y[7]||(y[7]=s("h4",null,"Effects:",-1)),s("ul",null,[s("li",null,w(c()),1),s("li",null,"Production multiplier: ×"+w(k(ye)(a())),1),y[6]||(y[6]=s("li",null,"Keep: Starlight, upgrades, unlocks, milestones",-1)),T()?(f(),m("li",Gb,"Unlock Tier 5 and Rail Road system")):ne("",!0),V()?(f(),m("li",Hb,"🌟 Unlock Star Echo System!")):ne("",!0)])]),s("div",jb,[he(bt,{disabled:!k(t).canStarburst,onClick:u,variant:"primary",size:"medium",particles:!0,glow:k(t).canStarburst},{default:Ae(()=>y[8]||(y[8]=[Me(" Perform Starburst ")])),_:1,__:[8]},8,["disabled","glow"])])]),s("div",zb,[s("div",Yb,[y[9]||(y[9]=s("h3",null,"✨ Get Starlight",-1)),s("div",Wb,[k(t).canGetStarlight?(f(),m("span",Kb,"AVAILABLE")):(f(),m("span",Xb,"LOCKED"))])]),s("div",Qb,[s("div",Jb,[y[10]||(y[10]=s("span",null,"Requirement:",-1)),s("span",null,w(k(ye)(k(R)("1e100")))+" Stardust",1)]),s("div",Zb,[y[11]||(y[11]=s("span",null,"Gain:",-1)),s("span",null,w(r.value)+" Starlight",1)]),s("div",e0,[y[12]||(y[12]=s("span",null,"Total:",-1)),s("span",null,w(k(ye)(k(t).starlight.amount)),1)])]),s("div",t0,[y[15]||(y[15]=s("h4",null,"Effects:",-1)),s("ul",null,[s("li",null,"Gain "+w(r.value)+" Starlight",1),y[13]||(y[13]=s("li",null,"Reset: Stardust, Starbursts, Filaments",-1)),y[14]||(y[14]=s("li",null,"Keep: Star Rail, Upgrades, Memory",-1))])]),s("div",n0,[he(bt,{disabled:!k(t).canGetStarlight,onClick:F,variant:"secondary",size:"medium",particles:!0,glow:k(t).canGetStarlight},{default:Ae(()=>y[16]||(y[16]=[Me(" Get Starlight ")])),_:1,__:[16]},8,["disabled","glow"])])]),s("div",s0,[y[18]||(y[18]=ds('<div class="reset-header" data-v-dd448e12><h3 data-v-dd448e12>💥 Supernova</h3><div class="reset-status" data-v-dd448e12><span class="future" data-v-dd448e12>FUTURE</span></div></div><div class="reset-info" data-v-dd448e12><div class="info-row" data-v-dd448e12><span data-v-dd448e12>Requirement:</span><span data-v-dd448e12>Nova Layer</span></div></div><div class="reset-effects" data-v-dd448e12><h4 data-v-dd448e12>Effects:</h4><ul data-v-dd448e12><li data-v-dd448e12>Transition to Nova Layer</li><li data-v-dd448e12>Massive bonuses and new mechanics</li><li data-v-dd448e12>Progress preservation system</li></ul></div>',3)),s("div",o0,[he(bt,{disabled:"",variant:"ghost",size:"medium"},{default:Ae(()=>y[17]||(y[17]=[Me(" Coming Soon ")])),_:1,__:[17]})])])]),y[21]||(y[21]=s("div",{class:"reset-warning"},[s("h3",null,"⚠️ Reset Safety"),s("p",null,'All resets are carefully designed to provide progression benefits. Review the "Keep" and "Reset" lists before proceeding.')],-1))]))}}),a0=Ge(i0,[["__scopeId","data-v-dd448e12"]]),r0={class:"production-info"},l0={class:"production-section"},u0={class:"production-breakdown"},c0={class:"production-item"},d0={class:"production-item total"},f0={key:0,class:"production-section"},p0={class:"multiplier-breakdown"},v0={key:0,class:"multiplier-item"},m0={key:1,class:"multiplier-item"},h0={class:"production-section"},g0={class:"goal-breakdown"},y0={key:0,class:"goal-item"},b0={key:1,class:"goal-item"},_0=Ve({__name:"ProductionInfo",setup(e){const t=ge(),{stardust:n,starlight:o,filaments:i,starburstCount:a,totalStardustProduction:r,canStarburst:u,canGetStarlight:l}=Ke(t),v=Z(()=>i.value.filter(N=>N.owned.gt(0))),d=Z(()=>a.value===0?R(1):R(2).mul(R(1.1).pow(o.value.amount)).pow(a.value)),c=Z(()=>a.value>0||n.value.multiplier.gt(1)),_=Z(()=>{if(u.value)return"Available";const y=R("1e100").sub(n.value.amount).div(r.value).toNumber();return Qn(y)}),T=Z(()=>{if(l.value)return"Available";const y=R("1e100").sub(n.value.amount).div(r.value).toNumber();return Qn(y)}),V=Z(()=>{const N=[];for(let y=0;y<i.value.length;y++)if((y===0||i.value[y-1].owned.gt(0))&&!t.canBuyFilament(y)){const $=t.getFilamentCost(y).sub(n.value.amount);if($.gt(0)){const U=$.div(r.value).toNumber();N.push(Qn(U))}else N.push("Available")}return N});function F(N){const y=i.value[N];if(y.owned.eq(0))return R(0);let O=y.baseProduction.mul(y.owned);const $=R(2).pow(Math.floor(y.owned.toNumber()/10));if(O=O.mul($),N>0&&i.value[N-1].owned.gt(0)){const U=i.value[N-1].owned.pow(.5).mul(y.owned.pow(.3));O=O.mul(U)}return O}return(N,y)=>(f(),m("div",r0,[y[9]||(y[9]=s("h2",{class:"section-title"},"Production Info",-1)),s("div",l0,[y[2]||(y[2]=s("h3",{class:"subsection-title"},"Stardust Production",-1)),s("div",u0,[s("div",c0,[y[0]||(y[0]=s("span",null,"Base Production:",-1)),s("span",null,w(k(ye)(k(n).production))+"/s",1)]),(f(!0),m(ue,null,ve(v.value,(O,$)=>(f(),m("div",{class:"production-item",key:O.id},[s("span",null,w(O.name)+":",1),s("span",null,w(k(ye)(F($)))+"/s",1)]))),128)),s("div",d0,[y[1]||(y[1]=s("span",null,"Total Production:",-1)),s("span",null,w(k(ye)(k(r)))+"/s",1)])])]),c.value?(f(),m("div",f0,[y[5]||(y[5]=s("h3",{class:"subsection-title"},"Multipliers",-1)),s("div",p0,[k(a)>0?(f(),m("div",v0,[y[3]||(y[3]=s("span",null,"Starburst:",-1)),s("span",null,w(k(ye)(d.value))+"x",1)])):ne("",!0),k(n).multiplier.gt(1)?(f(),m("div",m0,[y[4]||(y[4]=s("span",null,"Other:",-1)),s("span",null,w(k(ye)(k(n).multiplier))+"x",1)])):ne("",!0)])])):ne("",!0),s("div",h0,[y[8]||(y[8]=s("h3",{class:"subsection-title"},"Time to Goals",-1)),s("div",g0,[k(u)?ne("",!0):(f(),m("div",y0,[y[6]||(y[6]=s("span",null,"Starburst:",-1)),s("span",null,w(_.value),1)])),k(l)?ne("",!0):(f(),m("div",b0,[y[7]||(y[7]=s("span",null,"Starlight:",-1)),s("span",null,w(T.value),1)])),(f(!0),m(ue,null,ve(V.value,(O,$)=>(f(),m("div",{class:"goal-item",key:$},[s("span",null,w(k(i)[$].name)+":",1),s("span",null,w(O),1)]))),128))])])]))}}),S0=Ge(_0,[["__scopeId","data-v-762751f9"]]),C0={class:"notification-container"},E0={class:"notification-header"},k0={class:"notification-content"},w0={class:"achievement-name"},$0={class:"achievement-description"},T0={key:0,class:"achievement-reward"},M0=["onClick"],A0={class:"notification-progress"},R0=Ve({__name:"AchievementNotification",setup(e){const t=ps(),{recentNotifications:n,notificationDuration:o}=Ke(t),i=W(new Set),a=W(new Map),r=Z(()=>n.value.filter(T=>!T.dismissed));function u(T){return i.value.has(T.timestamp)}function l(T){const V=Date.now()-T.timestamp;return 100-Math.max(0,Math.min(100,V/o.value*100))}function v(T){return T.charAt(0).toUpperCase()+T.slice(1)}function d(T){t.dismissNotification(T);const V=a.value.get(T.timestamp);V&&(clearInterval(V),a.value.delete(T.timestamp)),i.value.delete(T.timestamp)}let c=0;function _(){const T=r.value.length;T>c&&r.value.slice(c).forEach(F=>{i.value.add(F.timestamp),setTimeout(()=>{i.value.delete(F.timestamp)},500);const N=setInterval(()=>{Date.now()-F.timestamp>=o.value&&d(F)},100);a.value.set(F.timestamp,N)}),c=T}return It(()=>{a.value.forEach(T=>clearInterval(T)),a.value.clear()}),kt(()=>{const T=setInterval(_,100);It(()=>{clearInterval(T)})}),(T,V)=>(f(),$t($a,{to:"body"},[s("div",C0,[he(Wu,{name:"notification",tag:"div"},{default:Ae(()=>[(f(!0),m(ue,null,ve(r.value,F=>(f(),m("div",{key:F.timestamp,class:fe(["achievement-notification",`rarity-${F.achievement.rarity}`,{entering:u(F)}])},[s("div",E0,[V[2]||(V[2]=s("div",{class:"notification-icon"},[s("span",{class:"achievement-icon"},"🏆"),s("div",{class:"rarity-glow"})],-1)),s("div",k0,[V[1]||(V[1]=s("div",{class:"notification-title"},"Achievement Unlocked!",-1)),s("div",w0,w(F.achievement.name),1),s("div",$0,w(F.achievement.description),1),F.achievement.reward?(f(),m("div",T0,[V[0]||(V[0]=s("span",{class:"reward-icon"},"🎁",-1)),Me(" "+w(F.achievement.reward.description),1)])):ne("",!0)]),s("button",{class:"notification-close",onClick:N=>d(F)}," × ",8,M0)]),s("div",A0,[s("div",{class:"progress-bar",style:Ye({width:`${l(F)}%`,animationDuration:`${k(o)}ms`})},null,4)]),s("div",{class:fe(["rarity-indicator",`rarity-${F.achievement.rarity}`])},w(v(F.achievement.rarity)),3)],2))),128))]),_:1})])]))}}),x0=Ge(R0,[["__scopeId","data-v-8deaf63c"]]),I0={class:"monitor-status"},P0={class:"status-text"},N0={class:"monitor-toggle"},O0={key:0,class:"monitor-content"},L0={class:"metrics-section"},U0={class:"metric-grid"},F0={class:"metric-item"},B0={key:0,class:"metric-item"},D0={class:"metric-item"},q0={class:"metric-value"},V0={class:"device-section"},G0={class:"device-info"},H0={class:"device-item"},j0={class:"device-value"},z0={class:"device-item"},Y0={class:"device-value"},W0={key:0,class:"device-item"},K0={class:"device-value"},X0={class:"settings-section"},Q0={class:"optimization-toggles"},J0={class:"toggle-item"},Z0=["disabled"],e_={key:0,class:"toggle-disabled"},t_={class:"toggle-item"},n_={class:"toggle-item"},s_={class:"toggle-item"},o_={class:"actions-section"},i_=["disabled"],a_=["disabled"],r_={key:0,class:"tips-section"},l_={class:"tips-list"},u_=Ve({__name:"PerformanceMonitor",props:{visible:{type:Boolean,default:!1},autoHide:{type:Boolean,default:!0},showOnWarning:{type:Boolean,default:!0}},setup(e){const t=e,n=Zo(),o=Cr(),i=W(!1),a=W({...n.mobileSettings.value}),r=Z(()=>!!(t.visible||t.showOnWarning&&c.value)),u=Z(()=>n.currentFPS.value||o.fps),l=Z(()=>n.memoryUsage.value),v=Z(()=>Math.round(l.value*100)),d=Z(()=>o.currentUpdateFrequency),c=Z(()=>u.value<45||l.value>.7),_=Z(()=>u.value<30||l.value>.9),T=Z(()=>_.value?"critical":c.value?"warning":"good"),V=Z(()=>_.value?"Critical":c.value?"Warning":"Good"),F=Z(()=>{const q=u.value;return q<30?"metric-critical":q<45?"metric-warning":"metric-good"}),N=Z(()=>{const q=l.value;return q>.9?"metric-critical":q>.7?"metric-warning":"metric-good"}),y=Z(()=>{const q=n.deviceInfo.value;return q.isMobile?q.platform==="ios"?"iPhone/iPad":"Android Mobile":q.isTablet?"Tablet":"Desktop"}),O=Z(()=>{const q=n.deviceInfo.value;return`${q.screenSize} (${q.pixelRatio}x)`}),$=Z(()=>n.deviceInfo.value.connectionType),U=Z(()=>n.shouldDisableParticles.value),I=Z(()=>{const q=a.value;return!q.particlesEnabled&&!q.backgroundEffectsEnabled&&!q.complexShadowsEnabled}),g=Z(()=>!n.isLowEndDevice.value&&!n.shouldReduceEffects.value&&u.value>45),S=Z(()=>{const q=[];return n.isMobile.value&&(q.push("Close background apps to improve performance"),q.push("Lower screen brightness to save battery")),c.value&&(q.push("Disable particles and background effects"),q.push("Switch to performance mode")),l.value>.8&&(q.push("Clear browser cache and refresh the page"),q.push("Close other browser tabs")),n.deviceInfo.value.connectionType==="slow"&&(q.push("Enable reduced data mode"),q.push("Increase auto-save interval")),q});function b(){n.updateSettings(a.value)}function L(){n.enablePerformanceMode(),a.value={...n.mobileSettings.value}}function z(){g.value&&(n.enableQualityMode(),a.value={...n.mobileSettings.value})}return Yt(()=>n.mobileSettings.value,q=>{a.value={...q}},{deep:!0}),Yt(c,q=>{q&&t.autoHide&&t.showOnWarning&&(i.value=!0)}),kt(()=>{n.isMobile.value&&setTimeout(()=>{i.value=!0,setTimeout(()=>{t.autoHide&&(i.value=!1)},3e3)},1e3)}),(q,P)=>r.value?(f(),m("div",{key:0,class:fe(["performance-monitor",{"monitor-expanded":i.value,"monitor-warning":c.value,"monitor-critical":_.value}])},[s("div",{class:"monitor-header",onClick:P[0]||(P[0]=x=>i.value=!i.value)},[s("div",I0,[s("div",{class:fe(["status-indicator",T.value])},null,2),s("span",P0,w(V.value),1)]),s("button",N0,w(i.value?"▼":"▲"),1)]),he(Mu,{name:"monitor-expand"},{default:Ae(()=>[i.value?(f(),m("div",O0,[s("div",L0,[P[8]||(P[8]=s("h4",null,"Performance",-1)),s("div",U0,[s("div",F0,[P[5]||(P[5]=s("span",{class:"metric-label"},"FPS",-1)),s("span",{class:fe(["metric-value",F.value])},w(u.value),3)]),l.value>0?(f(),m("div",B0,[P[6]||(P[6]=s("span",{class:"metric-label"},"Memory",-1)),s("span",{class:fe(["metric-value",N.value])},w(v.value)+"%",3)])):ne("",!0),s("div",D0,[P[7]||(P[7]=s("span",{class:"metric-label"},"Update Rate",-1)),s("span",q0,w(d.value)+"ms",1)])])]),s("div",V0,[P[12]||(P[12]=s("h4",null,"Device",-1)),s("div",G0,[s("div",H0,[P[9]||(P[9]=s("span",{class:"device-label"},"Type:",-1)),s("span",j0,w(y.value),1)]),s("div",z0,[P[10]||(P[10]=s("span",{class:"device-label"},"Screen:",-1)),s("span",Y0,w(O.value),1)]),$.value!=="unknown"?(f(),m("div",W0,[P[11]||(P[11]=s("span",{class:"device-label"},"Connection:",-1)),s("span",K0,w($.value),1)])):ne("",!0)])]),s("div",X0,[P[17]||(P[17]=s("h4",null,"Optimizations",-1)),s("div",Q0,[s("label",J0,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":P[1]||(P[1]=x=>a.value.particlesEnabled=x),onChange:b,disabled:U.value},null,40,Z0),[[tt,a.value.particlesEnabled]]),P[13]||(P[13]=s("span",{class:"toggle-label"},"Particles",-1)),U.value?(f(),m("span",e_,"(Auto-disabled)")):ne("",!0)]),s("label",t_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":P[2]||(P[2]=x=>a.value.backgroundEffectsEnabled=x),onChange:b},null,544),[[tt,a.value.backgroundEffectsEnabled]]),P[14]||(P[14]=s("span",{class:"toggle-label"},"Background Effects",-1))]),s("label",n_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":P[3]||(P[3]=x=>a.value.animationsEnabled=x),onChange:b},null,544),[[tt,a.value.animationsEnabled]]),P[15]||(P[15]=s("span",{class:"toggle-label"},"Animations",-1))]),s("label",s_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":P[4]||(P[4]=x=>a.value.complexShadowsEnabled=x),onChange:b},null,544),[[tt,a.value.complexShadowsEnabled]]),P[16]||(P[16]=s("span",{class:"toggle-label"},"Complex Shadows",-1))])])]),s("div",o_,[s("button",{class:"action-btn performance-btn",onClick:L,disabled:I.value}," Performance Mode ",8,i_),s("button",{class:"action-btn quality-btn",onClick:z,disabled:!g.value}," Quality Mode ",8,a_)]),S.value.length>0?(f(),m("div",r_,[P[18]||(P[18]=s("h4",null,"Performance Tips",-1)),s("ul",l_,[(f(!0),m(ue,null,ve(S.value,x=>(f(),m("li",{key:x,class:"tip-item"},w(x),1))),128))])])):ne("",!0)])):ne("",!0)]),_:1})],2)):ne("",!0)}}),c_=Ge(u_,[["__scopeId","data-v-a4f85ffb"]]),d_={class:"game-settings"},f_={class:"settings-container"},p_={class:"settings-section"},v_={class:"setting-item"},m_={class:"setting-label"},h_={class:"setting-item"},g_={class:"setting-label"},y_={class:"setting-item"},b_={class:"setting-label"},__={class:"setting-item"},S_={class:"settings-section"},C_={class:"setting-item"},E_={class:"setting-item"},k_={class:"setting-label"},w_={class:"setting-item"},$_={class:"setting-label"},T_={class:"settings-section"},M_={class:"setting-item"},A_={class:"setting-label"},R_={class:"setting-item"},x_={class:"setting-label"},I_={class:"setting-item"},P_={class:"settings-section"},N_={class:"setting-actions"},O_={class:"setting-item danger-zone"},L_=Ve({__name:"GameSettings",setup(e){const t=ge(),n=W({particlesEnabled:!0,animationsEnabled:!0,backgroundEffectsEnabled:!0,autoSaveInterval:3e4,numberFormat:"scientific",showTooltips:!0,compactMode:!1,achievementNotifications:!0,milestoneNotifications:!0,notificationDuration:5e3});kt(()=>{o()});function o(){const d=localStorage.getItem("aetherSettings");if(d)try{Object.assign(n.value,JSON.parse(d))}catch(c){console.error("Failed to load settings:",c)}}function i(){try{localStorage.setItem("aetherSettings",JSON.stringify(n.value)),a()}catch(d){console.error("Failed to save settings:",d)}}function a(){n.value.compactMode?document.body.classList.add("compact-mode"):document.body.classList.remove("compact-mode")}function r(){try{const d=t.save(),c=new Blob([d],{type:"text/plain"}),_=URL.createObjectURL(c),T=document.createElement("a");T.href=_,T.download=`aether-save-${new Date().toISOString().split("T")[0]}.txt`,T.click(),URL.revokeObjectURL(_)}catch(d){console.error("Failed to export save:",d),alert("Failed to export save file!")}}function u(){const d=document.createElement("input");d.type="file",d.accept=".txt",d.onchange=c=>{const _=c.target.files?.[0];if(_){const T=new FileReader;T.onload=V=>{try{const F=V.target?.result;t.load(F)?(alert("Save loaded successfully!"),location.reload()):alert("Failed to load save file! The file may be corrupted.")}catch(F){console.error("Failed to import save:",F),alert("Failed to import save file!")}},T.readAsText(_)}},d.click()}function l(){try{t.save();const d=document.createElement("div");d.textContent="Game Saved!",d.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-green);
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      z-index: 10000;
    `,document.body.appendChild(d),setTimeout(()=>d.remove(),2e3)}catch(d){console.error("Failed to save game:",d)}}function v(){const d="DELETE ALL PROGRESS";if(prompt(`This will permanently delete ALL progress!

Type "${d}" to confirm:`)===d)try{t.reset(),localStorage.removeItem("aetherSettings"),alert("All progress has been reset."),location.reload()}catch(_){console.error("Failed to reset game:",_),alert("Failed to reset game!")}}return(d,c)=>(f(),m("div",d_,[c[50]||(c[50]=s("h2",{class:"section-title"},"Game Settings",-1)),s("div",f_,[s("div",p_,[c[22]||(c[22]=s("h3",{class:"subsection-title"},"Performance",-1)),s("div",v_,[s("label",m_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=_=>n.value.particlesEnabled=_),onChange:i},null,544),[[tt,n.value.particlesEnabled]]),c[10]||(c[10]=s("span",{class:"checkmark"},null,-1)),c[11]||(c[11]=Me(" Enable Particle Effects "))]),c[12]||(c[12]=s("p",{class:"setting-description"},"Visual particle effects for actions and achievements",-1))]),s("div",h_,[s("label",g_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[1]||(c[1]=_=>n.value.animationsEnabled=_),onChange:i},null,544),[[tt,n.value.animationsEnabled]]),c[13]||(c[13]=s("span",{class:"checkmark"},null,-1)),c[14]||(c[14]=Me(" Enable Animations "))]),c[15]||(c[15]=s("p",{class:"setting-description"},"Smooth transitions and UI animations",-1))]),s("div",y_,[s("label",b_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[2]||(c[2]=_=>n.value.backgroundEffectsEnabled=_),onChange:i},null,544),[[tt,n.value.backgroundEffectsEnabled]]),c[16]||(c[16]=s("span",{class:"checkmark"},null,-1)),c[17]||(c[17]=Me(" Background Effects "))]),c[18]||(c[18]=s("p",{class:"setting-description"},"Ambient background visual effects",-1))]),s("div",__,[c[20]||(c[20]=s("div",{class:"setting-label"},"Auto-save Frequency",-1)),Fe(s("select",{"onUpdate:modelValue":c[3]||(c[3]=_=>n.value.autoSaveInterval=_),onChange:i,class:"setting-select"},c[19]||(c[19]=[s("option",{value:"10000"},"10 seconds",-1),s("option",{value:"30000"},"30 seconds",-1),s("option",{value:"60000"},"1 minute",-1),s("option",{value:"300000"},"5 minutes",-1)]),544),[[In,n.value.autoSaveInterval]]),c[21]||(c[21]=s("p",{class:"setting-description"},"How often the game saves automatically",-1))])]),s("div",S_,[c[32]||(c[32]=s("h3",{class:"subsection-title"},"Display",-1)),s("div",C_,[c[24]||(c[24]=s("div",{class:"setting-label"},"Number Format",-1)),Fe(s("select",{"onUpdate:modelValue":c[4]||(c[4]=_=>n.value.numberFormat=_),onChange:i,class:"setting-select"},c[23]||(c[23]=[s("option",{value:"scientific"},"Scientific (1.23e4)",-1),s("option",{value:"engineering"},"Engineering (12.3K)",-1),s("option",{value:"mixed"},"Mixed",-1)]),544),[[In,n.value.numberFormat]]),c[25]||(c[25]=s("p",{class:"setting-description"},"How large numbers are displayed",-1))]),s("div",E_,[s("label",k_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[5]||(c[5]=_=>n.value.showTooltips=_),onChange:i},null,544),[[tt,n.value.showTooltips]]),c[26]||(c[26]=s("span",{class:"checkmark"},null,-1)),c[27]||(c[27]=Me(" Show Tooltips "))]),c[28]||(c[28]=s("p",{class:"setting-description"},"Helpful information when hovering over elements",-1))]),s("div",w_,[s("label",$_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[6]||(c[6]=_=>n.value.compactMode=_),onChange:i},null,544),[[tt,n.value.compactMode]]),c[29]||(c[29]=s("span",{class:"checkmark"},null,-1)),c[30]||(c[30]=Me(" Compact Mode "))]),c[31]||(c[31]=s("p",{class:"setting-description"},"Reduce spacing for smaller screens",-1))])]),s("div",T_,[c[42]||(c[42]=s("h3",{class:"subsection-title"},"Notifications",-1)),s("div",M_,[s("label",A_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[7]||(c[7]=_=>n.value.achievementNotifications=_),onChange:i},null,544),[[tt,n.value.achievementNotifications]]),c[33]||(c[33]=s("span",{class:"checkmark"},null,-1)),c[34]||(c[34]=Me(" Achievement Notifications "))]),c[35]||(c[35]=s("p",{class:"setting-description"},"Show notifications when achievements are unlocked",-1))]),s("div",R_,[s("label",x_,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":c[8]||(c[8]=_=>n.value.milestoneNotifications=_),onChange:i},null,544),[[tt,n.value.milestoneNotifications]]),c[36]||(c[36]=s("span",{class:"checkmark"},null,-1)),c[37]||(c[37]=Me(" Milestone Notifications "))]),c[38]||(c[38]=s("p",{class:"setting-description"},"Show notifications for important milestones",-1))]),s("div",I_,[c[40]||(c[40]=s("div",{class:"setting-label"},"Notification Duration",-1)),Fe(s("select",{"onUpdate:modelValue":c[9]||(c[9]=_=>n.value.notificationDuration=_),onChange:i,class:"setting-select"},c[39]||(c[39]=[s("option",{value:"3000"},"3 seconds",-1),s("option",{value:"5000"},"5 seconds",-1),s("option",{value:"7000"},"7 seconds",-1),s("option",{value:"10000"},"10 seconds",-1)]),544),[[In,n.value.notificationDuration]]),c[41]||(c[41]=s("p",{class:"setting-description"},"How long notifications stay visible",-1))])]),s("div",P_,[c[49]||(c[49]=s("h3",{class:"subsection-title"},"Save & Load",-1)),s("div",N_,[he(bt,{onClick:r,variant:"primary",size:"medium",clickEffect:!0},{default:Ae(()=>c[43]||(c[43]=[Me(" Export Save ")])),_:1,__:[43]}),he(bt,{onClick:u,variant:"secondary",size:"medium",clickEffect:!0},{default:Ae(()=>c[44]||(c[44]=[Me(" Import Save ")])),_:1,__:[44]}),he(bt,{onClick:l,variant:"ghost",size:"medium",clickEffect:!0},{default:Ae(()=>c[45]||(c[45]=[Me(" Save Now ")])),_:1,__:[45]})]),s("div",O_,[c[47]||(c[47]=s("div",{class:"setting-label danger"},"Danger Zone",-1)),he(bt,{onClick:v,variant:"warning",size:"medium"},{default:Ae(()=>c[46]||(c[46]=[Me(" Reset All Progress ")])),_:1,__:[46]}),c[48]||(c[48]=s("p",{class:"setting-description"},"⚠️ This will permanently delete all progress!",-1))])])])]))}}),U_=Ge(L_,[["__scopeId","data-v-58fb2fb8"]]),F_={class:"help-system"},B_={class:"help-header"},D_={class:"help-controls"},q_=["disabled"],V_={key:0,class:"tutorial-selector"},G_={class:"tutorial-grid"},H_={class:"tutorial-header"},j_={class:"tutorial-name"},z_={class:"tutorial-description"},Y_={class:"tutorial-actions"},W_=["onClick"],K_=["onClick"],X_={key:1,class:"active-tutorial"},Q_={class:"tutorial-progress"},J_={class:"progress-bar"},Z_={class:"progress-text"},eS={class:"tutorial-step"},tS={class:"tutorial-controls"},nS=["disabled"],sS={class:"help-navigation"},oS={class:"search-section"},iS={class:"category-filters"},aS=["onClick"],rS={class:"help-topics"},lS={class:"section-title"},uS={key:0},cS={key:1},dS={key:0,class:"no-results"},fS={key:1,class:"topics-list"},pS=["onClick"],vS={class:"topic-header"},mS={class:"topic-title"},hS={class:"topic-description"},gS={key:0,class:"topic-content"},yS={key:0,class:"content-title"},bS={key:1,class:"content-text"},_S={key:2,class:"content-list"},SS={key:3,class:"content-formula"},CS={class:"formula-expression"},ES={class:"formula-variables"},kS={key:0,class:"formula-example"},wS={key:4,class:"content-table"},$S={key:5,class:"content-tip"},TS={class:"tip-text"},MS={key:6,class:"content-warning"},AS={class:"warning-text"},RS={key:0,class:"related-topics"},xS={class:"related-links"},IS=["onClick"],PS={key:2,class:"tooltip-settings"},NS={class:"setting-group"},OS={class:"setting-label"},LS={class:"setting-group"},US={class:"setting-label"},FS={class:"category-settings"},BS={class:"setting-label"},DS=["checked","onChange"],qS=Ve({__name:"HelpSystem",setup(e){const t=Qo(),{globalEnabled:n,categoryEnabled:o,activeTutorial:i,currentStep:a,completedTutorials:r,skippedTutorials:u,tutorialEnabled:l,searchQuery:v,selectedCategory:d}=Ke(t),{availableHelpTopics:c,availableTutorials:_,currentTutorial:T,currentTutorialStep:V}=Ke(t),F=W(!1),N=W(!1),y=W(null);function O(A){return A.split("_").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" ")}function $(A){return i.value===A?"active":r.value.has(A)?"completed":u.value.has(A)?"skipped":"available"}function U(A){switch($(A)){case"active":return"In Progress";case"completed":return"Completed";case"skipped":return"Skipped";default:return"Available"}}function I(A){y.value=y.value===A?null:A}function g(A){y.value=A,setTimeout(()=>{document.querySelector(`[data-topic="${A}"]`)?.scrollIntoView({behavior:"smooth"})},100)}function S(){v.value="",d.value=null}const b=t.startTutorial,L=t.nextTutorialStep,z=t.previousTutorialStep,q=t.skipTutorial,P=t.resetTutorial,x=t.getHelpTopic,E=t.filterByCategory,C=t.toggleTooltipCategory;return(A,D)=>(f(),m("div",F_,[s("div",B_,[D[10]||(D[10]=s("h2",{class:"help-title"},"Help & Tutorials",-1)),s("div",D_,[s("button",{class:"btn btn-tutorial",onClick:D[0]||(D[0]=J=>F.value=!F.value),disabled:k(_).length===0}," Tutorials ",8,q_),s("button",{class:"btn btn-settings",onClick:D[1]||(D[1]=J=>N.value=!N.value)}," Settings ")])]),F.value?(f(),m("div",V_,[D[11]||(D[11]=s("h3",{class:"section-title"},"Available Tutorials",-1)),s("div",G_,[(f(!0),m(ue,null,ve(k(_),J=>(f(),m("div",{key:J.id,class:fe(["tutorial-card",{completed:k(r).has(J.id),skipped:k(u).has(J.id),active:k(i)===J.id}])},[s("div",H_,[s("span",j_,w(J.name),1),s("span",{class:fe(["tutorial-status",$(J.id)])},w(U(J.id)),3)]),s("div",z_,w(J.description),1),s("div",Y_,[!k(r).has(J.id)&&k(i)!==J.id?(f(),m("button",{key:0,class:"btn btn-small",onClick:te=>k(b)(J.id)}," Start ",8,W_)):ne("",!0),k(i)===J.id?(f(),m("button",{key:1,class:"btn btn-small btn-danger",onClick:D[2]||(D[2]=te=>k(q)())}," Skip ")):ne("",!0),k(r).has(J.id)&&J.canRestart?(f(),m("button",{key:2,class:"btn btn-small btn-secondary",onClick:te=>k(P)(J.id)}," Restart ",8,K_)):ne("",!0)])],2))),128))])])):ne("",!0),k(T)&&k(V)?(f(),m("div",X_,[s("div",Q_,[s("h3",null,w(k(T).name),1),s("div",J_,[s("div",{class:"progress-fill",style:Ye({width:`${(k(a)+1)/k(T).steps.length*100}%`})},null,4)]),s("span",Z_," Step "+w(k(a)+1)+" of "+w(k(T).steps.length),1)]),s("div",eS,[s("h4",null,w(k(V).title),1),s("p",null,w(k(V).description),1),s("div",tS,[s("button",{class:"btn btn-small btn-secondary",onClick:D[3]||(D[3]=J=>k(z)()),disabled:k(a)===0}," Previous ",8,nS),s("button",{class:"btn btn-small",onClick:D[4]||(D[4]=J=>k(L)())}," Next "),k(V).skippable?(f(),m("button",{key:0,class:"btn btn-small btn-danger",onClick:D[5]||(D[5]=J=>k(q)())}," Skip Tutorial ")):ne("",!0)])])])):ne("",!0),s("div",sS,[s("div",oS,[Fe(s("input",{"onUpdate:modelValue":D[6]||(D[6]=J=>De(v)?v.value=J:null),type:"text",placeholder:"Search help topics...",class:"search-input"},null,512),[[ws,k(v)]]),k(v)?(f(),m("button",{key:0,class:"btn btn-small btn-clear",onClick:D[7]||(D[7]=J=>v.value="")}," Clear ")):ne("",!0)]),s("div",iS,[(f(!0),m(ue,null,ve(Object.values(k(rn)),J=>(f(),m("button",{key:J,class:fe(["category-button",{active:k(d)===J}]),onClick:te=>k(E)(k(d)===J?null:J)},w(O(J)),11,aS))),128))])]),s("div",rS,[s("h3",lS,[D[12]||(D[12]=Me(" Help Topics ")),k(d)?(f(),m("span",uS,"("+w(O(k(d)))+")",1)):ne("",!0),k(v)?(f(),m("span",cS,'(Search: "'+w(k(v))+'")',1)):ne("",!0)]),k(c).length===0?(f(),m("div",dS,[D[13]||(D[13]=s("p",null,"No help topics found matching your criteria.",-1)),s("button",{class:"btn btn-secondary",onClick:S},"Clear Filters")])):(f(),m("div",fS,[(f(!0),m(ue,null,ve(k(c),J=>(f(),m("div",{key:J.id,class:fe(["topic-card",{expanded:y.value===J.id}]),onClick:te=>I(J.id)},[s("div",vS,[s("span",mS,w(J.title),1),s("span",{class:fe(["topic-category",`category-${J.category}`])},w(O(J.category)),3)]),s("div",hS,w(J.description),1),y.value===J.id?(f(),m("div",gS,[(f(!0),m(ue,null,ve(J.content,(te,se)=>(f(),m("div",{key:se,class:fe(["content-section",`content-${te.type}`])},[te.title?(f(),m("h4",yS,w(te.title),1)):ne("",!0),te.type==="text"?(f(),m("div",bS,w(te.content),1)):te.type==="list"?(f(),m("ul",_S,[(f(!0),m(ue,null,ve(te.content,oe=>(f(),m("li",{key:oe},w(oe),1))),128))])):te.type==="formula"?(f(),m("div",SS,[s("div",CS,w(te.content.formula),1),s("div",ES,[(f(!0),m(ue,null,ve(te.content.variables,(oe,Ce)=>(f(),m("div",{key:Ce,class:"variable-item"},[s("strong",null,w(Ce)+":",1),Me(" "+w(oe),1)]))),128))]),te.content.example?(f(),m("div",kS,[D[14]||(D[14]=s("strong",null,"Example:",-1)),Me(" "+w(te.content.example),1)])):ne("",!0)])):te.type==="table"?(f(),m("div",wS,[s("table",null,[s("thead",null,[s("tr",null,[(f(!0),m(ue,null,ve(te.content.headers,oe=>(f(),m("th",{key:oe},w(oe),1))),128))])]),s("tbody",null,[(f(!0),m(ue,null,ve(te.content.rows,(oe,Ce)=>(f(),m("tr",{key:Ce},[(f(!0),m(ue,null,ve(oe,(xe,ae)=>(f(),m("td",{key:ae},w(xe),1))),128))]))),128))])])])):te.type==="tip"?(f(),m("div",$S,[D[15]||(D[15]=s("div",{class:"tip-icon"},"💡",-1)),s("div",TS,w(te.content),1)])):te.type==="warning"?(f(),m("div",MS,[D[16]||(D[16]=s("div",{class:"warning-icon"},"⚠️",-1)),s("div",AS,w(te.content),1)])):ne("",!0)],2))),128)),J.relatedTopics&&J.relatedTopics.length>0?(f(),m("div",RS,[D[17]||(D[17]=s("h4",null,"Related Topics:",-1)),s("div",xS,[(f(!0),m(ue,null,ve(J.relatedTopics,te=>(f(),m("button",{key:te,class:"btn btn-small btn-link",onClick:zo(se=>g(te),["stop"])},w(k(x)(te)?.title||te),9,IS))),128))])])):ne("",!0)])):ne("",!0)],10,pS))),128))]))]),N.value?(f(),m("div",PS,[D[21]||(D[21]=s("h3",{class:"section-title"},"Tooltip & Help Settings",-1)),s("div",NS,[s("label",OS,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":D[8]||(D[8]=J=>De(n)?n.value=J:null)},null,512),[[tt,k(n)]]),D[18]||(D[18]=Me(" Enable All Tooltips "))])]),s("div",LS,[s("label",US,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":D[9]||(D[9]=J=>De(l)?l.value=J:null)},null,512),[[tt,k(l)]]),D[19]||(D[19]=Me(" Enable Tutorials "))])]),s("div",FS,[D[20]||(D[20]=s("h4",null,"Tooltip Categories:",-1)),(f(!0),m(ue,null,ve(Object.values(k(as)),J=>(f(),m("div",{key:J,class:"category-setting"},[s("label",BS,[s("input",{type:"checkbox",checked:k(o).get(J),onChange:te=>k(C)(J,te.target.checked)},null,40,DS),Me(" "+w(O(J)),1)])]))),128))])])):ne("",!0)]))}}),VS=Ge(qS,[["__scopeId","data-v-7272ae75"]]),GS={class:"achievement-panel"},HS={class:"panel-header"},jS={class:"completion-stats"},zS={class:"completion-circle"},YS={class:"progress-ring"},WS={class:"progress-svg",width:"60",height:"60"},KS=["stroke-dasharray","stroke-dashoffset"],XS={class:"progress-text"},QS={class:"completion-details"},JS={class:"completion-item"},ZS={class:"value"},eC={class:"completion-item"},tC={class:"value"},nC={class:"tab-navigation"},sC=["onClick"],oC={key:0,class:"tab-count"},iC={key:0,class:"achievements-container"},aC={class:"filter-controls"},rC={class:"category-filters"},lC=["onClick"],uC={class:"filter-count"},cC={class:"filter-count"},dC={class:"rarity-filters"},fC=["onClick"],pC={class:"view-options"},vC={class:"checkbox-label"},mC={class:"checkbox-label"},hC={class:"achievements-grid"},gC={class:"achievement-header"},yC={class:"achievement-icon"},bC={class:"achievement-meta"},_C={class:"achievement-name"},SC={class:"achievement-status"},CC={key:0,class:"status-completed"},EC={key:1,class:"status-unlocked"},kC={key:2,class:"status-locked"},wC={class:"achievement-description"},$C={key:0,class:"achievement-progress"},TC={class:"progress-bar"},MC={class:"progress-text"},AC={key:1,class:"achievement-reward"},RC={class:"reward-description"},xC={key:2,class:"achievement-completion"},IC={class:"completion-time"},PC={key:1,class:"statistics-container"},NC={class:"stats-categories"},OC=["onClick"],LC={class:"statistics-grid"},UC={class:"stat-header"},FC={class:"stat-name"},BC={class:"stat-category"},DC={class:"stat-value"},qC={class:"stat-description"},VC={key:2,class:"milestones-container"},GC={class:"milestones-grid"},HC={class:"milestone-header"},jC={class:"milestone-category"},zC={class:"milestone-current"},YC={class:"milestone-progress"},WC={class:"milestones-list"},KC={class:"milestone-icon"},XC={class:"milestone-value"},QC={key:0,class:"next-milestone"},JC={class:"next-milestone-target"},ZC={class:"milestone-progress-bar"},eE={class:"milestone-progress-text"},tE={key:3,class:"records-container"},nE={class:"records-section"},sE={class:"records-grid"},oE={class:"record-card"},iE={class:"record-value"},aE={class:"record-card"},rE={class:"record-value"},lE={class:"record-card"},uE={class:"record-value"},cE={class:"record-card"},dE={class:"record-value"},fE={class:"records-section"},pE={class:"achievement-stats-grid"},vE={class:"stat-info"},mE={class:"stat-label"},hE={class:"stat-count"},gE=Ve({__name:"AchievementPanel",setup(e){const t=ps(),{achievements:n,statistics:o,achievementProgress:i,milestoneTrackers:a,totalAchievements:r,completedAchievements:u,achievementsByCategory:l,completionPercentage:v}=Ke(t),d=W("achievements"),c=W(null),_=W(null),T=W(null),V=W(!0),F=W(!1),N=Z(()=>[{id:"achievements",name:"Achievements",count:u.value.length},{id:"statistics",name:"Statistics",count:o.value.size},{id:"milestones",name:"Milestones",count:a.value.size},{id:"records",name:"Records"}]),y=Z(()=>2*Math.PI*25),O=Z(()=>y.value-v.value/100*y.value),$=Z(()=>{const M={[Ue.COMMON]:1,[Ue.UNCOMMON]:2,[Ue.RARE]:5,[Ue.EPIC]:10,[Ue.LEGENDARY]:25,[Ue.MYTHIC]:50};return u.value.reduce((G,K)=>G+(M[K.rarity]||1),0)}),U=Z(()=>{let M=Array.from(n.value.values());return c.value&&(M=M.filter(G=>G.category===c.value)),_.value&&(M=M.filter(G=>G.rarity===_.value)),V.value||(M=M.filter(G=>!G.completed)),F.value||(M=M.filter(G=>!G.hidden||G.unlocked)),M.sort((G,K)=>{if(G.completed!==K.completed)return G.completed?1:-1;const pe=Object.values(Ue),de=pe.indexOf(G.rarity),Pe=pe.indexOf(K.rarity);return de!==Pe?Pe-de:G.name.localeCompare(K.name)})}),I=Z(()=>{let M=Array.from(o.value.values()).filter(G=>G.isVisible);return T.value&&(M=M.filter(G=>G.category===T.value)),M.sort((G,K)=>G.name.localeCompare(K.name))});function g(M){return M.split("_").map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" ")}function S(M){return M.charAt(0).toUpperCase()+M.slice(1)}function b(M){c.value=c.value===M?null:M}function L(M){_.value=_.value===M?null:M}function z(M){return M.completed?"🏆":{[Xe.PRODUCTION]:"⚡",[Xe.PROGRESSION]:"🚀",[Xe.EXPLORATION]:"🔍",[Xe.MASTERY]:"🎯",[Xe.SPEED]:"💨",[Xe.COLLECTION]:"📚",[Xe.SPECIAL]:"✨",[Xe.SECRET]:"🎭"}[M.category]||"🌟"}function q(M){return{[Ue.COMMON]:"🔵",[Ue.UNCOMMON]:"🟢",[Ue.RARE]:"🟡",[Ue.EPIC]:"🟣",[Ue.LEGENDARY]:"🟠",[Ue.MYTHIC]:"🔴"}[M]||"⚪"}function P(M){const G=i.value.get(M);return G?G.percentage:0}function x(M){const G=i.value.get(M);return G?`${G.current} / ${G.target}`:""}function E(M){return new Date(M).toLocaleDateString()}function C(M){const G=M.value;switch(M.format){case"time":return A(G);case"currency":return D(G);case"percentage":return`${G.toFixed(M.precision||1)}%`;case"number":return ye(G);default:return String(G)}}function A(M){return M===1/0?"Never":M<60?`${M.toFixed(1)}s`:M<3600?`${Math.floor(M/60)}m ${Math.floor(M%60)}s`:M<86400?`${Math.floor(M/3600)}h ${Math.floor(M%3600/60)}m`:`${Math.floor(M/86400)}d ${Math.floor(M%86400/3600)}h`}function D(M){return ye(M)}function J(M){return`${ye(M)}/s`}function te(M){return ye(M)}function se(M){if(!M.nextMilestone)return 100;const G=M.milestones.filter(pe=>pe<M.nextMilestone).pop()||0,K=(M.current-G)/(M.nextMilestone-G);return Math.max(0,Math.min(100,K*100))}function oe(M){return u.value.filter(G=>G.rarity===M).length}function Ce(){const M=o.value.get("fastest_starburst");return M?M.value:1/0}function xe(){const M=o.value.get("highest_stardust_production");return M?M.value:0}function ae(){const M=o.value.get("most_expensive_purchase");return M?M.value:0}function ie(){return 0}return(M,G)=>(f(),m("div",GS,[s("div",HS,[G[8]||(G[8]=s("h2",{class:"section-title"},"Achievements & Statistics",-1)),s("div",jS,[s("div",zS,[s("div",YS,[(f(),m("svg",WS,[G[5]||(G[5]=s("circle",{class:"progress-ring-background",cx:"30",cy:"30",r:"25","stroke-width":"4",fill:"transparent"},null,-1)),s("circle",{class:"progress-ring-progress",cx:"30",cy:"30",r:"25","stroke-width":"4",fill:"transparent","stroke-dasharray":y.value,"stroke-dashoffset":O.value},null,8,KS)])),s("div",XS,w(k(v))+"%",1)])]),s("div",QS,[s("div",JS,[G[6]||(G[6]=s("span",{class:"label"},"Completed:",-1)),s("span",ZS,w(k(u).length)+" / "+w(k(r)),1)]),s("div",eC,[G[7]||(G[7]=s("span",{class:"label"},"Points:",-1)),s("span",tC,w($.value),1)])])])]),s("div",nC,[(f(!0),m(ue,null,ve(N.value,K=>(f(),m("button",{key:K.id,class:fe(["tab-btn",{active:d.value===K.id}]),onClick:pe=>d.value=K.id},[Me(w(K.name)+" ",1),K.count!==void 0?(f(),m("span",oC,w(K.count),1)):ne("",!0)],10,sC))),128))]),d.value==="achievements"?(f(),m("div",iC,[s("div",aC,[s("div",rC,[(f(!0),m(ue,null,ve(Object.values(k(Xe)),K=>(f(),m("button",{key:K,class:fe(["filter-btn",{active:c.value===K}]),onClick:pe=>b(K)},[Me(w(g(K))+" ",1),s("span",uC,w(k(l)[K]?.length||0),1)],10,lC))),128)),s("button",{class:fe(["filter-btn",{active:c.value===null}]),onClick:G[0]||(G[0]=K=>c.value=null)},[G[9]||(G[9]=Me(" All ")),s("span",cC,w(U.value.length),1)],2)]),s("div",dC,[(f(!0),m(ue,null,ve(Object.values(k(Ue)),K=>(f(),m("button",{key:K,class:fe(["rarity-btn",`rarity-${K}`,{active:_.value===K}]),onClick:pe=>L(K)},w(S(K)),11,fC))),128)),s("button",{class:fe(["rarity-btn",{active:_.value===null}]),onClick:G[1]||(G[1]=K=>_.value=null)}," All ",2)]),s("div",pC,[s("label",vC,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":G[2]||(G[2]=K=>V.value=K)},null,512),[[tt,V.value]]),G[10]||(G[10]=Me(" Show Completed "))]),s("label",mC,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":G[3]||(G[3]=K=>F.value=K)},null,512),[[tt,F.value]]),G[11]||(G[11]=Me(" Show Hidden "))])])]),s("div",hC,[(f(!0),m(ue,null,ve(U.value,K=>(f(),m("div",{key:K.id,class:fe(["achievement-card",`rarity-${K.rarity}`,{completed:K.completed,locked:!K.unlocked,hidden:K.hidden&&!K.unlocked,progress:K.type===k(at).PROGRESS}])},[s("div",gC,[s("div",yC,[s("span",{class:fe(["icon",K.completed?"completed":K.unlocked?"unlocked":"locked"])},w(z(K)),3)]),s("div",bC,[s("h3",_C,w(K.hidden&&!K.unlocked?"???":K.name),1),s("span",{class:fe(["achievement-rarity",`rarity-${K.rarity}`])},w(S(K.rarity)),3)]),s("div",SC,[K.completed?(f(),m("span",CC,"✓")):K.unlocked?(f(),m("span",EC,"○")):(f(),m("span",kC,"🔒"))])]),s("div",wC,w(K.hidden&&!K.unlocked?"Hidden achievement - complete other achievements to reveal":K.description),1),K.type===k(at).PROGRESS&&K.unlocked?(f(),m("div",$C,[s("div",TC,[s("div",{class:"progress-fill",style:Ye({width:`${P(K.id)}%`})},null,4)]),s("div",MC,w(x(K.id)),1)])):ne("",!0),K.reward&&(K.unlocked||K.completed)?(f(),m("div",AC,[G[12]||(G[12]=s("div",{class:"reward-label"},"Reward:",-1)),s("div",RC,w(K.reward.description),1)])):ne("",!0),K.completedAt?(f(),m("div",xC,[s("div",IC," Completed: "+w(E(K.completedAt)),1)])):ne("",!0)],2))),128))])])):ne("",!0),d.value==="statistics"?(f(),m("div",PC,[s("div",NC,[(f(!0),m(ue,null,ve(Object.values(k(pt)),K=>(f(),m("button",{key:K,class:fe(["stats-category-btn",{active:T.value===K}]),onClick:pe=>T.value=K},w(g(K)),11,OC))),128)),s("button",{class:fe(["stats-category-btn",{active:T.value===null}]),onClick:G[4]||(G[4]=K=>T.value=null)}," All ",2)]),s("div",LC,[(f(!0),m(ue,null,ve(I.value,K=>(f(),m("div",{key:K.id,class:"statistic-card"},[s("div",UC,[s("h3",FC,w(K.name),1),s("span",BC,w(g(K.category)),1)]),s("div",DC,w(C(K)),1),s("div",qC,w(K.description),1)]))),128))])])):ne("",!0),d.value==="milestones"?(f(),m("div",VC,[s("div",GC,[(f(!0),m(ue,null,ve(k(a),([K,pe])=>(f(),m("div",{key:K,class:"milestone-card"},[s("div",HC,[s("h3",jC,w(g(K)),1),s("div",zC,w(te(pe.current)),1)]),s("div",YC,[s("div",WC,[(f(!0),m(ue,null,ve(pe.milestones,de=>(f(),m("div",{key:de,class:fe(["milestone-item",{completed:pe.completedMilestones.includes(de),next:de===pe.nextMilestone}])},[s("span",KC,w(pe.completedMilestones.includes(de)?"✓":de===pe.nextMilestone?"○":"—"),1),s("span",XC,w(te(de)),1)],2))),128))]),pe.nextMilestone?(f(),m("div",QC,[G[13]||(G[13]=s("div",{class:"next-milestone-label"},"Next Milestone:",-1)),s("div",JC,w(te(pe.nextMilestone)),1),s("div",ZC,[s("div",{class:"milestone-progress-fill",style:Ye({width:`${se(pe)}%`})},null,4)]),s("div",eE,w(te(pe.current))+" / "+w(te(pe.nextMilestone)),1)])):ne("",!0)])]))),128))])])):ne("",!0),d.value==="records"?(f(),m("div",tE,[s("div",nE,[G[18]||(G[18]=s("h3",{class:"records-title"},"Personal Records",-1)),s("div",sE,[s("div",oE,[G[14]||(G[14]=s("div",{class:"record-label"},"Fastest Starburst",-1)),s("div",iE,w(A(Ce())),1)]),s("div",aE,[G[15]||(G[15]=s("div",{class:"record-label"},"Highest Production",-1)),s("div",rE,w(J(xe())),1)]),s("div",lE,[G[16]||(G[16]=s("div",{class:"record-label"},"Most Expensive Purchase",-1)),s("div",uE,w(D(ae())),1)]),s("div",cE,[G[17]||(G[17]=s("div",{class:"record-label"},"Session Best",-1)),s("div",dE,w(A(ie())),1)])])]),s("div",fE,[G[19]||(G[19]=s("h3",{class:"records-title"},"Achievement Statistics",-1)),s("div",pE,[(f(!0),m(ue,null,ve(Object.values(k(Ue)),K=>(f(),m("div",{key:K,class:"achievement-stat-card"},[s("div",{class:fe(["stat-icon",`rarity-${K}`])},w(q(K)),3),s("div",vE,[s("div",mE,w(S(K)),1),s("div",hE,w(oe(K)),1)])]))),128))])])])):ne("",!0)]))}}),yE=Ge(gE,[["__scopeId","data-v-2be70305"]]),bE={class:"modal-header"},_E={class:"modal-body"},SE={class:"settings-section"},CE={class:"setting-item"},EE={class:"setting-item"},kE={class:"setting-item"},wE={class:"settings-section"},$E={class:"setting-item"},TE={class:"setting-item"},ME=Ve({__name:"SettingsModal",emits:["close"],setup(e){const t=ge(),n=W({particlesEnabled:!0,animationsEnabled:!0,autoSaveInterval:3e4,numberFormat:"scientific",showTooltips:!0});kt(()=>{const u=localStorage.getItem("aetherSettings");u&&Object.assign(n.value,JSON.parse(u))});function o(){localStorage.setItem("aetherSettings",JSON.stringify(n.value))}function i(){const u=t.save(),l=new Blob([u],{type:"text/plain"}),v=URL.createObjectURL(l),d=document.createElement("a");d.href=v,d.download="aether-save.txt",d.click(),URL.revokeObjectURL(v)}function a(){const u=document.createElement("input");u.type="file",u.accept=".txt",u.onchange=l=>{const v=l.target.files?.[0];if(v){const d=new FileReader;d.onload=c=>{const _=c.target?.result;t.load(_)?alert("Save loaded successfully!"):alert("Failed to load save file!")},d.readAsText(v)}},u.click()}function r(){confirm("Are you sure you want to reset all progress? This cannot be undone!")&&(t.reset(),location.reload())}return(u,l)=>(f(),m("div",{class:"modal-overlay",onClick:l[7]||(l[7]=v=>u.$emit("close"))},[s("div",{class:"modal-content",onClick:l[6]||(l[6]=zo(()=>{},["stop"]))},[s("div",bE,[l[8]||(l[8]=s("h2",null,"Game Settings",-1)),s("button",{class:"close-button",onClick:l[0]||(l[0]=v=>u.$emit("close"))},"×")]),s("div",_E,[s("div",SE,[l[13]||(l[13]=s("h3",null,"Performance",-1)),s("div",CE,[s("label",null,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=v=>n.value.particlesEnabled=v),onChange:o},null,544),[[tt,n.value.particlesEnabled]]),l[9]||(l[9]=Me(" Enable Particle Effects "))])]),s("div",EE,[s("label",null,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":l[2]||(l[2]=v=>n.value.animationsEnabled=v),onChange:o},null,544),[[tt,n.value.animationsEnabled]]),l[10]||(l[10]=Me(" Enable Animations "))])]),s("div",kE,[s("label",null,[l[12]||(l[12]=Me(" Auto-save Frequency: ")),Fe(s("select",{"onUpdate:modelValue":l[3]||(l[3]=v=>n.value.autoSaveInterval=v),onChange:o},l[11]||(l[11]=[s("option",{value:"10000"},"10 seconds",-1),s("option",{value:"30000"},"30 seconds",-1),s("option",{value:"60000"},"1 minute",-1),s("option",{value:"300000"},"5 minutes",-1)]),544),[[In,n.value.autoSaveInterval]])])])]),s("div",wE,[l[17]||(l[17]=s("h3",null,"Display",-1)),s("div",$E,[s("label",null,[l[15]||(l[15]=Me(" Number Format: ")),Fe(s("select",{"onUpdate:modelValue":l[4]||(l[4]=v=>n.value.numberFormat=v),onChange:o},l[14]||(l[14]=[s("option",{value:"scientific"},"Scientific (1.23e4)",-1),s("option",{value:"engineering"},"Engineering (12.3K)",-1),s("option",{value:"mixed"},"Mixed",-1)]),544),[[In,n.value.numberFormat]])])]),s("div",TE,[s("label",null,[Fe(s("input",{type:"checkbox","onUpdate:modelValue":l[5]||(l[5]=v=>n.value.showTooltips=v),onChange:o},null,544),[[tt,n.value.showTooltips]]),l[16]||(l[16]=Me(" Show Tooltips "))])])]),s("div",{class:"settings-section"},[l[18]||(l[18]=s("h3",null,"Save/Load",-1)),s("div",{class:"setting-item"},[s("button",{class:"btn btn-primary",onClick:i},"Export Save"),s("button",{class:"btn btn-secondary",onClick:a},"Import Save")]),s("div",{class:"setting-item"},[s("button",{class:"btn btn-warning",onClick:r},"Reset Game")])])])])]))}}),AE=Ge(ME,[["__scopeId","data-v-b0726ccc"]]),RE={id:"app"},xE={key:0,class:"error-container"},IE={class:"main-container"},PE={class:"game-content"},NE={key:1,class:"layer-placeholder"},OE={key:2,class:"layer-placeholder"},LE={class:"side-panel"},UE={class:"panel-section"},FE={class:"panel-section"},BE={class:"quick-actions"},DE={key:0,class:"panel-section"},qE=Ve({__name:"App",setup(e){const t=ge();try{Cr(),Jo(),window.__game_store__=t}catch(_){console.error("Initialization error:",_)}const n=W(!1),o=W(!1),i=W(null),a=Z(()=>[{id:"starmap",name:"Star Map",visible:()=>!0},{id:"filaments",name:"Cosmic Filaments",visible:()=>!0},{id:"evolution",name:"Evolution",visible:()=>t.starlight.amount.gte(5)},{id:"nebula",name:"Nebula Grid",visible:()=>t.starlight.amount.gte(1)},{id:"pulsation",name:"Star Pulsation",visible:()=>t.starlight.amount.gte(2)},{id:"railroad",name:"Rail Road",visible:()=>t.starlight.amount.gte(8)},{id:"memory",name:"Star Memory",visible:()=>t.starlight.amount.gte(3)},{id:"upgrades",name:"Upgrade Tree",visible:()=>t.starlight.amount.gte(1)},{id:"automation",name:"Automation",visible:()=>t.starlight.amount.gte(15)},{id:"events",name:"Special Events",visible:()=>t.starlight.amount.gte(15)},{id:"condensation",name:"Condensation",visible:()=>t.starlight.amount.gte(20)},{id:"reset",name:"Reset",visible:()=>!0},{id:"settings",name:"Settings",visible:()=>!0},{id:"help",name:"Help",visible:()=>!0},{id:"achievements",name:"Achievements",visible:()=>!0}]);function r(){window.location.reload()}function u(_){console.log("Layer changed to:",_)}function l(_){console.log("Tab changed to:",_)}function v(){try{t.performStarburst()}catch(_){console.error("Starburst error:",_)}}function d(){try{t.performStarlightReset()}catch(_){console.error("Starlight reset error:",_)}}function c(){try{t.save()}catch(_){console.error("Save game error:",_)}}return kt(()=>{try{const _=Je.getDeviceInfo();(_.isMobile||_.isLowEndDevice)&&(console.log("Mobile optimizations enabled",{device:_.platform,isLowEnd:_.isLowEndDevice,screenSize:_.screenSize,connection:_.connectionType}),o.value=!0,setTimeout(()=>{o.value=!1},5e3))}catch(_){console.error("Error in mobile optimization setup:",_)}}),(_,T)=>(f(),m("div",RE,[i.value?(f(),m("div",xE,[T[3]||(T[3]=s("h2",null,"Initialization Error",-1)),s("p",null,w(i.value),1),s("button",{onClick:r,class:"retry-button"},"Retry")])):(f(),m(ue,{key:1},[he(Pc,{onOpenSettings:T[0]||(T[0]=V=>n.value=!0)}),s("div",IE,[s("div",PE,[he(Gc,{onLayerChanged:u},{default:Ae(({currentLayer:V})=>[V==="glare"?(f(),$t(Kc,{key:0,tabs:a.value,defaultTab:"starmap",onTabChanged:l},{default:Ae(({activeTab:F})=>[he(dt,{tabId:"starmap",activeTab:F},{default:Ae(()=>[he(cf)]),_:2},1032,["activeTab"]),he(dt,{tabId:"filaments",activeTab:F},{default:Ae(()=>[he(np)]),_:2},1032,["activeTab"]),he(dt,{tabId:"evolution",activeTab:F},{default:Ae(()=>[he(Vp)]),_:2},1032,["activeTab"]),he(dt,{tabId:"nebula",activeTab:F},{default:Ae(()=>[he(hv)]),_:2},1032,["activeTab"]),he(dt,{tabId:"pulsation",activeTab:F},{default:Ae(()=>[he(Jv)]),_:2},1032,["activeTab"]),he(dt,{tabId:"railroad",activeTab:F},{default:Ae(()=>[he(Yh)]),_:2},1032,["activeTab"]),he(dt,{tabId:"memory",activeTab:F},{default:Ae(()=>[he(Eg)]),_:2},1032,["activeTab"]),he(dt,{tabId:"upgrades",activeTab:F},{default:Ae(()=>[he(my)]),_:2},1032,["activeTab"]),he(dt,{tabId:"automation",activeTab:F},{default:Ae(()=>[he(Py)]),_:2},1032,["activeTab"]),he(dt,{tabId:"events",activeTab:F},{default:Ae(()=>[he(f1)]),_:2},1032,["activeTab"]),he(dt,{tabId:"condensation",activeTab:F},{default:Ae(()=>[he(Mb)]),_:2},1032,["activeTab"]),he(dt,{tabId:"reset",activeTab:F},{default:Ae(()=>[he(a0)]),_:2},1032,["activeTab"]),he(dt,{tabId:"settings",activeTab:F},{default:Ae(()=>[he(U_)]),_:2},1032,["activeTab"]),he(dt,{tabId:"help",activeTab:F},{default:Ae(()=>[he(VS)]),_:2},1032,["activeTab"]),he(dt,{tabId:"achievements",activeTab:F},{default:Ae(()=>[he(yE)]),_:2},1032,["activeTab"])]),_:1},8,["tabs"])):V==="nova"?(f(),m("div",NE,T[4]||(T[4]=[s("h2",null,"Nova Layer",-1),s("p",null,"Coming soon! The Nova Layer will introduce new mechanics and challenges.",-1)]))):(f(),m("div",OE,[s("h2",null,w(V)+" Layer",1),T[5]||(T[5]=s("p",null,"This layer is not yet implemented.",-1))]))]),_:1})]),s("div",LE,[s("div",UE,[T[6]||(T[6]=s("h3",{class:"panel-title"},"Production Info",-1)),he(S0)]),s("div",FE,[T[10]||(T[10]=s("h3",{class:"panel-title"},"Quick Actions",-1)),s("div",BE,[k(t).canStarburst?(f(),$t(bt,{key:0,variant:"primary",size:"medium",onClick:v,particles:!0,glow:!0},{default:Ae(()=>T[7]||(T[7]=[Me(" Starburst ")])),_:1,__:[7]})):ne("",!0),k(t).canGetStarlight?(f(),$t(bt,{key:1,variant:"secondary",size:"medium",onClick:d,particles:!0,glow:!0},{default:Ae(()=>T[8]||(T[8]=[Me(" Get Starlight ")])),_:1,__:[8]})):ne("",!0),he(bt,{variant:"ghost",size:"small",onClick:c,clickEffect:!0},{default:Ae(()=>T[9]||(T[9]=[Me(" Save Game ")])),_:1,__:[9]})])]),o.value?(f(),m("div",DE,[T[11]||(T[11]=s("h3",{class:"panel-title"},"Performance",-1)),he(c_)])):ne("",!0)])])],64)),he(x0),n.value?(f(),$t(AE,{key:2,onClose:T[1]||(T[1]=V=>n.value=!1)})):ne("",!0),o.value?ne("",!0):(f(),m("button",{key:3,class:"performance-toggle",onClick:T[2]||(T[2]=V=>o.value=!0),title:"Show Performance Monitor"}," 📊 "))]))}}),VE=Ge(qE,[["__scopeId","data-v-d9c18321"]]),kr=oc(VE),GE=rc();kr.use(GE);kr.mount("#app");
